<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>AKASHA | A Deusa Digital</title>
    
    <!-- Fontes de Luxo -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;500&display=swap" rel="stylesheet">

    <style>
        /* ════════ CORE ════════ */
        :root {
            --bg: #030305;
            --gold: #D4AF37;
            --gold-glow: #f9eac3;
            --ether: #8B5CF6;
            --font-head: 'Cinzel', serif;
            --font-body: 'Montserrat', sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            background: var(--bg); 
            color: #fff; 
            font-family: var(--font-body); 
            overflow: hidden; 
            width: 100vw; height: 100vh;
            cursor: none; /* Cursor customizado */
        }

        /* ════════ CURSOR ════════ */
        #cursor {
            position: fixed; top: 0; left: 0; width: 20px; height: 20px;
            border: 1px solid var(--gold); border-radius: 50%;
            pointer-events: none; z-index: 9999;
            transform: translate(-50%, -50%); transition: transform 0.1s;
            mix-blend-mode: difference;
        }
        #cursor.hover { transform: translate(-50%, -50%) scale(2.5); background: rgba(212, 175, 55, 0.2); }

        /* ════════ CANVAS ════════ */
        #webgl-stage { position: fixed; inset: 0; z-index: 1; }

        /* ════════ UI ════════ */
        .ui-layer {
            position: fixed; inset: 0; z-index: 10; pointer-events: none;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }

        /* Hero Text */
        #hero-text {
            text-align: center; transition: opacity 1s; opacity: 1;
        }
        h1 {
            font-family: var(--font-head); font-size: clamp(2rem, 5vw, 4rem);
            color: transparent; -webkit-text-stroke: 1px rgba(212, 175, 55, 0.8);
            letter-spacing: 0.3em; text-transform: uppercase;
            margin-bottom: 20px;
        }
        .subtitle {
            font-size: 0.8rem; letter-spacing: 0.5em; color: var(--gold); text-transform: uppercase;
        }
        .hint {
            margin-top: 50px; font-size: 0.7rem; color: #666; letter-spacing: 0.2em;
            animation: pulse 2s infinite;
        }

        /* Content Quadrants */
        .quadrant {
            position: absolute; width: 250px; padding: 20px;
            border-left: 2px solid var(--gold);
            background: rgba(0,0,0,0.4); backdrop-filter: blur(10px);
            opacity: 0; transition: all 1s ease; transform: scale(0.9);
            pointer-events: none; /* Ativa só quando aberto */
        }
        .quadrant h3 { color: var(--gold); font-family: var(--font-head); margin-bottom: 10px; font-size: 1.1rem; }
        .quadrant p { font-size: 0.8rem; line-height: 1.5; color: #ddd; }
        .quadrant span { display: block; margin-top: 10px; font-size: 0.6rem; color: var(--ether); text-transform: uppercase; letter-spacing: 0.1em; }

        .quadrant.active { opacity: 1; transform: scale(1); pointer-events: auto; }

        /* Positions */
        #q1 { top: 15%; left: 10%; }
        #q2 { top: 15%; right: 10%; text-align: right; border-left: none; border-right: 2px solid var(--gold); }
        #q3 { bottom: 15%; left: 10%; }
        #q4 { bottom: 15%; right: 10%; text-align: right; border-left: none; border-right: 2px solid var(--gold); }

        /* Final CTA */
        #cta-container {
            position: absolute; bottom: 10%; left: 50%; transform: translateX(-50%);
            opacity: 0; transition: opacity 1s; pointer-events: none;
            text-align: center;
        }
        #cta-container.active { opacity: 1; pointer-events: auto; }
        
        .cta-btn {
            background: transparent; border: 1px solid var(--gold); color: var(--gold);
            padding: 15px 40px; font-family: var(--font-head); font-size: 1rem; letter-spacing: 0.2em;
            cursor: pointer; transition: 0.4s; text-transform: uppercase;
        }
        .cta-btn:hover { background: var(--gold); color: #000; box-shadow: 0 0 30px var(--gold); }

        @keyframes pulse { 0%, 100% { opacity: 0.5; } 50% { opacity: 1; } }
        
        /* Mobile adjust */
        @media (max-width: 768px) {
            .quadrant { width: 160px; font-size: 0.8em; padding: 10px; }
            #q1, #q2 { top: 5%; } #q3, #q4 { bottom: 5%; }
        }
    </style>
</head>
<body>

    <div id="cursor"></div>

    <canvas id="webgl-stage"></canvas>

    <div class="ui-layer">
        <div id="hero-text">
            <h1>Akasha</h1>
            <div class="subtitle">A Máscara da Essência</div>
            <div class="hint">CLIQUE NA FACE PARA REVELAR</div>
        </div>

        <div id="q1" class="quadrant">
            <h3>BRANDING DA ALMA</h3>
            <p>Sua história é o código fonte. Escavação profunda de registros para um posicionamento único.</p>
            <span>Setor 01</span>
        </div>

        <div id="q2" class="quadrant">
            <h3>CORPO DIGITAL</h3>
            <p>Construímos sua estrutura real. Site, identidade e presença navegável inclusos.</p>
            <span>Setor 02</span>
        </div>

        <div id="q3" class="quadrant">
            <h3>BÚSSOLA INTERNA</h3>
            <p>Alinhamento energético para que sua imagem vibre na frequência da prosperidade.</p>
            <span>Setor 03</span>
        </div>

        <div id="q4" class="quadrant">
            <h3>PONTE MATERIAL</h3>
            <p>Plano de 90 dias. Transformamos o etéreo em resultados sólidos no mundo físico.</p>
            <span>Setor 04</span>
        </div>

        <div id="cta-container">
            <button class="cta-btn" onclick="window.location.href='https://akashahub.com.br/mentoria'">
                ACESSAR MENTORIA
            </button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <script>
        // ══════════════════════════════════════════════════════════════
        //  AKASHA ENGINE: THE DIVINE FACE
        // ══════════════════════════════════════════════════════════════

        const CONFIG = {
            gold: 0xD4AF37,
            skin: 0xffeebb,
            void: 0x030305,
            ether: 0x8B5CF6
        };

        const state = {
            isOpen: false,
            mouseX: 0,
            mouseY: 0
        };

        // 1. SETUP
        const canvas = document.querySelector('#webgl-stage');
        const renderer = new THREE.WebGLRenderer({ canvas, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        renderer.toneMapping = THREE.ACESFilmicToneMapping;
        
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(CONFIG.void);
        scene.fog = new THREE.FogExp2(CONFIG.void, 0.02);

        const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 100);
        camera.position.z = 12;

        // 2. LUZES (Cinemática)
        const ambLight = new THREE.AmbientLight(0xffffff, 0.2);
        scene.add(ambLight);

        const spotLight = new THREE.SpotLight(CONFIG.gold, 2);
        spotLight.position.set(10, 10, 10);
        spotLight.castShadow = true;
        scene.add(spotLight);

        const rimLight = new THREE.SpotLight(CONFIG.ether, 5);
        rimLight.position.set(-10, 5, -10);
        scene.add(rimLight);

        // 3. O ROSTO (ESCULTURA PROCEDURAL)
        const headGroup = new THREE.Group();
        scene.add(headGroup);

        // Material "Pele de Deusa/Ouro"
        const faceMat = new THREE.MeshPhysicalMaterial({
            color: CONFIG.gold,
            metalness: 0.6,
            roughness: 0.2,
            clearcoat: 1.0,
            clearcoatRoughness: 0.1,
            emissive: 0x221100,
            emissiveIntensity: 0.2
        });

        const quadrants = [];

        // Função para criar um pedaço do rosto deformado
        function createFacePiece(offsetX, offsetY) {
            // Geometria densa para deformação suave
            const geo = new THREE.IcosahedronGeometry(2.5, 20);
            const pos = geo.attributes.position;
            const vector = new THREE.Vector3();

            // Esculpir o rosto matematicamente (Deformação de Vértices)
            for (let i = 0; i < pos.count; i++) {
                vector.set(pos.getX(i), pos.getY(i), pos.getZ(i));
                
                // Formato de cabeça (afinar queixo, arredondar topo)
                if(vector.y < 0) vector.x *= 0.85; // Queixo
                if(vector.z < 0) vector.z *= 0.7;  // Crânio atrás

                // Cavidade Ocular (aproximação)
                const eyeL = new THREE.Vector3(-0.8, 0.2, 2.0);
                const eyeR = new THREE.Vector3(0.8, 0.2, 2.0);
                if (vector.distanceTo(eyeL) < 0.6 || vector.distanceTo(eyeR) < 0.6) {
                    vector.z -= 0.3; // Afundar olhos
                }

                // Nariz (saliência central)
                if (Math.abs(vector.x) < 0.3 && vector.y > -0.5 && vector.y < 0.5 && vector.z > 0) {
                    vector.z += 0.4 * (1 - Math.abs(vector.y));
                }

                // Lábios
                if (Math.abs(vector.x) < 0.5 && vector.y > -0.8 && vector.y < -0.4 && vector.z > 0) {
                    vector.z += 0.1;
                }

                // Maçãs do rosto
                if (Math.abs(vector.x) > 0.8 && vector.y > -0.2 && vector.y < 0.3 && vector.z > 0) {
                    vector.z += 0.2;
                }

                pos.setXYZ(i, vector.x, vector.y, vector.z);
            }
            
            geo.computeVertexNormals();

            const mesh = new THREE.Mesh(geo, faceMat);
            
            // Dados para animação de abertura
            mesh.userData = {
                closedPos: new THREE.Vector3(0, 0, 0),
                openPos: new THREE.Vector3(offsetX * 1.5, offsetY * 1.5, 0), // Direção da explosão
                rotAxis: new THREE.Vector3(offsetY, offsetX, 0)
            };

            // Clipping sutil (movemos a geometria para que o centro seja 0,0)
            // Na prática, movemos a mesh inteira depois
            
            headGroup.add(mesh);
            quadrants.push(mesh);
        }

        // Criar os 4 quadrantes (TopL, TopR, BotL, BotR)
        // Usamos máscaras de recorte visualmente simuladas pela posição
        createFacePiece(-1, 1);
        createFacePiece(1, 1);
        createFacePiece(-1, -1);
        createFacePiece(1, -1);

        // 4. O CÉREBRO CÓSMICO (INTERIOR)
        const innerGroup = new THREE.Group();
        scene.add(innerGroup);
        innerGroup.scale.set(0,0,0); // Escondido inicialmente

        // Cristal Pineal
        const crystalGeo = new THREE.OctahedronGeometry(0.8, 0);
        const crystalMat = new THREE.MeshPhysicalMaterial({
            color: CONFIG.ether, emissive: CONFIG.ether, emissiveIntensity: 2,
            transmission: 0.9, thickness: 1, roughness: 0
        });
        const crystal = new THREE.Mesh(crystalGeo, crystalMat);
        innerGroup.add(crystal);

        // Partículas Neurais
        const pGeo = new THREE.BufferGeometry();
        const pPos = [];
        for(let i=0; i<300; i++) pPos.push((Math.random()-0.5)*3, (Math.random()-0.5)*3, (Math.random()-0.5)*3);
        pGeo.setAttribute('position', new THREE.Float32BufferAttribute(pPos, 3));
        const pMat = new THREE.PointsMaterial({color: CONFIG.gold, size: 0.05, transparent: true, opacity: 0.6});
        const particles = new THREE.Points(pGeo, pMat);
        innerGroup.add(particles);


        // 5. LÓGICA DE ANIMAÇÃO
        const cursor = document.getElementById('cursor');

        // Mouse Move (Olhar/Rotação)
        document.addEventListener('mousemove', (e) => {
            // Atualiza cursor
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';

            // Normaliza mouse -1 a 1
            state.mouseX = (e.clientX / window.innerWidth) * 2 - 1;
            state.mouseY = -(e.clientY / window.innerHeight) * 2 + 1;

            // Se fechado, o rosto olha para o mouse
            if(!state.isOpen) {
                gsap.to(headGroup.rotation, {
                    y: state.mouseX * 0.5,
                    x: -state.mouseY * 0.5,
                    duration: 1
                });
            } else {
                // Se aberto, movimento sutil de paralaxe
                gsap.to(innerGroup.rotation, {
                    y: state.mouseX * 0.2,
                    x: -state.mouseY * 0.2,
                    duration: 2
                });
            }
        });

        // Click (Abrir/Fechar)
        document.addEventListener('click', (e) => {
            if(!state.isOpen) {
                // ABRIR
                openFace();
            } else {
                // Verificar clique no cristal
                const raycaster = new THREE.Raycaster();
                raycaster.setFromCamera(new THREE.Vector2(state.mouseX, state.mouseY), camera);
                const intersects = raycaster.intersectObject(crystal);
                
                if(intersects.length > 0) {
                    // Clique no cristal -> Checkout
                    window.location.href = 'https://akashahub.com.br/mentoria';
                } 
                // Se quiser fechar ao clicar fora, descomente:
                // else { closeFace(); }
            }
        });

        // Hover Effect
        document.addEventListener('mousemove', (e) => {
            if(state.isOpen) {
                const raycaster = new THREE.Raycaster();
                raycaster.setFromCamera(new THREE.Vector2(state.mouseX, state.mouseY), camera);
                const intersects = raycaster.intersectObject(crystal);
                if(intersects.length > 0) {
                    cursor.classList.add('hover');
                    document.body.style.cursor = 'pointer';
                } else {
                    cursor.classList.remove('hover');
                    document.body.style.cursor = 'none';
                }
            }
        });


        function openFace() {
            state.isOpen = true;
            
            // 1. Esconder Texto Hero
            gsap.to('#hero-text', { opacity: 0, duration: 0.5 });

            // 2. Explodir Quadrantes
            quadrants.forEach(q => {
                gsap.to(q.position, {
                    x: q.userData.openPos.x,
                    y: q.userData.openPos.y,
                    duration: 1.5,
                    ease: "power3.out"
                });
                gsap.to(q.rotation, {
                    x: q.userData.rotAxis.x * 0.2,
                    y: q.userData.rotAxis.y * 0.2,
                    duration: 1.5
                });
            });

            // 3. Revelar Cérebro/Cristal
            gsap.to(innerGroup.scale, { x: 1, y: 1, z: 1, duration: 1, delay: 0.2, ease: "back.out(1.7)" });

            // 4. Mostrar UI de Quadrantes e CTA
            document.querySelectorAll('.quadrant').forEach((el, i) => {
                setTimeout(() => el.classList.add('active'), 500 + (i * 100));
            });
            document.getElementById('cta-container').classList.add('active');
        }

        function closeFace() {
            state.isOpen = false;
            
            // Restaurar Texto Hero
            gsap.to('#hero-text', { opacity: 1, delay: 0.5, duration: 0.5 });

            // Fechar Quadrantes
            quadrants.forEach(q => {
                gsap.to(q.position, { x: 0, y: 0, duration: 1.2, ease: "power3.inOut" });
                gsap.to(q.rotation, { x: 0, y: 0, duration: 1.2 });
            });

            // Esconder Cérebro
            gsap.to(innerGroup.scale, { x: 0, y: 0, z: 0, duration: 0.5 });

            // Esconder UI
            document.querySelectorAll('.quadrant').forEach(el => el.classList.remove('active'));
            document.getElementById('cta-container').classList.remove('active');
        }

        // Loop de Renderização
        function animate() {
            requestAnimationFrame(animate);
            
            const time = Date.now() * 0.001;

            // Animação Idle do Cristal
            crystal.rotation.y += 0.01;
            crystal.rotation.x = Math.sin(time) * 0.1;
            
            // Pulso
            if(state.isOpen) {
                const s = 1 + Math.sin(time * 2) * 0.05;
                crystal.scale.set(s,s,s);
            }

            // Partículas orbitando
            particles.rotation.y = time * 0.1;

            renderer.render(scene, camera);
        }

        animate();

        // Resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

    </script>
</body>
</html>
