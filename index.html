<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="AkashaHub â€” Portal de Despertar. Saia da Matrix. Governe sua Realidade.">
    <title>AKASHA HUB | Portal de Despertar</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Cinzel:wght@400;600&family=Rajdhani:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --void:       #06060F;
            --deep:       #0A0A18;
            --gold:       #C9A84C;
            --gold-bright:#FFD700;
            --gold-dim:   #8A6E2A;
            --matrix:     #00FF41;
            --matrix-dim: #003B0F;
            --cosmic:     #4A90E2;
            --cosmic-dim: #1A3A6A;
            --white-e:    rgba(255,255,255,0.85);
            --font-deco:  'Cinzel Decorative', serif;
            --font-title: 'Cinzel', serif;
            --font-body:  'Rajdhani', sans-serif;
        }

        *, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

        html, body {
            width: 100%; height: 100%;
            overflow: hidden;
            background: var(--void);
            color: #fff;
            font-family: var(--font-body);
            cursor: none;
        }

        /* â”€â”€ CUSTOM CURSOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #cursor {
            position: fixed;
            width: 12px; height: 12px;
            border-radius: 50%;
            background: var(--gold);
            box-shadow: 0 0 20px var(--gold), 0 0 40px rgba(201,168,76,0.4);
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%,-50%);
            transition: width .2s, height .2s, background .2s;
            mix-blend-mode: screen;
        }
        #cursor-ring {
            position: fixed;
            width: 40px; height: 40px;
            border: 1px solid rgba(201,168,76,0.5);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9998;
            transform: translate(-50%,-50%);
            transition: width .4s, height .4s, transform .08s;
        }
        body.hovering #cursor { width:20px; height:20px; background: var(--gold-bright); }
        body.hovering #cursor-ring { width:60px; height:60px; border-color: var(--gold); }

        /* â”€â”€ WEBGL CANVAS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #stage {
            position: fixed; inset: 0;
            width: 100%; height: 100%;
            z-index: 1;
        }

        /* â”€â”€ MATRIX RAIN CANVAS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #matrix-canvas {
            position: fixed; inset: 0;
            width: 100%; height: 100%;
            z-index: 2;
            opacity: 0.07;
            pointer-events: none;
        }

        /* â”€â”€ VIGNETTE & OVERLAY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .vignette {
            position: fixed; inset: 0; z-index: 3;
            background: radial-gradient(ellipse at center,
                transparent 25%,
                rgba(6,6,15,0.5) 65%,
                rgba(6,6,15,0.92) 100%);
            pointer-events: none;
        }

        /* â”€â”€ SCANLINES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .scanlines {
            position: fixed; inset: 0; z-index: 4;
            background: repeating-linear-gradient(0deg,
                rgba(0,0,0,0.03), rgba(0,0,0,0.03) 1px,
                transparent 1px, transparent 2px);
            pointer-events: none;
            opacity: 0.5;
        }

        /* â”€â”€ PYRAMIDS SILHOUETTE (SVG background) â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .pyramids-bg {
            position: fixed;
            bottom: 0; left: 0; right: 0;
            height: 35vh;
            z-index: 2;
            pointer-events: none;
            background: 
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 300'%3E%3Cpolygon points='120,300 360,60 600,300' fill='%230A0A18'/%3E%3Cpolygon points='320,300 520,100 720,300' fill='%230D0D20'/%3E%3Cpolygon points='750,300 1000,30 1250,300' fill='%230A0A18'/%3E%3Cpolygon points='1000,300 1180,110 1360,300' fill='%230D0D20'/%3E%3C/svg%3E")
                bottom/cover no-repeat;
            opacity: 0.6;
        }

        /* â”€â”€ STARS LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .stars-svg {
            position: fixed; inset: 0; z-index: 2;
            pointer-events: none;
            opacity: 0.6;
        }

        /* â”€â”€ UI LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #ui {
            position: fixed; inset: 0; z-index: 10;
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            pointer-events: none;
        }

        /* â”€â”€ LOADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #loader {
            position: fixed; inset: 0; z-index: 1000;
            background: var(--void);
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            gap: 24px;
            transition: opacity 1s ease;
        }
        .loader-glyph {
            font-size: 3rem;
            animation: loaderPulse 1.5s ease-in-out infinite;
        }
        .loader-text {
            font-family: var(--font-title);
            font-size: 0.65rem;
            letter-spacing: 0.5em;
            color: var(--gold-dim);
            text-transform: uppercase;
        }
        .loader-bar {
            width: 180px; height: 1px;
            background: rgba(201,168,76,0.15);
            position: relative; overflow: hidden;
        }
        .loader-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--gold-dim), var(--gold-bright));
            width: 0%;
            box-shadow: 0 0 12px var(--gold);
            transition: width 0.4s ease;
        }
        @keyframes loaderPulse {
            0%,100% { opacity:0.4; transform:scale(1); }
            50% { opacity:1; transform:scale(1.1); }
        }

        /* â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .header {
            position: absolute;
            top: 0; left: 0; right: 0;
            display: flex; align-items: center; justify-content: space-between;
            padding: 32px 48px;
            opacity: 0;
            transform: translateY(-20px);
        }

        .logo-mark {
            font-family: var(--font-deco);
            font-size: 1.1rem;
            letter-spacing: 0.4em;
            color: var(--gold);
            text-shadow: 0 0 30px rgba(201,168,76,0.6);
        }

        .nav-links {
            display: flex; gap: 36px;
            pointer-events: auto;
        }
        .nav-link {
            font-family: var(--font-body);
            font-size: 0.65rem;
            letter-spacing: 0.3em;
            color: rgba(255,255,255,0.4);
            text-decoration: none;
            text-transform: uppercase;
            transition: color 0.3s, text-shadow 0.3s;
            cursor: none;
        }
        .nav-link:hover {
            color: var(--gold);
            text-shadow: 0 0 20px rgba(201,168,76,0.5);
        }

        /* â”€â”€ HERO TEXT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .hero-block {
            text-align: center;
            pointer-events: none;
            position: relative;
            z-index: 2;
            margin-bottom: 10px;
        }

        .hero-eyebrow {
            font-family: var(--font-body);
            font-size: 0.6rem;
            letter-spacing: 0.6em;
            color: var(--matrix);
            text-transform: uppercase;
            opacity: 0;
            transform: translateY(10px);
            margin-bottom: 16px;
            text-shadow: 0 0 20px var(--matrix);
        }

        .hero-title {
            font-family: var(--font-deco);
            font-size: clamp(2.8rem, 7vw, 6.5rem);
            font-weight: 700;
            color: var(--gold);
            letter-spacing: 0.15em;
            line-height: 1;
            opacity: 0;
            transform: translateY(20px);
            text-shadow:
                0 0 40px rgba(201,168,76,0.5),
                0 0 80px rgba(201,168,76,0.2);
            margin-bottom: 8px;
        }

        .hero-subtitle {
            font-family: var(--font-title);
            font-size: clamp(0.6rem, 1.5vw, 0.85rem);
            letter-spacing: 0.6em;
            color: rgba(255,255,255,0.35);
            text-transform: uppercase;
            opacity: 0;
            transform: translateY(10px);
            margin-bottom: 48px;
        }

        /* â”€â”€ SPHERE CONTAINER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .sphere-area {
            position: relative;
            width: clamp(280px, 35vw, 500px);
            height: clamp(280px, 35vw, 500px);
            margin: 0 auto;
            touch-action: none;
        }

        /* â”€â”€ DEITY MARKERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .deity {
            position: absolute;
            display: flex; flex-direction: column; align-items: center;
            gap: 8px;
            pointer-events: auto;
            cursor: none;
            opacity: 0;
            transition: opacity 0.3s;
            -webkit-tap-highlight-color: transparent;
        }
        .deity.visible { opacity: 1; }

        .deity-orb {
            width: 52px; height: 52px;
            border-radius: 50%;
            border: 1.5px solid var(--gold-dim);
            background: radial-gradient(ellipse at 35% 35%,
                rgba(201,168,76,0.15) 0%,
                rgba(6,6,15,0.9) 70%);
            display: flex; align-items: center; justify-content: center;
            font-size: 1.3rem;
            position: relative;
            transition: all 0.4s cubic-bezier(0.175,0.885,0.32,1.275);
            box-shadow:
                0 0 15px rgba(201,168,76,0.2),
                inset 0 0 20px rgba(201,168,76,0.05);
        }
        .deity-orb::before {
            content: '';
            position: absolute; inset: -4px;
            border-radius: 50%;
            border: 1px solid rgba(201,168,76,0.2);
            animation: orbRing 4s linear infinite;
        }
        .deity-orb::after {
            content: '';
            position: absolute; inset: -10px;
            border-radius: 50%;
            border: 1px dashed rgba(201,168,76,0.1);
            animation: orbRing 8s linear infinite reverse;
        }
        @keyframes orbRing {
            from { transform: rotate(0deg); }
            to   { transform: rotate(360deg); }
        }

        .deity:hover .deity-orb {
            border-color: var(--gold);
            background: radial-gradient(ellipse at 35% 35%,
                rgba(201,168,76,0.35) 0%,
                rgba(6,6,15,0.85) 70%);
            box-shadow:
                0 0 40px rgba(201,168,76,0.6),
                0 0 80px rgba(201,168,76,0.2),
                inset 0 0 30px rgba(201,168,76,0.15);
            transform: scale(1.15);
        }

        .deity-name {
            font-family: var(--font-title);
            font-size: 0.55rem;
            letter-spacing: 0.3em;
            color: var(--gold-dim);
            text-transform: uppercase;
            transition: color 0.3s;
            white-space: nowrap;
        }
        .deity-role {
            font-size: 0.48rem;
            letter-spacing: 0.2em;
            color: rgba(255,255,255,0.3);
            text-transform: uppercase;
            white-space: nowrap;
        }
        .deity:hover .deity-name { color: var(--gold-bright); text-shadow: 0 0 15px var(--gold); }
        .deity:hover .deity-role { color: rgba(255,255,255,0.6); }

        .deity-level {
            position: absolute;
            top: -4px; right: -4px;
            background: linear-gradient(135deg, var(--gold), var(--gold-bright));
            color: #000;
            font-size: 0.45rem;
            font-weight: 700;
            padding: 2px 5px;
            border-radius: 3px;
            letter-spacing: 0.05em;
        }

        /* Deity positions */
        .deity-anubis { bottom: -30px; left: 50%; transform: translateX(-50%); }
        .deity-horus  { top: -30px;   left: 50%; transform: translateX(-50%); }
        .deity-isis   { top: 50%; left: -70px;   transform: translateY(-50%); }
        .deity-ra     { top: 50%; right: -70px;  transform: translateY(-50%); }

        /* â”€â”€ MANIFESTO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .manifesto {
            position: absolute;
            bottom: 0; left: 0; right: 0;
            text-align: center;
            padding-bottom: 40px;
            pointer-events: none;
            opacity: 0;
            transform: translateY(15px);
        }

        .manifesto-lines {
            font-family: var(--font-body);
            font-size: clamp(0.6rem, 1.2vw, 0.75rem);
            letter-spacing: 0.25em;
            color: rgba(255,255,255,0.25);
            line-height: 2.2;
            margin-bottom: 28px;
        }
        .manifesto-lines em {
            color: rgba(201,168,76,0.5);
            font-style: normal;
        }

        .cta-btn {
            display: inline-block;
            font-family: var(--font-title);
            font-size: 0.65rem;
            letter-spacing: 0.4em;
            color: var(--gold);
            border: 1px solid rgba(201,168,76,0.4);
            padding: 14px 36px;
            text-transform: uppercase;
            text-decoration: none;
            pointer-events: auto;
            cursor: none;
            position: relative;
            transition: all 0.4s ease;
            background: transparent;
            overflow: hidden;
        }
        .cta-btn::before {
            content: '';
            position: absolute; inset: 0;
            background: linear-gradient(90deg, transparent, rgba(201,168,76,0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }
        .cta-btn:hover {
            border-color: var(--gold);
            color: var(--gold-bright);
            box-shadow: 0 0 30px rgba(201,168,76,0.3), inset 0 0 30px rgba(201,168,76,0.05);
        }
        .cta-btn:hover::before { transform: translateX(100%); }
        .cta-btn:active { transform: scale(0.97); }

        /* â”€â”€ CORNER GLYPHS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .corner-glyph {
            position: fixed;
            font-size: 0.5rem;
            letter-spacing: 0.3em;
            color: rgba(201,168,76,0.2);
            font-family: var(--font-body);
            opacity: 0;
        }
        .corner-tl { top: 20px;    left: 20px; }
        .corner-tr { top: 20px;    right: 20px; text-align: right; }
        .corner-bl { bottom: 20px; left: 20px; }
        .corner-br { bottom: 20px; right: 20px; text-align: right; }

        /* â”€â”€ SIDE LINES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .side-line {
            position: fixed;
            background: linear-gradient(to bottom, transparent, rgba(201,168,76,0.3), transparent);
            width: 1px;
            height: 40%;
            top: 30%;
            opacity: 0;
        }
        .side-line-l { left: 32px; }
        .side-line-r { right: 32px; }

        /* â”€â”€ ENIGMA TEXT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #enigma {
            position: fixed;
            bottom: 80px;
            left: 50%; transform: translateX(-50%);
            font-family: var(--font-title);
            font-size: 0.7rem;
            letter-spacing: 0.3em;
            color: var(--matrix);
            text-shadow: 0 0 20px var(--matrix);
            opacity: 0;
            white-space: nowrap;
            z-index: 20;
            pointer-events: none;
            text-align: center;
        }

        /* â”€â”€ PORTAL TRANSITION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #portal-overlay {
            position: fixed; inset: 0; z-index: 500;
            background: radial-gradient(ellipse at center, transparent 0%, rgba(6,6,15,0.98) 100%);
            opacity: 0; pointer-events: none;
            display: flex; align-items: center; justify-content: center;
            flex-direction: column; gap: 20px;
        }
        .portal-ring {
            position: absolute;
            border-radius: 50%;
            border: 1px solid var(--gold);
            opacity: 0;
        }
        #portal-name {
            font-family: var(--font-deco);
            font-size: clamp(1.5rem, 4vw, 3.5rem);
            color: var(--gold);
            letter-spacing: 0.3em;
            opacity: 0;
            text-shadow: 0 0 40px var(--gold);
            position: relative; z-index: 2;
        }
        #portal-sub {
            font-family: var(--font-body);
            font-size: 0.65rem;
            letter-spacing: 0.5em;
            color: rgba(255,255,255,0.4);
            opacity: 0;
            position: relative; z-index: 2;
        }

        /* â”€â”€ FLASH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #flash {
            position: fixed; inset: 0; z-index: 600;
            background: radial-gradient(ellipse at center, #fff 0%, var(--gold-bright) 100%);
            opacity: 0; pointer-events: none;
        }

        /* â”€â”€ ENIGMA PHRASES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #phrase-display {
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            font-family: var(--font-title);
            font-size: clamp(0.8rem, 2vw, 1.2rem);
            color: var(--gold);
            letter-spacing: 0.2em;
            text-align: center;
            opacity: 0;
            z-index: 20;
            pointer-events: none;
            text-shadow: 0 0 30px rgba(201,168,76,0.7);
            max-width: 600px;
            line-height: 1.8;
        }

        /* â”€â”€ SOUND INDICATOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #sound-toggle {
            position: fixed;
            bottom: 32px; right: 48px;
            z-index: 50;
            pointer-events: auto;
            cursor: none;
            display: flex; align-items: center; gap: 8px;
            opacity: 0;
        }
        .sound-bars {
            display: flex; align-items: flex-end; gap: 2px; height: 14px;
        }
        .sound-bar {
            width: 2px;
            background: var(--gold-dim);
            border-radius: 1px;
            transition: height 0.2s, background 0.2s;
        }
        #sound-toggle.active .sound-bar { background: var(--gold); }
        #sound-toggle.active .sound-bar:nth-child(1) { animation: bar1 0.8s ease infinite; }
        #sound-toggle.active .sound-bar:nth-child(2) { animation: bar2 0.6s ease infinite; }
        #sound-toggle.active .sound-bar:nth-child(3) { animation: bar3 1.0s ease infinite; }
        #sound-toggle.active .sound-bar:nth-child(4) { animation: bar2 0.7s ease infinite; }
        @keyframes bar1 { 0%,100%{height:4px} 50%{height:14px} }
        @keyframes bar2 { 0%,100%{height:8px} 50%{height:4px}  }
        @keyframes bar3 { 0%,100%{height:12px} 50%{height:6px} }
        .sound-label {
            font-size: 0.5rem;
            letter-spacing: 0.3em;
            color: var(--gold-dim);
        }
        #sound-toggle:hover .sound-label { color: var(--gold); }

        /* â”€â”€ AUTH BUTTONS (centro-superior) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .auth-bar {
            position: fixed;
            top: 22px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 200;
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0;
            pointer-events: auto;
        }

        .auth-btn {
            font-family: var(--font-title);
            font-size: 0.58rem;
            letter-spacing: 0.35em;
            text-transform: uppercase;
            text-decoration: none;
            padding: 9px 22px;
            border-radius: 2px;
            cursor: none;
            transition: all 0.35s ease;
            display: inline-block;
            white-space: nowrap;
        }

        .auth-btn-login {
            color: var(--gold);
            border: 1px solid rgba(201,168,76,0.35);
            background: rgba(6,6,15,0.6);
            backdrop-filter: blur(10px);
        }
        .auth-btn-login:hover {
            border-color: var(--gold);
            background: rgba(201,168,76,0.08);
            box-shadow: 0 0 20px rgba(201,168,76,0.25);
            color: var(--gold-bright);
        }

        .auth-btn-register {
            color: #000;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-bright) 100%);
            border: 1px solid var(--gold-bright);
            box-shadow: 0 0 20px rgba(201,168,76,0.3);
        }
        .auth-btn-register:hover {
            background: linear-gradient(135deg, var(--gold-bright) 0%, #fff8c0 100%);
            box-shadow: 0 0 35px rgba(255,215,0,0.5), 0 0 60px rgba(201,168,76,0.2);
            transform: scale(1.04);
        }

        .auth-divider {
            width: 1px;
            height: 18px;
            background: rgba(201,168,76,0.2);
        }

        /* â”€â”€ NAV MENU DIREITO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #menu-toggle {
            position: fixed;
            top: 20px;
            right: 28px;
            z-index: 300;
            width: 44px; height: 44px;
            background: rgba(6,6,15,0.75);
            border: 1px solid rgba(201,168,76,0.3);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            cursor: none;
            pointer-events: auto;
            transition: all 0.35s ease;
            backdrop-filter: blur(12px);
            opacity: 0;
        }
        #menu-toggle:hover {
            border-color: var(--gold);
            background: rgba(201,168,76,0.1);
            box-shadow: 0 0 25px rgba(201,168,76,0.35);
        }
        #menu-toggle svg {
            stroke: var(--gold);
            transition: stroke 0.2s;
        }

        /* Hamburger â†’ X animation */
        #menu-toggle .bar-top,
        #menu-toggle .bar-mid,
        #menu-toggle .bar-bot {
            transition: transform 0.35s ease, opacity 0.25s ease;
            transform-origin: center;
        }
        #menu-toggle.open .bar-top { transform: rotate(45deg) translate(4px, 4px); }
        #menu-toggle.open .bar-mid { opacity: 0; transform: scaleX(0); }
        #menu-toggle.open .bar-bot { transform: rotate(-45deg) translate(4px, -4px); }

        /* Overlay */
        #nav-overlay {
            position: fixed; inset: 0;
            background: rgba(6,6,15,0.5);
            backdrop-filter: blur(2px);
            z-index: 250;
            opacity: 0; visibility: hidden;
            transition: all 0.4s ease;
            pointer-events: none;
        }
        #nav-overlay.active { opacity: 1; visibility: visible; pointer-events: auto; }

        /* Panel */
        #nav-panel {
            position: fixed;
            top: 0; right: 0;
            width: 300px; height: 100vh;
            z-index: 280;
            background: linear-gradient(180deg, rgba(6,6,15,0.99) 0%, rgba(10,10,24,0.96) 100%);
            border-left: 1px solid rgba(201,168,76,0.2);
            backdrop-filter: blur(24px);
            padding: 88px 28px 40px;
            transform: translateX(100%);
            transition: transform 0.5s cubic-bezier(0.77,0,0.175,1);
            overflow-y: auto;
            pointer-events: auto;
        }
        #nav-panel.open { transform: translateX(0); }

        .nav-panel-header {
            font-family: var(--font-title);
            font-size: 0.6rem;
            letter-spacing: 0.5em;
            color: rgba(201,168,76,0.4);
            text-transform: uppercase;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(201,168,76,0.15);
        }

        .nav-panel-link {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 13px 16px;
            margin-bottom: 6px;
            text-decoration: none;
            color: rgba(255,255,255,0.6);
            border: 1px solid transparent;
            border-radius: 4px;
            cursor: none;
            transition: all 0.3s ease;
            position: relative;
        }
        .nav-panel-link:hover {
            color: var(--gold-bright);
            border-color: rgba(201,168,76,0.25);
            background: rgba(201,168,76,0.06);
            transform: translateX(4px);
            box-shadow: 0 0 18px rgba(201,168,76,0.1);
        }
        .nav-panel-link:hover .nav-icon { color: var(--gold); }

        .nav-icon {
            font-size: 1rem;
            color: var(--gold-dim);
            width: 20px; text-align: center;
            transition: color 0.3s;
            flex-shrink: 0;
        }

        .nav-link-content { flex: 1; }
        .nav-link-title {
            font-family: var(--font-title);
            font-size: 0.75rem;
            letter-spacing: 0.15em;
            display: block;
            margin-bottom: 2px;
        }
        .nav-link-sub {
            font-size: 0.58rem;
            letter-spacing: 0.1em;
            color: rgba(255,255,255,0.3);
            display: block;
        }

        .nav-panel-divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(201,168,76,0.2), transparent);
            margin: 14px 0;
        }

        .nav-highlight {
            border-color: rgba(201,168,76,0.2) !important;
            background: rgba(201,168,76,0.04);
        }
        .nav-highlight .nav-link-title { color: var(--gold); }
        .nav-highlight::before {
            content: 'â˜…';
            position: absolute;
            top: -7px; right: 10px;
            color: var(--gold);
            font-size: 0.6rem;
        }

        .nav-panel-footer {
            margin-top: 28px;
            padding-top: 18px;
            border-top: 1px solid rgba(201,168,76,0.1);
            font-size: 0.55rem;
            letter-spacing: 0.3em;
            color: rgba(255,255,255,0.2);
            text-align: center;
        }

        /* â”€â”€ RESPONSIVE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        @media (max-width: 768px) {

            /* Cursor nativo no touch */
            body { cursor: auto; }
            #cursor, #cursor-ring { display: none; }
            a, button, .deity { cursor: pointer; }

            /* Header: sÃ³ logo */
            .header { padding: 16px 20px; justify-content: flex-start; }
            .logo-mark { font-size: 0.85rem; letter-spacing: 0.3em; }
            .nav-links { display: none; }

            /* Auth bar: alinhada Ã  direita, espaÃ§o para o toggle */
            .auth-bar {
                left: auto;
                right: 72px;
                transform: none;
                top: 18px;
                gap: 6px;
            }
            .auth-btn { padding: 7px 12px; font-size: 0.5rem; letter-spacing: 0.2em; }
            .auth-divider { display: none; }

            /* Menu-toggle */
            #menu-toggle { right: 16px; top: 16px; width: 40px; height: 40px; }

            /* Nav panel */
            #nav-panel { width: 80vw; max-width: 300px; padding: 80px 20px 32px; }
            .nav-panel-link { padding: 12px 14px; cursor: pointer; }

            /* Hero */
            .hero-block { margin-bottom: 4px; }
            .hero-subtitle { margin-bottom: 24px; letter-spacing: 0.3em; }

            /* Esfera menor */
            .sphere-area {
                width: clamp(200px, 70vw, 300px);
                height: clamp(200px, 70vw, 300px);
            }

            /* Deuses reposicionados */
            .deity-anubis { bottom: -40px; }
            .deity-horus  { top: -40px; }
            .deity-isis   { left: -44px; }
            .deity-ra     { right: -44px; }
            .deity-orb    { width: 40px; height: 40px; font-size: 0.95rem; }
            .deity-name   { font-size: 0.48rem; }
            .deity-role   { display: none; }

            /* Manifesto compacto */
            .manifesto { padding-bottom: 20px; }
            .manifesto-lines {
                font-size: 0.55rem;
                letter-spacing: 0.12em;
                line-height: 2;
                margin-bottom: 18px;
            }
            .cta-btn { padding: 11px 24px; font-size: 0.55rem; letter-spacing: 0.25em; cursor: pointer; }

            /* Elementos decorativos ocultos */
            .corner-glyph { display: none; }
            .side-line    { display: none; }

            /* Enigma */
            #enigma { bottom: 100px; font-size: 0.5rem; letter-spacing: 0.2em; }

            /* Sound */
            #sound-toggle { bottom: 18px; right: 16px; }
            .sound-label  { display: none; }

            /* Pyramids */
            .pyramids-bg { height: 25vh; }
        }

        /* Telas muito pequenas */
        @media (max-width: 380px) {
            .sphere-area { width: 190px; height: 190px; }
            .deity-isis  { left: -38px; }
            .deity-ra    { right: -38px; }
            .deity-orb   { width: 34px; height: 34px; font-size: 0.8rem; }
            .auth-bar    { display: none; }
        }
    </style>
</head>
<body>

<!-- Custom Cursor -->
<div id="cursor"></div>
<div id="cursor-ring"></div>

<!-- Loader -->
<div id="loader">
    <div class="loader-glyph">ğ“‚€</div>
    <div class="loader-text">Inicializando Portal</div>
    <div class="loader-bar"><div class="loader-fill" id="loader-fill"></div></div>
</div>

<!-- Background Layers -->
<canvas id="stage"></canvas>
<canvas id="matrix-canvas"></canvas>

<!-- Stars -->
<svg class="stars-svg" xmlns="http://www.w3.org/2000/svg" id="stars-svg"></svg>

<!-- Atmospheric -->
<div class="vignette"></div>
<div class="scanlines"></div>
<div class="pyramids-bg"></div>

<!-- Corner Glyphs -->
<div class="corner-glyph corner-tl" id="c-tl">ğ“‚€ AKASHA<br>â—ˆ ONLINE</div>
<div class="corner-glyph corner-tr" id="c-tr">PORTAL ATIVO â—ˆ<br>ğ“¹ DESPERTAR</div>
<div class="corner-glyph corner-bl" id="c-bl">ğ“†£ CONSCIÃŠNCIA<br>â—ˆ EXPANDIDA</div>
<div class="corner-glyph corner-br" id="c-br">REALIDADE â—ˆ<br>ğ“‚‹ GOVERNADA</div>

<!-- Side Lines -->
<div class="side-line side-line-l" id="sl-l"></div>
<div class="side-line side-line-r" id="sl-r"></div>

<!-- Enigma Prompt -->
<div id="enigma">â–¸ GIRE A ESFERA PARA ATIVAR â–¸</div>

<!-- Phrase Display -->
<div id="phrase-display"></div>

<!-- Portal Transition -->
<div id="portal-overlay">
    <div class="portal-ring" style="width:80px;height:80px"></div>
    <div class="portal-ring" style="width:180px;height:180px"></div>
    <div class="portal-ring" style="width:300px;height:300px"></div>
    <div class="portal-ring" style="width:450px;height:450px"></div>
    <div class="portal-ring" style="width:650px;height:650px"></div>
    <div id="portal-name">ANÃšBIS</div>
    <div id="portal-sub">PORTAL DIMENSIONAL ATIVADO</div>
</div>
<div id="flash"></div>

<!-- Sound Toggle -->
<div id="sound-toggle">
    <div class="sound-bars">
        <div class="sound-bar" style="height:4px"></div>
        <div class="sound-bar" style="height:10px"></div>
        <div class="sound-bar" style="height:6px"></div>
        <div class="sound-bar" style="height:12px"></div>
    </div>
    <span class="sound-label">SOM</span>
</div>

<!-- â”€â”€ AUTH BUTTONS (centro-superior) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="auth-bar" id="auth-bar">
    <a href="https://akashahub.com.br/login" class="auth-btn auth-btn-login">â—ˆ Entrar</a>
    <div class="auth-divider"></div>
    <a href="https://akashahub.com.br/cadastro" class="auth-btn auth-btn-register">Cadastrar</a>
</div>

<!-- â”€â”€ NAV MENU DIREITO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="nav-overlay"></div>

<button id="menu-toggle" aria-label="Menu de navegaÃ§Ã£o" aria-expanded="false">
    <svg width="18" height="14" viewBox="0 0 18 14" fill="none" stroke-width="1.8" stroke-linecap="round">
        <line class="bar-top" x1="0" y1="1"  x2="18" y2="1"/>
        <line class="bar-mid" x1="0" y1="7"  x2="18" y2="7"/>
        <line class="bar-bot" x1="0" y1="13" x2="18" y2="13"/>
    </svg>
</button>

<nav id="nav-panel" aria-label="Menu principal">
    <div class="nav-panel-header">â—ˆ NavegaÃ§Ã£o â—ˆ</div>

    <a href="https://akashahub.com.br/mentoria" class="nav-panel-link">
        <span class="nav-icon">ğ“¹</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Mentoria</span>
            <span class="nav-link-sub">Programa de desenvolvimento</span>
        </div>
    </a>

    <a href="https://akashahub.com.br/parceria" class="nav-panel-link">
        <span class="nav-icon">ğ“†£</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Parceria</span>
            <span class="nav-link-sub">Patrocinadores & afiliados</span>
        </div>
    </a>

    <a href="https://akashahub.com.br/presencial" class="nav-panel-link">
        <span class="nav-icon">ğ“‡³</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Presencial</span>
            <span class="nav-link-sub">ImersÃ£o & experiÃªncia VIP</span>
        </div>
    </a>

    <a href="https://akashahub.com.br/loja" class="nav-panel-link">
        <span class="nav-icon">ğ“‹¹</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Loja</span>
            <span class="nav-link-sub">Produtos & ferramentas</span>
        </div>
    </a>

    <div class="nav-panel-divider"></div>

    <a href="https://akashahub.com.br/doutrina" class="nav-panel-link">
        <span class="nav-icon">ğ“‚‹</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Doutrina</span>
            <span class="nav-link-sub">Ãudios, livros & conteÃºdos</span>
        </div>
    </a>

    <a href="https://akashahub.com.br/livre/" class="nav-panel-link nav-highlight">
        <span class="nav-icon">ğ“‚€</span>
        <div class="nav-link-content">
            <span class="nav-link-title">SessÃ£o GrÃ¡tis</span>
            <span class="nav-link-sub">Grupos online abertos</span>
        </div>
    </a>

    <div class="nav-panel-footer">ğ“‚€ AKASHA EMPIRE</div>
</nav>


<div id="ui">
    <div class="header" id="header">
        <div class="logo-mark">ğ“‚€ AKASHA</div>
        <nav class="nav-links">
            <a href="https://akashahub.com.br/mentoria" class="nav-link">Mentoria</a>
            <a href="https://akashahub.com.br/vip" class="nav-link">Presencial VIP</a>
            <a href="https://akashahub.com.br/partners" class="nav-link">Parceiros</a>
            <a href="https://akashahub.com.br/livre/" class="nav-link">SessÃµes GrÃ¡tis</a>
        </nav>
    </div>

    <div class="hero-block">
        <div class="hero-eyebrow" id="eyebrow">â—ˆ Portal de Despertar â—ˆ</div>
        <h1 class="hero-title" id="hero-title">AKASHA HUB</h1>
        <p class="hero-subtitle" id="hero-sub">Biblioteca Global do Universo</p>
    </div>

    <!-- Sphere + Deity Markers -->
    <div class="sphere-area" id="sphere-area">
        <!-- Deities injected by JS -->
    </div>

    <!-- Manifesto + CTA -->
    <div class="manifesto" id="manifesto">
        <div class="manifesto-lines">
            Saia da Matrix. &nbsp;<em>Acesse a Biblioteca Global do Universo.</em><br>
            Desperte seu PropÃ³sito. &nbsp;<em>Governe sua Realidade.</em>
        </div>
        <a href="#" class="cta-btn" id="cta">INICIAR TRANSMISSÃƒO</a>
    </div>
</div>

<!-- Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  AKASHA ENGINE v4.0 â€” PORTAL DE DESPERTAR
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â”€â”€ DEITIES DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const DEITIES = [
    { id:'anubis', name:'AnÃºbis', role:'Despertar',  level:'N1', emoji:'ğ“ƒ£', color:'#C9A84C', url:'https://pay.hotmart.com/N104491126Y', cls:'deity-anubis' },
    { id:'horus',  name:'HÃ³rus',  role:'VisÃ£o',      level:'N2', emoji:'ğ“¹', color:'#4A90E2', url:'https://pay.hotmart.com/O104491171B', cls:'deity-horus'  },
    { id:'isis',   name:'Ãsis',   role:'Sabedoria',  level:'N3', emoji:'ğ“‹¹', color:'#9B59B6', url:'https://pay.hotmart.com/F104491235U', cls:'deity-isis'   },
    { id:'ra',     name:'RÃ¡',     role:'LideranÃ§a',  level:'N4', emoji:'ğ“‡³', color:'#FFD700', url:'https://pay.hotmart.com/L104491291E', cls:'deity-ra'     }
];

// â”€â”€ ENIGMA PHRASES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const PHRASES = [
    "Quem se conhece governa sua realidade.",
    "Conhecimento sem aplicaÃ§Ã£o Ã© ilusÃ£o.",
    "VocÃª nÃ£o estÃ¡ clicando. VocÃª estÃ¡ ativando.",
    "A Matrix sÃ³ prende quem nÃ£o sabe que existe.",
    "ConsciÃªncia Ã© o Ãºnico poder que ninguÃ©m pode tirar de vocÃª.",
    "Aqui vocÃª transforma consciÃªncia em posiÃ§Ã£o no mundo.",
    "Saia da Matrix. Governe sua Realidade."
];

// â”€â”€ CUSTOM CURSOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const cursorEl  = document.getElementById('cursor');
const cursorRing = document.getElementById('cursor-ring');
let mx = 0, my = 0, rx = 0, ry = 0;

document.addEventListener('mousemove', e => { mx = e.clientX; my = e.clientY; });
setInterval(() => {
    rx += (mx - rx) * 0.12;
    ry += (my - ry) * 0.12;
    cursorEl.style.left   = mx + 'px';
    cursorEl.style.top    = my + 'px';
    cursorRing.style.left = rx + 'px';
    cursorRing.style.top  = ry + 'px';
}, 16);

document.querySelectorAll('a, button, .deity, #sound-toggle').forEach(el => {
    el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
    el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
});

// â”€â”€ GENERATE STARS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(function generateStars() {
    const svg = document.getElementById('stars-svg');
    const count = 200;
    let html = '';
    for (let i = 0; i < count; i++) {
        const x    = Math.random() * 100;
        const y    = Math.random() * 70;
        const r    = Math.random() * 1.2 + 0.2;
        const op   = Math.random() * 0.6 + 0.1;
        const dur  = (Math.random() * 4 + 2).toFixed(1);
        const del  = (Math.random() * 4).toFixed(1);
        html += `<circle cx="${x}%" cy="${y}%" r="${r}" fill="white" opacity="${op}">
            <animate attributeName="opacity" values="${op};${op*0.2};${op}" dur="${dur}s" begin="${del}s" repeatCount="indefinite"/>
        </circle>`;
    }
    svg.innerHTML = html;
})();

// â”€â”€ MATRIX RAIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(function matrixRain() {
    const canvas = document.getElementById('matrix-canvas');
    const ctx    = canvas.getContext('2d');
    canvas.width  = window.innerWidth;
    canvas.height = window.innerHeight;

    const chars  = 'ã‚¢ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³01ã‚¢BCDEFGHIJKLMNOPQRSTUVWXYZğ“‚€ğ“¹ğ“†£ğ“‡³ğ“‹¹01';
    const cols   = Math.floor(canvas.width / 18);
    const drops  = Array(cols).fill(1);

    function draw() {
        ctx.fillStyle = 'rgba(6,6,15,0.05)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#00FF41';
        ctx.font = '14px monospace';
        drops.forEach((y, i) => {
            const c = chars[Math.floor(Math.random() * chars.length)];
            ctx.fillText(c, i * 18, y * 18);
            if (y * 18 > canvas.height && Math.random() > 0.975) drops[i] = 0;
            drops[i]++;
        });
    }

    setInterval(draw, 50);
    window.addEventListener('resize', () => {
        canvas.width  = window.innerWidth;
        canvas.height = window.innerHeight;
    });
})();

// â”€â”€ THREE.JS: ESFERA AKÃSHICA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const threeCanvas = document.getElementById('stage');
const renderer = new THREE.WebGLRenderer({
    canvas: threeCanvas,
    antialias: true,
    alpha: true,
    powerPreference: 'high-performance'
});
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
renderer.toneMapping = THREE.ACESFilmicToneMapping;
renderer.toneMappingExposure = 1.0;

const scene  = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 100);
camera.position.set(0, 0, 7);

// Lighting
scene.add(new THREE.AmbientLight(0x111122, 2));
const goldLight = new THREE.PointLight(0xC9A84C, 3, 15);
goldLight.position.set(2, 2, 4);
scene.add(goldLight);
const blueLight = new THREE.PointLight(0x4A90E2, 2, 15);
blueLight.position.set(-3, -1, 3);
scene.add(blueLight);

// â”€â”€ SACRED GEOMETRY INNER SPHERE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const innerGeo = new THREE.IcosahedronGeometry(1.3, 2);
const innerMat = new THREE.MeshStandardMaterial({
    color: 0x0A0A18,
    metalness: 0.1,
    roughness: 0.8,
    wireframe: false,
    emissive: 0x1A1A3A,
    emissiveIntensity: 0.5
});
const innerSphere = new THREE.Mesh(innerGeo, innerMat);
scene.add(innerSphere);

// â”€â”€ OUTER TRANSLUCENT SPHERE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const outerShader = {
    vertex: `
        varying vec3 vNormal;
        varying vec3 vPos;
        varying vec2 vUv;
        void main() {
            vNormal = normalize(normalMatrix * normal);
            vPos    = position;
            vUv     = uv;
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
    `,
    fragment: `
        uniform float uTime;
        varying vec3 vNormal;
        varying vec3 vPos;
        varying vec2 vUv;

        float fresnel(vec3 n, float power) {
            return pow(1.0 - abs(dot(n, vec3(0.0, 0.0, 1.0))), power);
        }

        void main() {
            float fr      = fresnel(vNormal, 2.5);
            float pulse   = sin(uTime * 1.2) * 0.5 + 0.5;
            float grid    = step(0.97, fract(vUv.y * 30.0 + uTime * 0.1))
                          + step(0.97, fract(vUv.x * 30.0 - uTime * 0.08));
            grid = clamp(grid, 0.0, 1.0);

            vec3 goldColor  = vec3(0.788, 0.659, 0.298);
            vec3 blueColor  = vec3(0.29, 0.565, 0.886);
            vec3 matrixColor= vec3(0.0, 1.0, 0.255);

            vec3 fresnelColor = mix(blueColor, goldColor, fr);
            vec3 baseColor    = mix(vec3(0.02, 0.02, 0.06), fresnelColor, fr * 0.7);
            vec3 gridColor    = mix(baseColor, goldColor * 0.6, grid * 0.4);
            vec3 matrixMix    = mix(gridColor, matrixColor * 0.3, grid * pulse * 0.15);

            float alpha = fr * 0.65 + grid * 0.2 + pulse * 0.05;
            gl_FragColor = vec4(matrixMix, clamp(alpha, 0.0, 0.8));
        }
    `
};

const outerGeo = new THREE.SphereGeometry(1.65, 64, 64);
const outerMat = new THREE.ShaderMaterial({
    vertexShader:   outerShader.vertex,
    fragmentShader: outerShader.fragment,
    uniforms: { uTime: { value: 0 } },
    transparent: true,
    side: THREE.DoubleSide,
    blending: THREE.AdditiveBlending,
    depthWrite: false
});
const outerSphere = new THREE.Mesh(outerGeo, outerMat);
scene.add(outerSphere);

// â”€â”€ WIREFRAME ICOSAHEDRON (Sacred Geometry) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const sacredGeo = new THREE.IcosahedronGeometry(1.5, 1);
const sacredMat = new THREE.MeshBasicMaterial({
    color: 0xC9A84C,
    wireframe: true,
    transparent: true,
    opacity: 0.08
});
const sacredMesh = new THREE.Mesh(sacredGeo, sacredMat);
scene.add(sacredMesh);

// â”€â”€ ENERGY RINGS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const rings = [];
[1.9, 2.1, 2.4].forEach((r, i) => {
    const rGeo = new THREE.TorusGeometry(r, 0.004, 8, 120);
    const rMat = new THREE.MeshBasicMaterial({
        color: i === 0 ? 0xC9A84C : i === 1 ? 0x4A90E2 : 0x00FF41,
        transparent: true,
        opacity: 0.3 - i * 0.07
    });
    const ring = new THREE.Mesh(rGeo, rMat);
    ring.rotation.x = Math.PI / 2 + i * 0.3;
    ring.rotation.z = i * 0.5;
    scene.add(ring);
    rings.push({ mesh: ring, speed: 0.003 + i * 0.002, axis: i % 2 === 0 ? 'y' : 'x' });
});

// â”€â”€ PARTICLE SYSTEM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const PARTICLE_COUNT = 800;
const partGeo  = new THREE.BufferGeometry();
const partPos  = new Float32Array(PARTICLE_COUNT * 3);
const partVel  = new Float32Array(PARTICLE_COUNT * 3); // orbital angles
const partSize = new Float32Array(PARTICLE_COUNT);

for (let i = 0; i < PARTICLE_COUNT; i++) {
    const theta = Math.random() * Math.PI * 2;
    const phi   = Math.acos(2 * Math.random() - 1);
    const r     = 1.8 + Math.random() * 1.2;
    partPos[i*3]   = r * Math.sin(phi) * Math.cos(theta);
    partPos[i*3+1] = r * Math.sin(phi) * Math.sin(theta);
    partPos[i*3+2] = r * Math.cos(phi);
    partVel[i*3]   = theta;
    partVel[i*3+1] = phi;
    partVel[i*3+2] = r;
    partSize[i] = Math.random() * 2 + 0.5;
}

partGeo.setAttribute('position', new THREE.BufferAttribute(partPos, 3));
partGeo.setAttribute('size',     new THREE.BufferAttribute(partSize, 1));

const partMat = new THREE.PointsMaterial({
    color: 0xC9A84C,
    size: 0.03,
    transparent: true,
    opacity: 0.6,
    sizeAttenuation: true,
    blending: THREE.AdditiveBlending,
    depthWrite: false
});
const particles = new THREE.Points(partGeo, partMat);
scene.add(particles);

// â”€â”€ MOUSE INTERACTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let targetRotX = 0, targetRotY = 0;
let currentRotX = 0, currentRotY = 0;
let isNearSphere = false;
let rotationSpeed = 0.004;
let totalRotation = 0;
let phrase360Shown = false;

const raycaster = new THREE.Raycaster();
const mouse     = new THREE.Vector2(-10, -10);

document.addEventListener('mousemove', e => {
    mouse.x =  (e.clientX / window.innerWidth)  * 2 - 1;
    mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;
    targetRotX = mouse.y * 0.25;
    targetRotY = mouse.x * 0.25;
});

// Touch support for sphere drag
document.addEventListener('touchmove', e => {
    if (e.touches.length === 1) {
        const t = e.touches[0];
        mouse.x =  (t.clientX / window.innerWidth)  * 2 - 1;
        mouse.y = -(t.clientY / window.innerHeight) * 2 + 1;
        targetRotX = mouse.y * 0.2;
        targetRotY = mouse.x * 0.2;
    }
}, { passive: true });

document.addEventListener('touchend', () => {
    // Pulse on tap
    pulseSphere();
    playPulseSound();
});

document.addEventListener('click', e => {
    raycaster.setFromCamera(mouse, camera);
    const hits = raycaster.intersectObjects([outerSphere, innerSphere]);
    if (hits.length > 0) {
        pulseSphere();
        playPulseSound();
    }
});

function pulseSphere() {
    gsap.to([outerSphere.scale, innerSphere.scale, sacredMesh.scale], {
        x: 1.12, y: 1.12, z: 1.12,
        duration: 0.15, ease: 'power2.out',
        onComplete: () => {
            gsap.to([outerSphere.scale, innerSphere.scale, sacredMesh.scale], {
                x: 1, y: 1, z: 1,
                duration: 0.4, ease: 'elastic.out(1, 0.5)'
            });
        }
    });
    gsap.to(goldLight, { intensity: 8, duration: 0.2, yoyo: true, repeat: 1 });
}

// â”€â”€ SOUND SYSTEM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let audioCtx   = null;
let soundOn    = false;
let ambientOsc = null;

function initAudio() {
    if (audioCtx) return;
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
}

function startAmbient() {
    if (!audioCtx || ambientOsc) return;
    const master = audioCtx.createGain();
    master.gain.value = 0.04;
    master.connect(audioCtx.destination);

    [55, 110, 165].forEach((freq, i) => {
        const osc  = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type      = 'sine';
        osc.frequency.value = freq;
        gain.gain.value     = 1 - i * 0.25;
        osc.connect(gain);
        gain.connect(master);
        osc.start();
    });
    ambientOsc = master;
}

function stopAmbient() {
    if (!ambientOsc) return;
    ambientOsc.gain.setTargetAtTime(0, audioCtx.currentTime, 0.5);
    setTimeout(() => { ambientOsc = null; }, 1000);
}

function playPulseSound() {
    if (!audioCtx || !soundOn) return;
    const osc  = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    osc.type = 'sine';
    osc.frequency.setValueAtTime(432, audioCtx.currentTime);
    osc.frequency.exponentialRampToValueAtTime(216, audioCtx.currentTime + 0.4);
    gain.gain.setValueAtTime(0.08, audioCtx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.5);
    osc.connect(gain);
    gain.connect(audioCtx.destination);
    osc.start();
    osc.stop(audioCtx.currentTime + 0.5);
}

document.getElementById('sound-toggle').addEventListener('click', () => {
    initAudio();
    soundOn = !soundOn;
    const el = document.getElementById('sound-toggle');
    el.classList.toggle('active', soundOn);
    soundOn ? startAmbient() : stopAmbient();
});

// â”€â”€ BUILD DEITY MARKERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const sphereArea = document.getElementById('sphere-area');
DEITIES.forEach(d => {
    const el = document.createElement('div');
    el.className = `deity ${d.cls}`;
    el.id = `deity-${d.id}`;
    el.setAttribute('role', 'button');
    el.setAttribute('tabindex', '0');
    el.setAttribute('aria-label', `Portal ${d.name} â€” NÃ­vel ${d.level}`);
    el.innerHTML = `
        <div class="deity-orb" style="border-color:${d.color}33">
            <span style="filter:drop-shadow(0 0 8px ${d.color})">${d.emoji}</span>
            <div class="deity-level">${d.level}</div>
        </div>
        <div class="deity-name">${d.name}</div>
        <div class="deity-role">${d.role}</div>
    `;
    el.addEventListener('click',   () => activatePortal(d));
    el.addEventListener('keydown', e => { if (e.key==='Enter'||e.key===' ') activatePortal(d); });
    sphereArea.appendChild(el);

    gsap.to(el, {
        y: '+=8',
        repeat: -1,
        yoyo: true,
        duration: 2 + Math.random() * 1.5,
        ease: 'sine.inOut',
        delay: Math.random() * 2
    });
});

// â”€â”€ PORTAL TRANSITION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let isTransitioning = false;

function activatePortal(deity) {
    if (isTransitioning) return;
    isTransitioning = true;
    if (soundOn && audioCtx) {
        const osc  = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = 'sine';
        osc.frequency.setValueAtTime(111, audioCtx.currentTime);
        osc.frequency.linearRampToValueAtTime(432, audioCtx.currentTime + 2);
        gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 3);
        osc.connect(gain); gain.connect(audioCtx.destination);
        osc.start(); osc.stop(audioCtx.currentTime + 3);
    }

    document.getElementById('portal-name').textContent = deity.name.toUpperCase();
    document.getElementById('portal-name').style.color = deity.color;
    document.getElementById('portal-name').style.textShadow = `0 0 40px ${deity.color}`;

    const overlay = document.getElementById('portal-overlay');
    const tl = gsap.timeline();

    tl.to(overlay, { opacity: 1, duration: 0.6, pointerEvents: 'auto' })
      .to('.portal-ring', {
          opacity: 0.8, scale: 2,
          duration: 1.5, stagger: 0.12, ease: 'power2.out'
      }, 0.2)
      .to('#portal-name', { opacity: 1, duration: 0.8, ease: 'power2.out' }, 0.8)
      .to('#portal-sub',  { opacity: 1, duration: 0.6 }, 1.2)
      .to([outerSphere.scale, innerSphere.scale], {
          x: 0.01, y: 0.01, z: 0.01, duration: 1.5, ease: 'power2.in'
      }, 0.5)
      .to('#flash', { opacity: 1, duration: 0.5, ease: 'power2.in' }, 2.8)
      .call(() => { window.location.href = deity.url; }, null, 3.4);
}

// â”€â”€ SHOW ENIGMA PHRASE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let lastPhrase = -1;
function showPhrase(index) {
    const el = document.getElementById('phrase-display');
    const p  = PHRASES[index !== undefined ? index : Math.floor(Math.random() * PHRASES.length)];
    if (el._gsapTween) el._gsapTween.kill();
    el.textContent = p;
    el._gsapTween = gsap.timeline()
        .to(el, { opacity: 1, duration: 0.8, ease: 'power2.out' })
        .to(el, { opacity: 0, duration: 0.8, ease: 'power2.in', delay: 3 });
}

// Periodic phrase every 12s
setInterval(() => { if (!isTransitioning) showPhrase(); }, 12000);

// â”€â”€ RENDER LOOP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const clock = new THREE.Clock();

function animate() {
    requestAnimationFrame(animate);
    const t = clock.getElapsedTime();

    // Shader time
    outerMat.uniforms.uTime.value = t;

    // Check mouse proximity to center
    raycaster.setFromCamera(mouse, camera);
    const nearHits = raycaster.intersectObject(outerSphere);
    isNearSphere   = nearHits.length > 0;
    const target   = isNearSphere ? 0.0008 : 0.004;
    rotationSpeed += (target - rotationSpeed) * 0.05;

    // Sphere rotation
    currentRotX += (targetRotX - currentRotX) * 0.04;
    currentRotY += (targetRotY - currentRotY) * 0.04;

    innerSphere.rotation.y  = t * rotationSpeed * 250 + currentRotY;
    innerSphere.rotation.x  = currentRotX * 0.5;
    outerSphere.rotation.y  = t * rotationSpeed * 200 + currentRotY;
    outerSphere.rotation.x  = currentRotX * 0.3;
    sacredMesh.rotation.y   = -t * 0.006 + currentRotY * 0.5;
    sacredMesh.rotation.x   = t * 0.004;

    // Track total rotation for 360Â° easter egg
    totalRotation += rotationSpeed;
    if (totalRotation > Math.PI * 2 && !phrase360Shown) {
        phrase360Shown = true;
        setTimeout(() => showPhrase(0), 500); // "Quem se conhece governa..."
        setTimeout(() => { phrase360Shown = false; totalRotation = 0; }, 15000);
    }

    // Rings
    rings.forEach(r => {
        r.mesh.rotation[r.axis] += r.speed;
    });

    // Particles orbit
    const pos = partGeo.attributes.position.array;
    for (let i = 0; i < PARTICLE_COUNT; i++) {
        partVel[i*3] += 0.003 + (i % 5) * 0.0003;
        const theta = partVel[i*3];
        const phi   = partVel[i*3+1];
        const r     = partVel[i*3+2];
        pos[i*3]   = r * Math.sin(phi) * Math.cos(theta);
        pos[i*3+1] = r * Math.sin(phi) * Math.sin(theta) + Math.sin(t * 0.3 + i) * 0.05;
        pos[i*3+2] = r * Math.cos(phi);
    }
    partGeo.attributes.position.needsUpdate = true;

    // Pulse gold light
    goldLight.intensity = 2.5 + Math.sin(t * 1.5) * 0.8;
    blueLight.intensity = 1.8 + Math.cos(t * 1.1) * 0.6;

    renderer.render(scene, camera);
}

// â”€â”€ INTRO SEQUENCE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function runIntro() {
    const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

    // Fake load progress
    let p = 0;
    const fillEl = document.getElementById('loader-fill');
    const loaderTimer = setInterval(() => {
        p = Math.min(p + Math.random() * 18, 100);
        fillEl.style.width = p + '%';
        if (p >= 100) {
            clearInterval(loaderTimer);
            tl.to('#loader', { opacity: 0, duration: 1, delay: 0.4,
                onComplete: () => { document.getElementById('loader').remove(); }
            });
        }
    }, 120);

    // UI reveal cascade
    tl.to('#eyebrow',    { opacity: 1, y: 0, duration: 1.2, delay: 2 })
      .to('#hero-title', { opacity: 1, y: 0, duration: 1.2 }, '-=0.6')
      .to('#hero-sub',   { opacity: 1, y: 0, duration: 1 }, '-=0.7')
      .to('#header',     { opacity: 1, y: 0, duration: 1 }, '-=0.5')
      .to('#manifesto',  { opacity: 1, y: 0, duration: 1 }, '-=0.5')
      .to('.corner-glyph', { opacity: 1, duration: 1, stagger: 0.15 }, '-=0.5')
      .to('.side-line',    { opacity: 1, duration: 1.5 }, '-=0.5')
      .to('#enigma',       { opacity: 0.7, duration: 1 }, '-=0.3')
      .to('#sound-toggle', { opacity: 0.7, duration: 1 }, '-=0.5')
      .to('#auth-bar',     { opacity: 1, duration: 0.8, ease: 'power2.out' }, '-=0.6')
      .to('#menu-toggle',  { opacity: 0.9, duration: 0.8 }, '-=0.6');

    // Show deities
    DEITIES.forEach((d, i) => {
        tl.to(`#deity-${d.id}`, { opacity: 1, duration: 0.8 }, `>-0.4`);
    });

    // First phrase after 5s
    setTimeout(() => showPhrase(6), 5000);
}

// â”€â”€ RIGHT NAV MENU â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const menuToggle = document.getElementById('menu-toggle');
const navPanel   = document.getElementById('nav-panel');
const navOverlay = document.getElementById('nav-overlay');

function openNav() {
    menuToggle.classList.add('open');
    navPanel.classList.add('open');
    navOverlay.classList.add('active');
    menuToggle.setAttribute('aria-expanded', 'true');
}
function closeNav() {
    menuToggle.classList.remove('open');
    navPanel.classList.remove('open');
    navOverlay.classList.remove('active');
    menuToggle.setAttribute('aria-expanded', 'false');
}

menuToggle.addEventListener('click', () => menuToggle.classList.contains('open') ? closeNav() : openNav());
navOverlay.addEventListener('click', closeNav);
document.addEventListener('keydown', e => { if (e.key === 'Escape') closeNav(); });

// Add nav panel links to cursor hovering
document.querySelectorAll('.nav-panel-link, .auth-btn, #menu-toggle').forEach(el => {
    el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
    el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
});


let resizeTimer;
window.addEventListener('resize', () => {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(() => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    }, 150);
});

// â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
animate();
runIntro();
</script>
</body>
</html>
        }

        /* â”€â”€ CUSTOM CURSOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #cursor {
            position: fixed;
            width: 12px; height: 12px;
            border-radius: 50%;
            background: var(--gold);
            box-shadow: 0 0 20px var(--gold), 0 0 40px rgba(201,168,76,0.4);
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%,-50%);
            transition: width .2s, height .2s, background .2s;
            mix-blend-mode: screen;
        }
        #cursor-ring {
            position: fixed;
            width: 40px; height: 40px;
            border: 1px solid rgba(201,168,76,0.5);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9998;
            transform: translate(-50%,-50%);
            transition: width .4s, height .4s, transform .08s;
        }
        body.hovering #cursor { width:20px; height:20px; background: var(--gold-bright); }
        body.hovering #cursor-ring { width:60px; height:60px; border-color: var(--gold); }

        /* â”€â”€ WEBGL CANVAS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #stage {
            position: fixed; inset: 0;
            width: 100%; height: 100%;
            z-index: 1;
        }

        /* â”€â”€ MATRIX RAIN CANVAS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #matrix-canvas {
            position: fixed; inset: 0;
            width: 100%; height: 100%;
            z-index: 2;
            opacity: 0.07;
            pointer-events: none;
        }

        /* â”€â”€ VIGNETTE & OVERLAY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .vignette {
            position: fixed; inset: 0; z-index: 3;
            background: radial-gradient(ellipse at center,
                transparent 25%,
                rgba(6,6,15,0.5) 65%,
                rgba(6,6,15,0.92) 100%);
            pointer-events: none;
        }

        /* â”€â”€ SCANLINES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .scanlines {
            position: fixed; inset: 0; z-index: 4;
            background: repeating-linear-gradient(0deg,
                rgba(0,0,0,0.03), rgba(0,0,0,0.03) 1px,
                transparent 1px, transparent 2px);
            pointer-events: none;
            opacity: 0.5;
        }

        /* â”€â”€ PYRAMIDS SILHOUETTE (SVG background) â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .pyramids-bg {
            position: fixed;
            bottom: 0; left: 0; right: 0;
            height: 35vh;
            z-index: 2;
            pointer-events: none;
            background: 
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 300'%3E%3Cpolygon points='120,300 360,60 600,300' fill='%230A0A18'/%3E%3Cpolygon points='320,300 520,100 720,300' fill='%230D0D20'/%3E%3Cpolygon points='750,300 1000,30 1250,300' fill='%230A0A18'/%3E%3Cpolygon points='1000,300 1180,110 1360,300' fill='%230D0D20'/%3E%3C/svg%3E")
                bottom/cover no-repeat;
            opacity: 0.6;
        }

        /* â”€â”€ STARS LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .stars-svg {
            position: fixed; inset: 0; z-index: 2;
            pointer-events: none;
            opacity: 0.6;
        }

        /* â”€â”€ UI LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #ui {
            position: fixed; inset: 0; z-index: 10;
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            pointer-events: none;
        }

        /* â”€â”€ LOADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #loader {
            position: fixed; inset: 0; z-index: 1000;
            background: var(--void);
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            gap: 24px;
            transition: opacity 1s ease;
        }
        .loader-glyph {
            font-size: 3rem;
            animation: loaderPulse 1.5s ease-in-out infinite;
        }
        .loader-text {
            font-family: var(--font-title);
            font-size: 0.65rem;
            letter-spacing: 0.5em;
            color: var(--gold-dim);
            text-transform: uppercase;
        }
        .loader-bar {
            width: 180px; height: 1px;
            background: rgba(201,168,76,0.15);
            position: relative; overflow: hidden;
        }
        .loader-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--gold-dim), var(--gold-bright));
            width: 0%;
            box-shadow: 0 0 12px var(--gold);
            transition: width 0.4s ease;
        }
        @keyframes loaderPulse {
            0%,100% { opacity:0.4; transform:scale(1); }
            50% { opacity:1; transform:scale(1.1); }
        }

        /* â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .header {
            position: absolute;
            top: 0; left: 0; right: 0;
            display: flex; align-items: center; justify-content: space-between;
            padding: 32px 48px;
            opacity: 0;
            transform: translateY(-20px);
        }

        .logo-mark {
            font-family: var(--font-deco);
            font-size: 1.1rem;
            letter-spacing: 0.4em;
            color: var(--gold);
            text-shadow: 0 0 30px rgba(201,168,76,0.6);
        }

        .nav-links {
            display: flex; gap: 36px;
            pointer-events: auto;
        }
        .nav-link {
            font-family: var(--font-body);
            font-size: 0.65rem;
            letter-spacing: 0.3em;
            color: rgba(255,255,255,0.4);
            text-decoration: none;
            text-transform: uppercase;
            transition: color 0.3s, text-shadow 0.3s;
            cursor: none;
        }
        .nav-link:hover {
            color: var(--gold);
            text-shadow: 0 0 20px rgba(201,168,76,0.5);
        }

        /* â”€â”€ HERO TEXT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .hero-block {
            text-align: center;
            pointer-events: none;
            position: relative;
            z-index: 2;
            margin-bottom: 10px;
        }

        .hero-eyebrow {
            font-family: var(--font-body);
            font-size: 0.6rem;
            letter-spacing: 0.6em;
            color: var(--matrix);
            text-transform: uppercase;
            opacity: 0;
            transform: translateY(10px);
            margin-bottom: 16px;
            text-shadow: 0 0 20px var(--matrix);
        }

        .hero-title {
            font-family: var(--font-deco);
            font-size: clamp(2.8rem, 7vw, 6.5rem);
            font-weight: 700;
            color: var(--gold);
            letter-spacing: 0.15em;
            line-height: 1;
            opacity: 0;
            transform: translateY(20px);
            text-shadow:
                0 0 40px rgba(201,168,76,0.5),
                0 0 80px rgba(201,168,76,0.2);
            margin-bottom: 8px;
        }

        .hero-subtitle {
            font-family: var(--font-title);
            font-size: clamp(0.6rem, 1.5vw, 0.85rem);
            letter-spacing: 0.6em;
            color: rgba(255,255,255,0.35);
            text-transform: uppercase;
            opacity: 0;
            transform: translateY(10px);
            margin-bottom: 48px;
        }

        /* â”€â”€ SPHERE CONTAINER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .sphere-area {
            position: relative;
            width: clamp(280px, 35vw, 500px);
            height: clamp(280px, 35vw, 500px);
            margin: 0 auto;
            touch-action: none;
        }

        /* â”€â”€ DEITY MARKERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .deity {
            position: absolute;
            display: flex; flex-direction: column; align-items: center;
            gap: 8px;
            pointer-events: auto;
            cursor: none;
            opacity: 0;
            transition: opacity 0.3s;
            -webkit-tap-highlight-color: transparent;
        }
        .deity.visible { opacity: 1; }

        .deity-orb {
            width: 52px; height: 52px;
            border-radius: 50%;
            border: 1.5px solid var(--gold-dim);
            background: radial-gradient(ellipse at 35% 35%,
                rgba(201,168,76,0.15) 0%,
                rgba(6,6,15,0.9) 70%);
            display: flex; align-items: center; justify-content: center;
            font-size: 1.3rem;
            position: relative;
            transition: all 0.4s cubic-bezier(0.175,0.885,0.32,1.275);
            box-shadow:
                0 0 15px rgba(201,168,76,0.2),
                inset 0 0 20px rgba(201,168,76,0.05);
        }
        .deity-orb::before {
            content: '';
            position: absolute; inset: -4px;
            border-radius: 50%;
            border: 1px solid rgba(201,168,76,0.2);
            animation: orbRing 4s linear infinite;
        }
        .deity-orb::after {
            content: '';
            position: absolute; inset: -10px;
            border-radius: 50%;
            border: 1px dashed rgba(201,168,76,0.1);
            animation: orbRing 8s linear infinite reverse;
        }
        @keyframes orbRing {
            from { transform: rotate(0deg); }
            to   { transform: rotate(360deg); }
        }

        .deity:hover .deity-orb {
            border-color: var(--gold);
            background: radial-gradient(ellipse at 35% 35%,
                rgba(201,168,76,0.35) 0%,
                rgba(6,6,15,0.85) 70%);
            box-shadow:
                0 0 40px rgba(201,168,76,0.6),
                0 0 80px rgba(201,168,76,0.2),
                inset 0 0 30px rgba(201,168,76,0.15);
            transform: scale(1.15);
        }

        .deity-name {
            font-family: var(--font-title);
            font-size: 0.55rem;
            letter-spacing: 0.3em;
            color: var(--gold-dim);
            text-transform: uppercase;
            transition: color 0.3s;
            white-space: nowrap;
        }
        .deity-role {
            font-size: 0.48rem;
            letter-spacing: 0.2em;
            color: rgba(255,255,255,0.3);
            text-transform: uppercase;
            white-space: nowrap;
        }
        .deity:hover .deity-name { color: var(--gold-bright); text-shadow: 0 0 15px var(--gold); }
        .deity:hover .deity-role { color: rgba(255,255,255,0.6); }

        .deity-level {
            position: absolute;
            top: -4px; right: -4px;
            background: linear-gradient(135deg, var(--gold), var(--gold-bright));
            color: #000;
            font-size: 0.45rem;
            font-weight: 700;
            padding: 2px 5px;
            border-radius: 3px;
            letter-spacing: 0.05em;
        }

        /* Deity positions */
        .deity-anubis { bottom: -30px; left: 50%; transform: translateX(-50%); }
        .deity-horus  { top: -30px;   left: 50%; transform: translateX(-50%); }
        .deity-isis   { top: 50%; left: -70px;   transform: translateY(-50%); }
        .deity-ra     { top: 50%; right: -70px;  transform: translateY(-50%); }

        /* â”€â”€ MANIFESTO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .manifesto {
            position: absolute;
            bottom: 0; left: 0; right: 0;
            text-align: center;
            padding-bottom: 40px;
            pointer-events: none;
            opacity: 0;
            transform: translateY(15px);
        }

        .manifesto-lines {
            font-family: var(--font-body);
            font-size: clamp(0.6rem, 1.2vw, 0.75rem);
            letter-spacing: 0.25em;
            color: rgba(255,255,255,0.25);
            line-height: 2.2;
            margin-bottom: 28px;
        }
        .manifesto-lines em {
            color: rgba(201,168,76,0.5);
            font-style: normal;
        }

        .cta-btn {
            display: inline-block;
            font-family: var(--font-title);
            font-size: 0.65rem;
            letter-spacing: 0.4em;
            color: var(--gold);
            border: 1px solid rgba(201,168,76,0.4);
            padding: 14px 36px;
            text-transform: uppercase;
            text-decoration: none;
            pointer-events: auto;
            cursor: none;
            position: relative;
            transition: all 0.4s ease;
            background: transparent;
            overflow: hidden;
        }
        .cta-btn::before {
            content: '';
            position: absolute; inset: 0;
            background: linear-gradient(90deg, transparent, rgba(201,168,76,0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }
        .cta-btn:hover {
            border-color: var(--gold);
            color: var(--gold-bright);
            box-shadow: 0 0 30px rgba(201,168,76,0.3), inset 0 0 30px rgba(201,168,76,0.05);
        }
        .cta-btn:hover::before { transform: translateX(100%); }
        .cta-btn:active { transform: scale(0.97); }

        /* â”€â”€ CORNER GLYPHS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .corner-glyph {
            position: fixed;
            font-size: 0.5rem;
            letter-spacing: 0.3em;
            color: rgba(201,168,76,0.2);
            font-family: var(--font-body);
            opacity: 0;
        }
        .corner-tl { top: 20px;    left: 20px; }
        .corner-tr { top: 20px;    right: 20px; text-align: right; }
        .corner-bl { bottom: 20px; left: 20px; }
        .corner-br { bottom: 20px; right: 20px; text-align: right; }

        /* â”€â”€ SIDE LINES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .side-line {
            position: fixed;
            background: linear-gradient(to bottom, transparent, rgba(201,168,76,0.3), transparent);
            width: 1px;
            height: 40%;
            top: 30%;
            opacity: 0;
        }
        .side-line-l { left: 32px; }
        .side-line-r { right: 32px; }

        /* â”€â”€ ENIGMA TEXT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #enigma {
            position: fixed;
            bottom: 80px;
            left: 50%; transform: translateX(-50%);
            font-family: var(--font-title);
            font-size: 0.7rem;
            letter-spacing: 0.3em;
            color: var(--matrix);
            text-shadow: 0 0 20px var(--matrix);
            opacity: 0;
            white-space: nowrap;
            z-index: 20;
            pointer-events: none;
            text-align: center;
        }

        /* â”€â”€ PORTAL TRANSITION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #portal-overlay {
            position: fixed; inset: 0; z-index: 500;
            background: radial-gradient(ellipse at center, transparent 0%, rgba(6,6,15,0.98) 100%);
            opacity: 0; pointer-events: none;
            display: flex; align-items: center; justify-content: center;
            flex-direction: column; gap: 20px;
        }
        .portal-ring {
            position: absolute;
            border-radius: 50%;
            border: 1px solid var(--gold);
            opacity: 0;
        }
        #portal-name {
            font-family: var(--font-deco);
            font-size: clamp(1.5rem, 4vw, 3.5rem);
            color: var(--gold);
            letter-spacing: 0.3em;
            opacity: 0;
            text-shadow: 0 0 40px var(--gold);
            position: relative; z-index: 2;
        }
        #portal-sub {
            font-family: var(--font-body);
            font-size: 0.65rem;
            letter-spacing: 0.5em;
            color: rgba(255,255,255,0.4);
            opacity: 0;
            position: relative; z-index: 2;
        }

        /* â”€â”€ FLASH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #flash {
            position: fixed; inset: 0; z-index: 600;
            background: radial-gradient(ellipse at center, #fff 0%, var(--gold-bright) 100%);
            opacity: 0; pointer-events: none;
        }

        /* â”€â”€ ENIGMA PHRASES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #phrase-display {
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            font-family: var(--font-title);
            font-size: clamp(0.8rem, 2vw, 1.2rem);
            color: var(--gold);
            letter-spacing: 0.2em;
            text-align: center;
            opacity: 0;
            z-index: 20;
            pointer-events: none;
            text-shadow: 0 0 30px rgba(201,168,76,0.7);
            max-width: 600px;
            line-height: 1.8;
        }

        /* â”€â”€ SOUND INDICATOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #sound-toggle {
            position: fixed;
            bottom: 32px; right: 48px;
            z-index: 50;
            pointer-events: auto;
            cursor: none;
            display: flex; align-items: center; gap: 8px;
            opacity: 0;
        }
        .sound-bars {
            display: flex; align-items: flex-end; gap: 2px; height: 14px;
        }
        .sound-bar {
            width: 2px;
            background: var(--gold-dim);
            border-radius: 1px;
            transition: height 0.2s, background 0.2s;
        }
        #sound-toggle.active .sound-bar { background: var(--gold); }
        #sound-toggle.active .sound-bar:nth-child(1) { animation: bar1 0.8s ease infinite; }
        #sound-toggle.active .sound-bar:nth-child(2) { animation: bar2 0.6s ease infinite; }
        #sound-toggle.active .sound-bar:nth-child(3) { animation: bar3 1.0s ease infinite; }
        #sound-toggle.active .sound-bar:nth-child(4) { animation: bar2 0.7s ease infinite; }
        @keyframes bar1 { 0%,100%{height:4px} 50%{height:14px} }
        @keyframes bar2 { 0%,100%{height:8px} 50%{height:4px}  }
        @keyframes bar3 { 0%,100%{height:12px} 50%{height:6px} }
        .sound-label {
            font-size: 0.5rem;
            letter-spacing: 0.3em;
            color: var(--gold-dim);
        }
        #sound-toggle:hover .sound-label { color: var(--gold); }

        /* â”€â”€ AUTH BUTTONS (centro-superior) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .auth-bar {
            position: fixed;
            top: 22px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 200;
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0;
            pointer-events: auto;
        }

        .auth-btn {
            font-family: var(--font-title);
            font-size: 0.58rem;
            letter-spacing: 0.35em;
            text-transform: uppercase;
            text-decoration: none;
            padding: 9px 22px;
            border-radius: 2px;
            cursor: none;
            transition: all 0.35s ease;
            display: inline-block;
            white-space: nowrap;
        }

        .auth-btn-login {
            color: var(--gold);
            border: 1px solid rgba(201,168,76,0.35);
            background: rgba(6,6,15,0.6);
            backdrop-filter: blur(10px);
        }
        .auth-btn-login:hover {
            border-color: var(--gold);
            background: rgba(201,168,76,0.08);
            box-shadow: 0 0 20px rgba(201,168,76,0.25);
            color: var(--gold-bright);
        }

        .auth-btn-register {
            color: #000;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-bright) 100%);
            border: 1px solid var(--gold-bright);
            box-shadow: 0 0 20px rgba(201,168,76,0.3);
        }
        .auth-btn-register:hover {
            background: linear-gradient(135deg, var(--gold-bright) 0%, #fff8c0 100%);
            box-shadow: 0 0 35px rgba(255,215,0,0.5), 0 0 60px rgba(201,168,76,0.2);
            transform: scale(1.04);
        }

        .auth-divider {
            width: 1px;
            height: 18px;
            background: rgba(201,168,76,0.2);
        }

        /* â”€â”€ NAV MENU DIREITO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #menu-toggle {
            position: fixed;
            top: 20px;
            right: 28px;
            z-index: 300;
            width: 44px; height: 44px;
            background: rgba(6,6,15,0.75);
            border: 1px solid rgba(201,168,76,0.3);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            cursor: none;
            pointer-events: auto;
            transition: all 0.35s ease;
            backdrop-filter: blur(12px);
            opacity: 0;
        }
        #menu-toggle:hover {
            border-color: var(--gold);
            background: rgba(201,168,76,0.1);
            box-shadow: 0 0 25px rgba(201,168,76,0.35);
        }
        #menu-toggle svg {
            stroke: var(--gold);
            transition: stroke 0.2s;
        }

        /* Hamburger â†’ X animation */
        #menu-toggle .bar-top,
        #menu-toggle .bar-mid,
        #menu-toggle .bar-bot {
            transition: transform 0.35s ease, opacity 0.25s ease;
            transform-origin: center;
        }
        #menu-toggle.open .bar-top { transform: rotate(45deg) translate(4px, 4px); }
        #menu-toggle.open .bar-mid { opacity: 0; transform: scaleX(0); }
        #menu-toggle.open .bar-bot { transform: rotate(-45deg) translate(4px, -4px); }

        /* Overlay */
        #nav-overlay {
            position: fixed; inset: 0;
            background: rgba(6,6,15,0.5);
            backdrop-filter: blur(2px);
            z-index: 250;
            opacity: 0; visibility: hidden;
            transition: all 0.4s ease;
            pointer-events: none;
        }
        #nav-overlay.active { opacity: 1; visibility: visible; pointer-events: auto; }

        /* Panel */
        #nav-panel {
            position: fixed;
            top: 0; right: 0;
            width: 300px; height: 100vh;
            z-index: 280;
            background: linear-gradient(180deg, rgba(6,6,15,0.99) 0%, rgba(10,10,24,0.96) 100%);
            border-left: 1px solid rgba(201,168,76,0.2);
            backdrop-filter: blur(24px);
            padding: 88px 28px 40px;
            transform: translateX(100%);
            transition: transform 0.5s cubic-bezier(0.77,0,0.175,1);
            overflow-y: auto;
            pointer-events: auto;
        }
        #nav-panel.open { transform: translateX(0); }

        .nav-panel-header {
            font-family: var(--font-title);
            font-size: 0.6rem;
            letter-spacing: 0.5em;
            color: rgba(201,168,76,0.4);
            text-transform: uppercase;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(201,168,76,0.15);
        }

        .nav-panel-link {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 13px 16px;
            margin-bottom: 6px;
            text-decoration: none;
            color: rgba(255,255,255,0.6);
            border: 1px solid transparent;
            border-radius: 4px;
            cursor: none;
            transition: all 0.3s ease;
            position: relative;
        }
        .nav-panel-link:hover {
            color: var(--gold-bright);
            border-color: rgba(201,168,76,0.25);
            background: rgba(201,168,76,0.06);
            transform: translateX(4px);
            box-shadow: 0 0 18px rgba(201,168,76,0.1);
        }
        .nav-panel-link:hover .nav-icon { color: var(--gold); }

        .nav-icon {
            font-size: 1rem;
            color: var(--gold-dim);
            width: 20px; text-align: center;
            transition: color 0.3s;
            flex-shrink: 0;
        }

        .nav-link-content { flex: 1; }
        .nav-link-title {
            font-family: var(--font-title);
            font-size: 0.75rem;
            letter-spacing: 0.15em;
            display: block;
            margin-bottom: 2px;
        }
        .nav-link-sub {
            font-size: 0.58rem;
            letter-spacing: 0.1em;
            color: rgba(255,255,255,0.3);
            display: block;
        }

        .nav-panel-divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(201,168,76,0.2), transparent);
            margin: 14px 0;
        }

        .nav-highlight {
            border-color: rgba(201,168,76,0.2) !important;
            background: rgba(201,168,76,0.04);
        }
        .nav-highlight .nav-link-title { color: var(--gold); }
        .nav-highlight::before {
            content: 'â˜…';
            position: absolute;
            top: -7px; right: 10px;
            color: var(--gold);
            font-size: 0.6rem;
        }

        .nav-panel-footer {
            margin-top: 28px;
            padding-top: 18px;
            border-top: 1px solid rgba(201,168,76,0.1);
            font-size: 0.55rem;
            letter-spacing: 0.3em;
            color: rgba(255,255,255,0.2);
            text-align: center;
        }

        /* â”€â”€ RESPONSIVE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        @media (max-width: 768px) {

            /* Cursor nativo no touch */
            body { cursor: auto; }
            #cursor, #cursor-ring { display: none; }
            a, button, .deity { cursor: pointer; }

            /* Header: sÃ³ logo */
            .header { padding: 16px 20px; justify-content: flex-start; }
            .logo-mark { font-size: 0.85rem; letter-spacing: 0.3em; }
            .nav-links { display: none; }

            /* Auth bar: alinhada Ã  direita, espaÃ§o para o toggle */
            .auth-bar {
                left: auto;
                right: 72px;
                transform: none;
                top: 18px;
                gap: 6px;
            }
            .auth-btn { padding: 7px 12px; font-size: 0.5rem; letter-spacing: 0.2em; }
            .auth-divider { display: none; }

            /* Menu-toggle */
            #menu-toggle { right: 16px; top: 16px; width: 40px; height: 40px; }

            /* Nav panel */
            #nav-panel { width: 80vw; max-width: 300px; padding: 80px 20px 32px; }
            .nav-panel-link { padding: 12px 14px; cursor: pointer; }

            /* Hero */
            .hero-block { margin-bottom: 4px; }
            .hero-subtitle { margin-bottom: 24px; letter-spacing: 0.3em; }

            /* Esfera menor */
            .sphere-area {
                width: clamp(200px, 70vw, 300px);
                height: clamp(200px, 70vw, 300px);
            }

            /* Deuses reposicionados */
            .deity-anubis { bottom: -40px; }
            .deity-horus  { top: -40px; }
            .deity-isis   { left: -44px; }
            .deity-ra     { right: -44px; }
            .deity-orb    { width: 40px; height: 40px; font-size: 0.95rem; }
            .deity-name   { font-size: 0.48rem; }
            .deity-role   { display: none; }

            /* Manifesto compacto */
            .manifesto { padding-bottom: 20px; }
            .manifesto-lines {
                font-size: 0.55rem;
                letter-spacing: 0.12em;
                line-height: 2;
                margin-bottom: 18px;
            }
            .cta-btn { padding: 11px 24px; font-size: 0.55rem; letter-spacing: 0.25em; cursor: pointer; }

            /* Elementos decorativos ocultos */
            .corner-glyph { display: none; }
            .side-line    { display: none; }

            /* Enigma */
            #enigma { bottom: 100px; font-size: 0.5rem; letter-spacing: 0.2em; }

            /* Sound */
            #sound-toggle { bottom: 18px; right: 16px; }
            .sound-label  { display: none; }

            /* Pyramids */
            .pyramids-bg { height: 25vh; }
        }

        /* Telas muito pequenas */
        @media (max-width: 380px) {
            .sphere-area { width: 190px; height: 190px; }
            .deity-isis  { left: -38px; }
            .deity-ra    { right: -38px; }
            .deity-orb   { width: 34px; height: 34px; font-size: 0.8rem; }
            .auth-bar    { display: none; }
        }
    </style>
</head>
<body>

<!-- Custom Cursor -->
<div id="cursor"></div>
<div id="cursor-ring"></div>

<!-- Loader -->
<div id="loader">
    <div class="loader-glyph">ğ“‚€</div>
    <div class="loader-text">Inicializando Portal</div>
    <div class="loader-bar"><div class="loader-fill" id="loader-fill"></div></div>
</div>

<!-- Background Layers -->
<canvas id="stage"></canvas>
<canvas id="matrix-canvas"></canvas>

<!-- Stars -->
<svg class="stars-svg" xmlns="http://www.w3.org/2000/svg" id="stars-svg"></svg>

<!-- Atmospheric -->
<div class="vignette"></div>
<div class="scanlines"></div>
<div class="pyramids-bg"></div>

<!-- Corner Glyphs -->
<div class="corner-glyph corner-tl" id="c-tl">ğ“‚€ AKASHA<br>â—ˆ ONLINE</div>
<div class="corner-glyph corner-tr" id="c-tr">PORTAL ATIVO â—ˆ<br>ğ“¹ DESPERTAR</div>
<div class="corner-glyph corner-bl" id="c-bl">ğ“†£ CONSCIÃŠNCIA<br>â—ˆ EXPANDIDA</div>
<div class="corner-glyph corner-br" id="c-br">REALIDADE â—ˆ<br>ğ“‚‹ GOVERNADA</div>

<!-- Side Lines -->
<div class="side-line side-line-l" id="sl-l"></div>
<div class="side-line side-line-r" id="sl-r"></div>

<!-- Enigma Prompt -->
<div id="enigma">â–¸ GIRE A ESFERA PARA ATIVAR â–¸</div>

<!-- Phrase Display -->
<div id="phrase-display"></div>

<!-- Portal Transition -->
<div id="portal-overlay">
    <div class="portal-ring" style="width:80px;height:80px"></div>
    <div class="portal-ring" style="width:180px;height:180px"></div>
    <div class="portal-ring" style="width:300px;height:300px"></div>
    <div class="portal-ring" style="width:450px;height:450px"></div>
    <div class="portal-ring" style="width:650px;height:650px"></div>
    <div id="portal-name">ANÃšBIS</div>
    <div id="portal-sub">PORTAL DIMENSIONAL ATIVADO</div>
</div>
<div id="flash"></div>

<!-- Sound Toggle -->
<div id="sound-toggle">
    <div class="sound-bars">
        <div class="sound-bar" style="height:4px"></div>
        <div class="sound-bar" style="height:10px"></div>
        <div class="sound-bar" style="height:6px"></div>
        <div class="sound-bar" style="height:12px"></div>
    </div>
    <span class="sound-label">SOM</span>
</div>

<!-- â”€â”€ AUTH BUTTONS (centro-superior) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="auth-bar" id="auth-bar">
    <a href="https://akashahub.com.br/login" class="auth-btn auth-btn-login">â—ˆ Entrar</a>
    <div class="auth-divider"></div>
    <a href="https://akashahub.com.br/cadastro" class="auth-btn auth-btn-register">Cadastrar</a>
</div>

<!-- â”€â”€ NAV MENU DIREITO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="nav-overlay"></div>

<button id="menu-toggle" aria-label="Menu de navegaÃ§Ã£o" aria-expanded="false">
    <svg width="18" height="14" viewBox="0 0 18 14" fill="none" stroke-width="1.8" stroke-linecap="round">
        <line class="bar-top" x1="0" y1="1"  x2="18" y2="1"/>
        <line class="bar-mid" x1="0" y1="7"  x2="18" y2="7"/>
        <line class="bar-bot" x1="0" y1="13" x2="18" y2="13"/>
    </svg>
</button>

<nav id="nav-panel" aria-label="Menu principal">
    <div class="nav-panel-header">â—ˆ NavegaÃ§Ã£o â—ˆ</div>

    <a href="https://akashahub.com.br/mentoria" class="nav-panel-link">
        <span class="nav-icon">ğ“¹</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Mentoria</span>
            <span class="nav-link-sub">Programa de desenvolvimento</span>
        </div>
    </a>

    <a href="https://akashahub.com.br/partners" class="nav-panel-link">
        <span class="nav-icon">ğ“†£</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Parceria</span>
            <span class="nav-link-sub">Patrocinadores & afiliados</span>
        </div>
    </a>

    <a href="https://akashahub.com.br/vip" class="nav-panel-link">
        <span class="nav-icon">ğ“‡³</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Presencial</span>
            <span class="nav-link-sub">ImersÃ£o & experiÃªncia VIP</span>
        </div>
    </a>

    <a href="https://akashahub.com.br/store" class="nav-panel-link">
        <span class="nav-icon">ğ“‹¹</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Loja</span>
            <span class="nav-link-sub">Produtos & ferramentas</span>
        </div>
    </a>

    <div class="nav-panel-divider"></div>

    <a href="https://akashahub.com.br/doutrina" class="nav-panel-link">
        <span class="nav-icon">ğ“‚‹</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Doutrina</span>
            <span class="nav-link-sub">Ãudios, livros & conteÃºdos</span>
        </div>
    </a>

    <a href="https://akashahub.com.br/livre/" class="nav-panel-link nav-highlight">
        <span class="nav-icon">ğ“‚€</span>
        <div class="nav-link-content">
            <span class="nav-link-title">SessÃ£o GrÃ¡tis</span>
            <span class="nav-link-sub">Grupos online abertos</span>
        </div>
    </a>

    <div class="nav-panel-footer">ğ“‚€ AKASHA EMPIRE</div>
</nav>


<div id="ui">
    <div class="header" id="header">
        <div class="logo-mark">ğ“‚€ AKASHA</div>
        <nav class="nav-links">
            <a href="https://akashahub.com.br/mentoria" class="nav-link">Mentoria</a>
            <a href="https://akashahub.com.br/vip" class="nav-link">Presencial VIP</a>
            <a href="https://akashahub.com.br/partners" class="nav-link">Parceiros</a>
            <a href="https://akashahub.com.br/livre/" class="nav-link">SessÃµes GrÃ¡tis</a>
        </nav>
    </div>

    <div class="hero-block">
        <div class="hero-eyebrow" id="eyebrow">â—ˆ Portal de Despertar â—ˆ</div>
        <h1 class="hero-title" id="hero-title">AKASHA HUB</h1>
        <p class="hero-subtitle" id="hero-sub">Biblioteca Global do Universo</p>
    </div>

    <!-- Sphere + Deity Markers -->
    <div class="sphere-area" id="sphere-area">
        <!-- Deities injected by JS -->
    </div>

    <!-- Manifesto + CTA -->
    <div class="manifesto" id="manifesto">
        <div class="manifesto-lines">
            Saia da Matrix. &nbsp;<em>Acesse a Biblioteca Global do Universo.</em><br>
            Desperte seu PropÃ³sito. &nbsp;<em>Governe sua Realidade.</em>
        </div>
        <a href="#" class="cta-btn" id="cta">INICIAR TRANSMISSÃƒO</a>
    </div>
</div>

<!-- Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  AKASHA ENGINE v4.0 â€” PORTAL DE DESPERTAR
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â”€â”€ DEITIES DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const DEITIES = [
    { id:'anubis', name:'AnÃºbis', role:'Despertar',  level:'N1', emoji:'ğ“ƒ£', color:'#C9A84C', url:'https://pay.hotmart.com/N104491126Y', cls:'deity-anubis' },
    { id:'horus',  name:'HÃ³rus',  role:'VisÃ£o',      level:'N2', emoji:'ğ“¹', color:'#4A90E2', url:'https://pay.hotmart.com/O104491171B', cls:'deity-horus'  },
    { id:'isis',   name:'Ãsis',   role:'Sabedoria',  level:'N3', emoji:'ğ“‹¹', color:'#9B59B6', url:'https://pay.hotmart.com/F104491235U', cls:'deity-isis'   },
    { id:'ra',     name:'RÃ¡',     role:'LideranÃ§a',  level:'N4', emoji:'ğ“‡³', color:'#FFD700', url:'https://pay.hotmart.com/L104491291E', cls:'deity-ra'     }
];

// â”€â”€ ENIGMA PHRASES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const PHRASES = [
    "Quem se conhece governa sua realidade.",
    "Conhecimento sem aplicaÃ§Ã£o Ã© ilusÃ£o.",
    "VocÃª nÃ£o estÃ¡ clicando. VocÃª estÃ¡ ativando.",
    "A Matrix sÃ³ prende quem nÃ£o sabe que existe.",
    "ConsciÃªncia Ã© o Ãºnico poder que ninguÃ©m pode tirar de vocÃª.",
    "Aqui vocÃª transforma consciÃªncia em posiÃ§Ã£o no mundo.",
    "Saia da Matrix. Governe sua Realidade."
];

// â”€â”€ CUSTOM CURSOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const cursorEl  = document.getElementById('cursor');
const cursorRing = document.getElementById('cursor-ring');
let mx = 0, my = 0, rx = 0, ry = 0;

document.addEventListener('mousemove', e => { mx = e.clientX; my = e.clientY; });
setInterval(() => {
    rx += (mx - rx) * 0.12;
    ry += (my - ry) * 0.12;
    cursorEl.style.left   = mx + 'px';
    cursorEl.style.top    = my + 'px';
    cursorRing.style.left = rx + 'px';
    cursorRing.style.top  = ry + 'px';
}, 16);

document.querySelectorAll('a, button, .deity, #sound-toggle').forEach(el => {
    el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
    el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
});

// â”€â”€ GENERATE STARS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(function generateStars() {
    const svg = document.getElementById('stars-svg');
    const count = 200;
    let html = '';
    for (let i = 0; i < count; i++) {
        const x    = Math.random() * 100;
        const y    = Math.random() * 70;
        const r    = Math.random() * 1.2 + 0.2;
        const op   = Math.random() * 0.6 + 0.1;
        const dur  = (Math.random() * 4 + 2).toFixed(1);
        const del  = (Math.random() * 4).toFixed(1);
        html += `<circle cx="${x}%" cy="${y}%" r="${r}" fill="white" opacity="${op}">
            <animate attributeName="opacity" values="${op};${op*0.2};${op}" dur="${dur}s" begin="${del}s" repeatCount="indefinite"/>
        </circle>`;
    }
    svg.innerHTML = html;
})();

// â”€â”€ MATRIX RAIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(function matrixRain() {
    const canvas = document.getElementById('matrix-canvas');
    const ctx    = canvas.getContext('2d');
    canvas.width  = window.innerWidth;
    canvas.height = window.innerHeight;

    const chars  = 'ã‚¢ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³01ã‚¢BCDEFGHIJKLMNOPQRSTUVWXYZğ“‚€ğ“¹ğ“†£ğ“‡³ğ“‹¹01';
    const cols   = Math.floor(canvas.width / 18);
    const drops  = Array(cols).fill(1);

    function draw() {
        ctx.fillStyle = 'rgba(6,6,15,0.05)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#00FF41';
        ctx.font = '14px monospace';
        drops.forEach((y, i) => {
            const c = chars[Math.floor(Math.random() * chars.length)];
            ctx.fillText(c, i * 18, y * 18);
            if (y * 18 > canvas.height && Math.random() > 0.975) drops[i] = 0;
            drops[i]++;
        });
    }

    setInterval(draw, 50);
    window.addEventListener('resize', () => {
        canvas.width  = window.innerWidth;
        canvas.height = window.innerHeight;
    });
})();

// â”€â”€ THREE.JS: ESFERA AKÃSHICA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const threeCanvas = document.getElementById('stage');
const renderer = new THREE.WebGLRenderer({
    canvas: threeCanvas,
    antialias: true,
    alpha: true,
    powerPreference: 'high-performance'
});
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
renderer.toneMapping = THREE.ACESFilmicToneMapping;
renderer.toneMappingExposure = 1.0;

const scene  = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 100);
camera.position.set(0, 0, 7);

// Lighting
scene.add(new THREE.AmbientLight(0x111122, 2));
const goldLight = new THREE.PointLight(0xC9A84C, 3, 15);
goldLight.position.set(2, 2, 4);
scene.add(goldLight);
const blueLight = new THREE.PointLight(0x4A90E2, 2, 15);
blueLight.position.set(-3, -1, 3);
scene.add(blueLight);

// â”€â”€ SACRED GEOMETRY INNER SPHERE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const innerGeo = new THREE.IcosahedronGeometry(1.3, 2);
const innerMat = new THREE.MeshStandardMaterial({
    color: 0x0A0A18,
    metalness: 0.1,
    roughness: 0.8,
    wireframe: false,
    emissive: 0x1A1A3A,
    emissiveIntensity: 0.5
});
const innerSphere = new THREE.Mesh(innerGeo, innerMat);
scene.add(innerSphere);

// â”€â”€ OUTER TRANSLUCENT SPHERE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const outerShader = {
    vertex: `
        varying vec3 vNormal;
        varying vec3 vPos;
        varying vec2 vUv;
        void main() {
            vNormal = normalize(normalMatrix * normal);
            vPos    = position;
            vUv     = uv;
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
    `,
    fragment: `
        uniform float uTime;
        varying vec3 vNormal;
        varying vec3 vPos;
        varying vec2 vUv;

        float fresnel(vec3 n, float power) {
            return pow(1.0 - abs(dot(n, vec3(0.0, 0.0, 1.0))), power);
        }

        void main() {
            float fr      = fresnel(vNormal, 2.5);
            float pulse   = sin(uTime * 1.2) * 0.5 + 0.5;
            float grid    = step(0.97, fract(vUv.y * 30.0 + uTime * 0.1))
                          + step(0.97, fract(vUv.x * 30.0 - uTime * 0.08));
            grid = clamp(grid, 0.0, 1.0);

            vec3 goldColor  = vec3(0.788, 0.659, 0.298);
            vec3 blueColor  = vec3(0.29, 0.565, 0.886);
            vec3 matrixColor= vec3(0.0, 1.0, 0.255);

            vec3 fresnelColor = mix(blueColor, goldColor, fr);
            vec3 baseColor    = mix(vec3(0.02, 0.02, 0.06), fresnelColor, fr * 0.7);
            vec3 gridColor    = mix(baseColor, goldColor * 0.6, grid * 0.4);
            vec3 matrixMix    = mix(gridColor, matrixColor * 0.3, grid * pulse * 0.15);

            float alpha = fr * 0.65 + grid * 0.2 + pulse * 0.05;
            gl_FragColor = vec4(matrixMix, clamp(alpha, 0.0, 0.8));
        }
    `
};

const outerGeo = new THREE.SphereGeometry(1.65, 64, 64);
const outerMat = new THREE.ShaderMaterial({
    vertexShader:   outerShader.vertex,
    fragmentShader: outerShader.fragment,
    uniforms: { uTime: { value: 0 } },
    transparent: true,
    side: THREE.DoubleSide,
    blending: THREE.AdditiveBlending,
    depthWrite: false
});
const outerSphere = new THREE.Mesh(outerGeo, outerMat);
scene.add(outerSphere);

// â”€â”€ WIREFRAME ICOSAHEDRON (Sacred Geometry) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const sacredGeo = new THREE.IcosahedronGeometry(1.5, 1);
const sacredMat = new THREE.MeshBasicMaterial({
    color: 0xC9A84C,
    wireframe: true,
    transparent: true,
    opacity: 0.08
});
const sacredMesh = new THREE.Mesh(sacredGeo, sacredMat);
scene.add(sacredMesh);

// â”€â”€ ENERGY RINGS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const rings = [];
[1.9, 2.1, 2.4].forEach((r, i) => {
    const rGeo = new THREE.TorusGeometry(r, 0.004, 8, 120);
    const rMat = new THREE.MeshBasicMaterial({
        color: i === 0 ? 0xC9A84C : i === 1 ? 0x4A90E2 : 0x00FF41,
        transparent: true,
        opacity: 0.3 - i * 0.07
    });
    const ring = new THREE.Mesh(rGeo, rMat);
    ring.rotation.x = Math.PI / 2 + i * 0.3;
    ring.rotation.z = i * 0.5;
    scene.add(ring);
    rings.push({ mesh: ring, speed: 0.003 + i * 0.002, axis: i % 2 === 0 ? 'y' : 'x' });
});

// â”€â”€ PARTICLE SYSTEM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const PARTICLE_COUNT = 800;
const partGeo  = new THREE.BufferGeometry();
const partPos  = new Float32Array(PARTICLE_COUNT * 3);
const partVel  = new Float32Array(PARTICLE_COUNT * 3); // orbital angles
const partSize = new Float32Array(PARTICLE_COUNT);

for (let i = 0; i < PARTICLE_COUNT; i++) {
    const theta = Math.random() * Math.PI * 2;
    const phi   = Math.acos(2 * Math.random() - 1);
    const r     = 1.8 + Math.random() * 1.2;
    partPos[i*3]   = r * Math.sin(phi) * Math.cos(theta);
    partPos[i*3+1] = r * Math.sin(phi) * Math.sin(theta);
    partPos[i*3+2] = r * Math.cos(phi);
    partVel[i*3]   = theta;
    partVel[i*3+1] = phi;
    partVel[i*3+2] = r;
    partSize[i] = Math.random() * 2 + 0.5;
}

partGeo.setAttribute('position', new THREE.BufferAttribute(partPos, 3));
partGeo.setAttribute('size',     new THREE.BufferAttribute(partSize, 1));

const partMat = new THREE.PointsMaterial({
    color: 0xC9A84C,
    size: 0.03,
    transparent: true,
    opacity: 0.6,
    sizeAttenuation: true,
    blending: THREE.AdditiveBlending,
    depthWrite: false
});
const particles = new THREE.Points(partGeo, partMat);
scene.add(particles);

// â”€â”€ MOUSE INTERACTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let targetRotX = 0, targetRotY = 0;
let currentRotX = 0, currentRotY = 0;
let isNearSphere = false;
let rotationSpeed = 0.004;
let totalRotation = 0;
let phrase360Shown = false;

const raycaster = new THREE.Raycaster();
const mouse     = new THREE.Vector2(-10, -10);

document.addEventListener('mousemove', e => {
    mouse.x =  (e.clientX / window.innerWidth)  * 2 - 1;
    mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;
    targetRotX = mouse.y * 0.25;
    targetRotY = mouse.x * 0.25;
});

// Touch support for sphere drag
document.addEventListener('touchmove', e => {
    if (e.touches.length === 1) {
        const t = e.touches[0];
        mouse.x =  (t.clientX / window.innerWidth)  * 2 - 1;
        mouse.y = -(t.clientY / window.innerHeight) * 2 + 1;
        targetRotX = mouse.y * 0.2;
        targetRotY = mouse.x * 0.2;
    }
}, { passive: true });

document.addEventListener('touchend', () => {
    // Pulse on tap
    pulseSphere();
    playPulseSound();
});

document.addEventListener('click', e => {
    raycaster.setFromCamera(mouse, camera);
    const hits = raycaster.intersectObjects([outerSphere, innerSphere]);
    if (hits.length > 0) {
        pulseSphere();
        playPulseSound();
    }
});

function pulseSphere() {
    gsap.to([outerSphere.scale, innerSphere.scale, sacredMesh.scale], {
        x: 1.12, y: 1.12, z: 1.12,
        duration: 0.15, ease: 'power2.out',
        onComplete: () => {
            gsap.to([outerSphere.scale, innerSphere.scale, sacredMesh.scale], {
                x: 1, y: 1, z: 1,
                duration: 0.4, ease: 'elastic.out(1, 0.5)'
            });
        }
    });
    gsap.to(goldLight, { intensity: 8, duration: 0.2, yoyo: true, repeat: 1 });
}

// â”€â”€ SOUND SYSTEM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let audioCtx   = null;
let soundOn    = false;
let ambientOsc = null;

function initAudio() {
    if (audioCtx) return;
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
}

function startAmbient() {
    if (!audioCtx || ambientOsc) return;
    const master = audioCtx.createGain();
    master.gain.value = 0.04;
    master.connect(audioCtx.destination);

    [55, 110, 165].forEach((freq, i) => {
        const osc  = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type      = 'sine';
        osc.frequency.value = freq;
        gain.gain.value     = 1 - i * 0.25;
        osc.connect(gain);
        gain.connect(master);
        osc.start();
    });
    ambientOsc = master;
}

function stopAmbient() {
    if (!ambientOsc) return;
    ambientOsc.gain.setTargetAtTime(0, audioCtx.currentTime, 0.5);
    setTimeout(() => { ambientOsc = null; }, 1000);
}

function playPulseSound() {
    if (!audioCtx || !soundOn) return;
    const osc  = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    osc.type = 'sine';
    osc.frequency.setValueAtTime(432, audioCtx.currentTime);
    osc.frequency.exponentialRampToValueAtTime(216, audioCtx.currentTime + 0.4);
    gain.gain.setValueAtTime(0.08, audioCtx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.5);
    osc.connect(gain);
    gain.connect(audioCtx.destination);
    osc.start();
    osc.stop(audioCtx.currentTime + 0.5);
}

document.getElementById('sound-toggle').addEventListener('click', () => {
    initAudio();
    soundOn = !soundOn;
    const el = document.getElementById('sound-toggle');
    el.classList.toggle('active', soundOn);
    soundOn ? startAmbient() : stopAmbient();
});

// â”€â”€ BUILD DEITY MARKERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const sphereArea = document.getElementById('sphere-area');
DEITIES.forEach(d => {
    const el = document.createElement('div');
    el.className = `deity ${d.cls}`;
    el.id = `deity-${d.id}`;
    el.setAttribute('role', 'button');
    el.setAttribute('tabindex', '0');
    el.setAttribute('aria-label', `Portal ${d.name} â€” NÃ­vel ${d.level}`);
    el.innerHTML = `
        <div class="deity-orb" style="border-color:${d.color}33">
            <span style="filter:drop-shadow(0 0 8px ${d.color})">${d.emoji}</span>
            <div class="deity-level">${d.level}</div>
        </div>
        <div class="deity-name">${d.name}</div>
        <div class="deity-role">${d.role}</div>
    `;
    el.addEventListener('click',   () => activatePortal(d));
    el.addEventListener('keydown', e => { if (e.key==='Enter'||e.key===' ') activatePortal(d); });
    sphereArea.appendChild(el);

    gsap.to(el, {
        y: '+=8',
        repeat: -1,
        yoyo: true,
        duration: 2 + Math.random() * 1.5,
        ease: 'sine.inOut',
        delay: Math.random() * 2
    });
});

// â”€â”€ PORTAL TRANSITION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let isTransitioning = false;

function activatePortal(deity) {
    if (isTransitioning) return;
    isTransitioning = true;
    if (soundOn && audioCtx) {
        const osc  = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = 'sine';
        osc.frequency.setValueAtTime(111, audioCtx.currentTime);
        osc.frequency.linearRampToValueAtTime(432, audioCtx.currentTime + 2);
        gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 3);
        osc.connect(gain); gain.connect(audioCtx.destination);
        osc.start(); osc.stop(audioCtx.currentTime + 3);
    }

    document.getElementById('portal-name').textContent = deity.name.toUpperCase();
    document.getElementById('portal-name').style.color = deity.color;
    document.getElementById('portal-name').style.textShadow = `0 0 40px ${deity.color}`;

    const overlay = document.getElementById('portal-overlay');
    const tl = gsap.timeline();

    tl.to(overlay, { opacity: 1, duration: 0.6, pointerEvents: 'auto' })
      .to('.portal-ring', {
          opacity: 0.8, scale: 2,
          duration: 1.5, stagger: 0.12, ease: 'power2.out'
      }, 0.2)
      .to('#portal-name', { opacity: 1, duration: 0.8, ease: 'power2.out' }, 0.8)
      .to('#portal-sub',  { opacity: 1, duration: 0.6 }, 1.2)
      .to([outerSphere.scale, innerSphere.scale], {
          x: 0.01, y: 0.01, z: 0.01, duration: 1.5, ease: 'power2.in'
      }, 0.5)
      .to('#flash', { opacity: 1, duration: 0.5, ease: 'power2.in' }, 2.8)
      .call(() => { window.location.href = deity.url; }, null, 3.4);
}

// â”€â”€ SHOW ENIGMA PHRASE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let lastPhrase = -1;
function showPhrase(index) {
    const el = document.getElementById('phrase-display');
    const p  = PHRASES[index !== undefined ? index : Math.floor(Math.random() * PHRASES.length)];
    if (el._gsapTween) el._gsapTween.kill();
    el.textContent = p;
    el._gsapTween = gsap.timeline()
        .to(el, { opacity: 1, duration: 0.8, ease: 'power2.out' })
        .to(el, { opacity: 0, duration: 0.8, ease: 'power2.in', delay: 3 });
}

// Periodic phrase every 12s
setInterval(() => { if (!isTransitioning) showPhrase(); }, 12000);

// â”€â”€ RENDER LOOP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const clock = new THREE.Clock();

function animate() {
    requestAnimationFrame(animate);
    const t = clock.getElapsedTime();

    // Shader time
    outerMat.uniforms.uTime.value = t;

    // Check mouse proximity to center
    raycaster.setFromCamera(mouse, camera);
    const nearHits = raycaster.intersectObject(outerSphere);
    isNearSphere   = nearHits.length > 0;
    const target   = isNearSphere ? 0.0008 : 0.004;
    rotationSpeed += (target - rotationSpeed) * 0.05;

    // Sphere rotation
    currentRotX += (targetRotX - currentRotX) * 0.04;
    currentRotY += (targetRotY - currentRotY) * 0.04;

    innerSphere.rotation.y  = t * rotationSpeed * 250 + currentRotY;
    innerSphere.rotation.x  = currentRotX * 0.5;
    outerSphere.rotation.y  = t * rotationSpeed * 200 + currentRotY;
    outerSphere.rotation.x  = currentRotX * 0.3;
    sacredMesh.rotation.y   = -t * 0.006 + currentRotY * 0.5;
    sacredMesh.rotation.x   = t * 0.004;

    // Track total rotation for 360Â° easter egg
    totalRotation += rotationSpeed;
    if (totalRotation > Math.PI * 2 && !phrase360Shown) {
        phrase360Shown = true;
        setTimeout(() => showPhrase(0), 500); // "Quem se conhece governa..."
        setTimeout(() => { phrase360Shown = false; totalRotation = 0; }, 15000);
    }

    // Rings
    rings.forEach(r => {
        r.mesh.rotation[r.axis] += r.speed;
    });

    // Particles orbit
    const pos = partGeo.attributes.position.array;
    for (let i = 0; i < PARTICLE_COUNT; i++) {
        partVel[i*3] += 0.003 + (i % 5) * 0.0003;
        const theta = partVel[i*3];
        const phi   = partVel[i*3+1];
        const r     = partVel[i*3+2];
        pos[i*3]   = r * Math.sin(phi) * Math.cos(theta);
        pos[i*3+1] = r * Math.sin(phi) * Math.sin(theta) + Math.sin(t * 0.3 + i) * 0.05;
        pos[i*3+2] = r * Math.cos(phi);
    }
    partGeo.attributes.position.needsUpdate = true;

    // Pulse gold light
    goldLight.intensity = 2.5 + Math.sin(t * 1.5) * 0.8;
    blueLight.intensity = 1.8 + Math.cos(t * 1.1) * 0.6;

    renderer.render(scene, camera);
}

// â”€â”€ INTRO SEQUENCE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function runIntro() {
    const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

    // Fake load progress
    let p = 0;
    const fillEl = document.getElementById('loader-fill');
    const loaderTimer = setInterval(() => {
        p = Math.min(p + Math.random() * 18, 100);
        fillEl.style.width = p + '%';
        if (p >= 100) {
            clearInterval(loaderTimer);
            tl.to('#loader', { opacity: 0, duration: 1, delay: 0.4,
                onComplete: () => { document.getElementById('loader').remove(); }
            });
        }
    }, 120);

    // UI reveal cascade
    tl.to('#eyebrow',    { opacity: 1, y: 0, duration: 1.2, delay: 2 })
      .to('#hero-title', { opacity: 1, y: 0, duration: 1.2 }, '-=0.6')
      .to('#hero-sub',   { opacity: 1, y: 0, duration: 1 }, '-=0.7')
      .to('#header',     { opacity: 1, y: 0, duration: 1 }, '-=0.5')
      .to('#manifesto',  { opacity: 1, y: 0, duration: 1 }, '-=0.5')
      .to('.corner-glyph', { opacity: 1, duration: 1, stagger: 0.15 }, '-=0.5')
      .to('.side-line',    { opacity: 1, duration: 1.5 }, '-=0.5')
      .to('#enigma',       { opacity: 0.7, duration: 1 }, '-=0.3')
      .to('#sound-toggle', { opacity: 0.7, duration: 1 }, '-=0.5')
      .to('#auth-bar',     { opacity: 1, duration: 0.8, ease: 'power2.out' }, '-=0.6')
      .to('#menu-toggle',  { opacity: 0.9, duration: 0.8 }, '-=0.6');

    // Show deities
    DEITIES.forEach((d, i) => {
        tl.to(`#deity-${d.id}`, { opacity: 1, duration: 0.8 }, `>-0.4`);
    });

    // First phrase after 5s
    setTimeout(() => showPhrase(6), 5000);
}

// â”€â”€ RIGHT NAV MENU â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const menuToggle = document.getElementById('menu-toggle');
const navPanel   = document.getElementById('nav-panel');
const navOverlay = document.getElementById('nav-overlay');

function openNav() {
    menuToggle.classList.add('open');
    navPanel.classList.add('open');
    navOverlay.classList.add('active');
    menuToggle.setAttribute('aria-expanded', 'true');
}
function closeNav() {
    menuToggle.classList.remove('open');
    navPanel.classList.remove('open');
    navOverlay.classList.remove('active');
    menuToggle.setAttribute('aria-expanded', 'false');
}

menuToggle.addEventListener('click', () => menuToggle.classList.contains('open') ? closeNav() : openNav());
navOverlay.addEventListener('click', closeNav);
document.addEventListener('keydown', e => { if (e.key === 'Escape') closeNav(); });

// Add nav panel links to cursor hovering
document.querySelectorAll('.nav-panel-link, .auth-btn, #menu-toggle').forEach(el => {
    el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
    el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
});


let resizeTimer;
window.addEventListener('resize', () => {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(() => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    }, 150);
});

// â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
animate();
runIntro();
</script>
</body>
</html>
            z-index: 2;
            opacity: 0.07;
            pointer-events: none;
        }

        /* â”€â”€ VIGNETTE & OVERLAY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .vignette {
            position: fixed; inset: 0; z-index: 3;
            background: radial-gradient(ellipse at center,
                transparent 25%,
                rgba(6,6,15,0.5) 65%,
                rgba(6,6,15,0.92) 100%);
            pointer-events: none;
        }

        /* â”€â”€ SCANLINES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .scanlines {
            position: fixed; inset: 0; z-index: 4;
            background: repeating-linear-gradient(0deg,
                rgba(0,0,0,0.03), rgba(0,0,0,0.03) 1px,
                transparent 1px, transparent 2px);
            pointer-events: none;
            opacity: 0.5;
        }

        /* â”€â”€ PYRAMIDS SILHOUETTE (SVG background) â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .pyramids-bg {
            position: fixed;
            bottom: 0; left: 0; right: 0;
            height: 35vh;
            z-index: 2;
            pointer-events: none;
            background: 
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 300'%3E%3Cpolygon points='120,300 360,60 600,300' fill='%230A0A18'/%3E%3Cpolygon points='320,300 520,100 720,300' fill='%230D0D20'/%3E%3Cpolygon points='750,300 1000,30 1250,300' fill='%230A0A18'/%3E%3Cpolygon points='1000,300 1180,110 1360,300' fill='%230D0D20'/%3E%3C/svg%3E")
                bottom/cover no-repeat;
            opacity: 0.6;
        }

        /* â”€â”€ STARS LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .stars-svg {
            position: fixed; inset: 0; z-index: 2;
            pointer-events: none;
            opacity: 0.6;
        }

        /* â”€â”€ UI LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #ui {
            position: fixed; inset: 0; z-index: 10;
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            pointer-events: none;
        }

        /* â”€â”€ LOADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #loader {
            position: fixed; inset: 0; z-index: 1000;
            background: var(--void);
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            gap: 24px;
            transition: opacity 1s ease;
        }
        .loader-glyph {
            font-size: 3rem;
            animation: loaderPulse 1.5s ease-in-out infinite;
        }
        .loader-text {
            font-family: var(--font-title);
            font-size: 0.65rem;
            letter-spacing: 0.5em;
            color: var(--gold-dim);
            text-transform: uppercase;
        }
        .loader-bar {
            width: 180px; height: 1px;
            background: rgba(201,168,76,0.15);
            position: relative; overflow: hidden;
        }
        .loader-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--gold-dim), var(--gold-bright));
            width: 0%;
            box-shadow: 0 0 12px var(--gold);
            transition: width 0.4s ease;
        }
        @keyframes loaderPulse {
            0%,100% { opacity:0.4; transform:scale(1); }
            50% { opacity:1; transform:scale(1.1); }
        }

        /* â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .header {
            position: absolute;
            top: 0; left: 0; right: 0;
            display: flex; align-items: center; justify-content: space-between;
            padding: 32px 48px;
            opacity: 0;
            transform: translateY(-20px);
        }

        .logo-mark {
            font-family: var(--font-deco);
            font-size: 1.1rem;
            letter-spacing: 0.4em;
            color: var(--gold);
            text-shadow: 0 0 30px rgba(201,168,76,0.6);
        }

        .nav-links {
            display: flex; gap: 36px;
            pointer-events: auto;
        }
        .nav-link {
            font-family: var(--font-body);
            font-size: 0.65rem;
            letter-spacing: 0.3em;
            color: rgba(255,255,255,0.4);
            text-decoration: none;
            text-transform: uppercase;
            transition: color 0.3s, text-shadow 0.3s;
            cursor: none;
        }
        .nav-link:hover {
            color: var(--gold);
            text-shadow: 0 0 20px rgba(201,168,76,0.5);
        }

        /* â”€â”€ HERO TEXT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .hero-block {
            text-align: center;
            pointer-events: none;
            position: relative;
            z-index: 2;
            margin-bottom: 10px;
        }

        .hero-eyebrow {
            font-family: var(--font-body);
            font-size: 0.6rem;
            letter-spacing: 0.6em;
            color: var(--matrix);
            text-transform: uppercase;
            opacity: 0;
            transform: translateY(10px);
            margin-bottom: 16px;
            text-shadow: 0 0 20px var(--matrix);
        }

        .hero-title {
            font-family: var(--font-deco);
            font-size: clamp(2.8rem, 7vw, 6.5rem);
            font-weight: 700;
            color: var(--gold);
            letter-spacing: 0.15em;
            line-height: 1;
            opacity: 0;
            transform: translateY(20px);
            text-shadow:
                0 0 40px rgba(201,168,76,0.5),
                0 0 80px rgba(201,168,76,0.2);
            margin-bottom: 8px;
        }

        .hero-subtitle {
            font-family: var(--font-title);
            font-size: clamp(0.6rem, 1.5vw, 0.85rem);
            letter-spacing: 0.6em;
            color: rgba(255,255,255,0.35);
            text-transform: uppercase;
            opacity: 0;
            transform: translateY(10px);
            margin-bottom: 48px;
        }

        /* â”€â”€ SPHERE CONTAINER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .sphere-area {
            position: relative;
            width: clamp(280px, 35vw, 500px);
            height: clamp(280px, 35vw, 500px);
            margin: 0 auto;
            touch-action: none;
        }

        /* â”€â”€ DEITY MARKERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .deity {
            position: absolute;
            display: flex; flex-direction: column; align-items: center;
            gap: 8px;
            pointer-events: auto;
            cursor: none;
            opacity: 0;
            transition: opacity 0.3s;
            -webkit-tap-highlight-color: transparent;
        }
        .deity.visible { opacity: 1; }

        .deity-orb {
            width: 52px; height: 52px;
            border-radius: 50%;
            border: 1.5px solid var(--gold-dim);
            background: radial-gradient(ellipse at 35% 35%,
                rgba(201,168,76,0.15) 0%,
                rgba(6,6,15,0.9) 70%);
            display: flex; align-items: center; justify-content: center;
            font-size: 1.3rem;
            position: relative;
            transition: all 0.4s cubic-bezier(0.175,0.885,0.32,1.275);
            box-shadow:
                0 0 15px rgba(201,168,76,0.2),
                inset 0 0 20px rgba(201,168,76,0.05);
        }
        .deity-orb::before {
            content: '';
            position: absolute; inset: -4px;
            border-radius: 50%;
            border: 1px solid rgba(201,168,76,0.2);
            animation: orbRing 4s linear infinite;
        }
        .deity-orb::after {
            content: '';
            position: absolute; inset: -10px;
            border-radius: 50%;
            border: 1px dashed rgba(201,168,76,0.1);
            animation: orbRing 8s linear infinite reverse;
        }
        @keyframes orbRing {
            from { transform: rotate(0deg); }
            to   { transform: rotate(360deg); }
        }

        .deity:hover .deity-orb {
            border-color: var(--gold);
            background: radial-gradient(ellipse at 35% 35%,
                rgba(201,168,76,0.35) 0%,
                rgba(6,6,15,0.85) 70%);
            box-shadow:
                0 0 40px rgba(201,168,76,0.6),
                0 0 80px rgba(201,168,76,0.2),
                inset 0 0 30px rgba(201,168,76,0.15);
            transform: scale(1.15);
        }

        .deity-name {
            font-family: var(--font-title);
            font-size: 0.55rem;
            letter-spacing: 0.3em;
            color: var(--gold-dim);
            text-transform: uppercase;
            transition: color 0.3s;
            white-space: nowrap;
        }
        .deity-role {
            font-size: 0.48rem;
            letter-spacing: 0.2em;
            color: rgba(255,255,255,0.3);
            text-transform: uppercase;
            white-space: nowrap;
        }
        .deity:hover .deity-name { color: var(--gold-bright); text-shadow: 0 0 15px var(--gold); }
        .deity:hover .deity-role { color: rgba(255,255,255,0.6); }

        .deity-level {
            position: absolute;
            top: -4px; right: -4px;
            background: linear-gradient(135deg, var(--gold), var(--gold-bright));
            color: #000;
            font-size: 0.45rem;
            font-weight: 700;
            padding: 2px 5px;
            border-radius: 3px;
            letter-spacing: 0.05em;
        }

        /* Deity positions */
        .deity-anubis { bottom: -30px; left: 50%; transform: translateX(-50%); }
        .deity-horus  { top: -30px;   left: 50%; transform: translateX(-50%); }
        .deity-isis   { top: 50%; left: -70px;   transform: translateY(-50%); }
        .deity-ra     { top: 50%; right: -70px;  transform: translateY(-50%); }

        /* â”€â”€ MANIFESTO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .manifesto {
            position: absolute;
            bottom: 0; left: 0; right: 0;
            text-align: center;
            padding-bottom: 40px;
            pointer-events: none;
            opacity: 0;
            transform: translateY(15px);
        }

        .manifesto-lines {
            font-family: var(--font-body);
            font-size: clamp(0.6rem, 1.2vw, 0.75rem);
            letter-spacing: 0.25em;
            color: rgba(255,255,255,0.25);
            line-height: 2.2;
            margin-bottom: 28px;
        }
        .manifesto-lines em {
            color: rgba(201,168,76,0.5);
            font-style: normal;
        }

        .cta-btn {
            display: inline-block;
            font-family: var(--font-title);
            font-size: 0.65rem;
            letter-spacing: 0.4em;
            color: var(--gold);
            border: 1px solid rgba(201,168,76,0.4);
            padding: 14px 36px;
            text-transform: uppercase;
            text-decoration: none;
            pointer-events: auto;
            cursor: none;
            position: relative;
            transition: all 0.4s ease;
            background: transparent;
            overflow: hidden;
        }
        .cta-btn::before {
            content: '';
            position: absolute; inset: 0;
            background: linear-gradient(90deg, transparent, rgba(201,168,76,0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }
        .cta-btn:hover {
            border-color: var(--gold);
            color: var(--gold-bright);
            box-shadow: 0 0 30px rgba(201,168,76,0.3), inset 0 0 30px rgba(201,168,76,0.05);
        }
        .cta-btn:hover::before { transform: translateX(100%); }
        .cta-btn:active { transform: scale(0.97); }

        /* â”€â”€ CORNER GLYPHS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .corner-glyph {
            position: fixed;
            font-size: 0.5rem;
            letter-spacing: 0.3em;
            color: rgba(201,168,76,0.2);
            font-family: var(--font-body);
            opacity: 0;
        }
        .corner-tl { top: 20px;    left: 20px; }
        .corner-tr { top: 20px;    right: 20px; text-align: right; }
        .corner-bl { bottom: 20px; left: 20px; }
        .corner-br { bottom: 20px; right: 20px; text-align: right; }

        /* â”€â”€ SIDE LINES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .side-line {
            position: fixed;
            background: linear-gradient(to bottom, transparent, rgba(201,168,76,0.3), transparent);
            width: 1px;
            height: 40%;
            top: 30%;
            opacity: 0;
        }
        .side-line-l { left: 32px; }
        .side-line-r { right: 32px; }

        /* â”€â”€ ENIGMA TEXT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #enigma {
            position: fixed;
            bottom: 80px;
            left: 50%; transform: translateX(-50%);
            font-family: var(--font-title);
            font-size: 0.7rem;
            letter-spacing: 0.3em;
            color: var(--matrix);
            text-shadow: 0 0 20px var(--matrix);
            opacity: 0;
            white-space: nowrap;
            z-index: 20;
            pointer-events: none;
            text-align: center;
        }

        /* â”€â”€ PORTAL TRANSITION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #portal-overlay {
            position: fixed; inset: 0; z-index: 500;
            background: radial-gradient(ellipse at center, transparent 0%, rgba(6,6,15,0.98) 100%);
            opacity: 0; pointer-events: none;
            display: flex; align-items: center; justify-content: center;
            flex-direction: column; gap: 20px;
        }
        .portal-ring {
            position: absolute;
            border-radius: 50%;
            border: 1px solid var(--gold);
            opacity: 0;
        }
        #portal-name {
            font-family: var(--font-deco);
            font-size: clamp(1.5rem, 4vw, 3.5rem);
            color: var(--gold);
            letter-spacing: 0.3em;
            opacity: 0;
            text-shadow: 0 0 40px var(--gold);
            position: relative; z-index: 2;
        }
        #portal-sub {
            font-family: var(--font-body);
            font-size: 0.65rem;
            letter-spacing: 0.5em;
            color: rgba(255,255,255,0.4);
            opacity: 0;
            position: relative; z-index: 2;
        }

        /* â”€â”€ FLASH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #flash {
            position: fixed; inset: 0; z-index: 600;
            background: radial-gradient(ellipse at center, #fff 0%, var(--gold-bright) 100%);
            opacity: 0; pointer-events: none;
        }

        /* â”€â”€ ENIGMA PHRASES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #phrase-display {
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            font-family: var(--font-title);
            font-size: clamp(0.8rem, 2vw, 1.2rem);
            color: var(--gold);
            letter-spacing: 0.2em;
            text-align: center;
            opacity: 0;
            z-index: 20;
            pointer-events: none;
            text-shadow: 0 0 30px rgba(201,168,76,0.7);
            max-width: 600px;
            line-height: 1.8;
        }

        /* â”€â”€ SOUND INDICATOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #sound-toggle {
            position: fixed;
            bottom: 32px; right: 48px;
            z-index: 50;
            pointer-events: auto;
            cursor: none;
            display: flex; align-items: center; gap: 8px;
            opacity: 0;
        }
        .sound-bars {
            display: flex; align-items: flex-end; gap: 2px; height: 14px;
        }
        .sound-bar {
            width: 2px;
            background: var(--gold-dim);
            border-radius: 1px;
            transition: height 0.2s, background 0.2s;
        }
        #sound-toggle.active .sound-bar { background: var(--gold); }
        #sound-toggle.active .sound-bar:nth-child(1) { animation: bar1 0.8s ease infinite; }
        #sound-toggle.active .sound-bar:nth-child(2) { animation: bar2 0.6s ease infinite; }
        #sound-toggle.active .sound-bar:nth-child(3) { animation: bar3 1.0s ease infinite; }
        #sound-toggle.active .sound-bar:nth-child(4) { animation: bar2 0.7s ease infinite; }
        @keyframes bar1 { 0%,100%{height:4px} 50%{height:14px} }
        @keyframes bar2 { 0%,100%{height:8px} 50%{height:4px}  }
        @keyframes bar3 { 0%,100%{height:12px} 50%{height:6px} }
        .sound-label {
            font-size: 0.5rem;
            letter-spacing: 0.3em;
            color: var(--gold-dim);
        }
        #sound-toggle:hover .sound-label { color: var(--gold); }

        /* â”€â”€ AUTH BUTTONS (centro-superior) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .auth-bar {
            position: fixed;
            top: 22px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 200;
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0;
            pointer-events: auto;
        }

        .auth-btn {
            font-family: var(--font-title);
            font-size: 0.58rem;
            letter-spacing: 0.35em;
            text-transform: uppercase;
            text-decoration: none;
            padding: 9px 22px;
            border-radius: 2px;
            cursor: none;
            transition: all 0.35s ease;
            display: inline-block;
            white-space: nowrap;
        }

        .auth-btn-login {
            color: var(--gold);
            border: 1px solid rgba(201,168,76,0.35);
            background: rgba(6,6,15,0.6);
            backdrop-filter: blur(10px);
        }
        .auth-btn-login:hover {
            border-color: var(--gold);
            background: rgba(201,168,76,0.08);
            box-shadow: 0 0 20px rgba(201,168,76,0.25);
            color: var(--gold-bright);
        }

        .auth-btn-register {
            color: #000;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-bright) 100%);
            border: 1px solid var(--gold-bright);
            box-shadow: 0 0 20px rgba(201,168,76,0.3);
        }
        .auth-btn-register:hover {
            background: linear-gradient(135deg, var(--gold-bright) 0%, #fff8c0 100%);
            box-shadow: 0 0 35px rgba(255,215,0,0.5), 0 0 60px rgba(201,168,76,0.2);
            transform: scale(1.04);
        }

        .auth-divider {
            width: 1px;
            height: 18px;
            background: rgba(201,168,76,0.2);
        }

        /* â”€â”€ NAV MENU DIREITO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #menu-toggle {
            position: fixed;
            top: 20px;
            right: 28px;
            z-index: 300;
            width: 44px; height: 44px;
            background: rgba(6,6,15,0.75);
            border: 1px solid rgba(201,168,76,0.3);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            cursor: none;
            pointer-events: auto;
            transition: all 0.35s ease;
            backdrop-filter: blur(12px);
            opacity: 0;
        }
        #menu-toggle:hover {
            border-color: var(--gold);
            background: rgba(201,168,76,0.1);
            box-shadow: 0 0 25px rgba(201,168,76,0.35);
        }
        #menu-toggle svg {
            stroke: var(--gold);
            transition: stroke 0.2s;
        }

        /* Hamburger â†’ X animation */
        #menu-toggle .bar-top,
        #menu-toggle .bar-mid,
        #menu-toggle .bar-bot {
            transition: transform 0.35s ease, opacity 0.25s ease;
            transform-origin: center;
        }
        #menu-toggle.open .bar-top { transform: rotate(45deg) translate(4px, 4px); }
        #menu-toggle.open .bar-mid { opacity: 0; transform: scaleX(0); }
        #menu-toggle.open .bar-bot { transform: rotate(-45deg) translate(4px, -4px); }

        /* Overlay */
        #nav-overlay {
            position: fixed; inset: 0;
            background: rgba(6,6,15,0.5);
            backdrop-filter: blur(2px);
            z-index: 250;
            opacity: 0; visibility: hidden;
            transition: all 0.4s ease;
            pointer-events: none;
        }
        #nav-overlay.active { opacity: 1; visibility: visible; pointer-events: auto; }

        /* Panel */
        #nav-panel {
            position: fixed;
            top: 0; right: 0;
            width: 300px; height: 100vh;
            z-index: 280;
            background: linear-gradient(180deg, rgba(6,6,15,0.99) 0%, rgba(10,10,24,0.96) 100%);
            border-left: 1px solid rgba(201,168,76,0.2);
            backdrop-filter: blur(24px);
            padding: 88px 28px 40px;
            transform: translateX(100%);
            transition: transform 0.5s cubic-bezier(0.77,0,0.175,1);
            overflow-y: auto;
            pointer-events: auto;
        }
        #nav-panel.open { transform: translateX(0); }

        .nav-panel-header {
            font-family: var(--font-title);
            font-size: 0.6rem;
            letter-spacing: 0.5em;
            color: rgba(201,168,76,0.4);
            text-transform: uppercase;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(201,168,76,0.15);
        }

        .nav-panel-link {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 13px 16px;
            margin-bottom: 6px;
            text-decoration: none;
            color: rgba(255,255,255,0.6);
            border: 1px solid transparent;
            border-radius: 4px;
            cursor: none;
            transition: all 0.3s ease;
            position: relative;
        }
        .nav-panel-link:hover {
            color: var(--gold-bright);
            border-color: rgba(201,168,76,0.25);
            background: rgba(201,168,76,0.06);
            transform: translateX(4px);
            box-shadow: 0 0 18px rgba(201,168,76,0.1);
        }
        .nav-panel-link:hover .nav-icon { color: var(--gold); }

        .nav-icon {
            font-size: 1rem;
            color: var(--gold-dim);
            width: 20px; text-align: center;
            transition: color 0.3s;
            flex-shrink: 0;
        }

        .nav-link-content { flex: 1; }
        .nav-link-title {
            font-family: var(--font-title);
            font-size: 0.75rem;
            letter-spacing: 0.15em;
            display: block;
            margin-bottom: 2px;
        }
        .nav-link-sub {
            font-size: 0.58rem;
            letter-spacing: 0.1em;
            color: rgba(255,255,255,0.3);
            display: block;
        }

        .nav-panel-divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(201,168,76,0.2), transparent);
            margin: 14px 0;
        }

        .nav-highlight {
            border-color: rgba(201,168,76,0.2) !important;
            background: rgba(201,168,76,0.04);
        }
        .nav-highlight .nav-link-title { color: var(--gold); }
        .nav-highlight::before {
            content: 'â˜…';
            position: absolute;
            top: -7px; right: 10px;
            color: var(--gold);
            font-size: 0.6rem;
        }

        .nav-panel-footer {
            margin-top: 28px;
            padding-top: 18px;
            border-top: 1px solid rgba(201,168,76,0.1);
            font-size: 0.55rem;
            letter-spacing: 0.3em;
            color: rgba(255,255,255,0.2);
            text-align: center;
        }

        /* â”€â”€ RESPONSIVE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        @media (max-width: 768px) {

            /* Cursor nativo no touch */
            body { cursor: auto; }
            #cursor, #cursor-ring { display: none; }
            a, button, .deity { cursor: pointer; }

            /* Header: sÃ³ logo */
            .header { padding: 16px 20px; justify-content: flex-start; }
            .logo-mark { font-size: 0.85rem; letter-spacing: 0.3em; }
            .nav-links { display: none; }

            /* Auth bar: alinhada Ã  direita, espaÃ§o para o toggle */
            .auth-bar {
                left: auto;
                right: 72px;
                transform: none;
                top: 18px;
                gap: 6px;
            }
            .auth-btn { padding: 7px 12px; font-size: 0.5rem; letter-spacing: 0.2em; }
            .auth-divider { display: none; }

            /* Menu-toggle */
            #menu-toggle { right: 16px; top: 16px; width: 40px; height: 40px; }

            /* Nav panel */
            #nav-panel { width: 80vw; max-width: 300px; padding: 80px 20px 32px; }
            .nav-panel-link { padding: 12px 14px; cursor: pointer; }

            /* Hero */
            .hero-block { margin-bottom: 4px; }
            .hero-subtitle { margin-bottom: 24px; letter-spacing: 0.3em; }

            /* Esfera menor */
            .sphere-area {
                width: clamp(200px, 70vw, 300px);
                height: clamp(200px, 70vw, 300px);
            }

            /* Deuses reposicionados */
            .deity-anubis { bottom: -40px; }
            .deity-horus  { top: -40px; }
            .deity-isis   { left: -44px; }
            .deity-ra     { right: -44px; }
            .deity-orb    { width: 40px; height: 40px; font-size: 0.95rem; }
            .deity-name   { font-size: 0.48rem; }
            .deity-role   { display: none; }

            /* Manifesto compacto */
            .manifesto { padding-bottom: 20px; }
            .manifesto-lines {
                font-size: 0.55rem;
                letter-spacing: 0.12em;
                line-height: 2;
                margin-bottom: 18px;
            }
            .cta-btn { padding: 11px 24px; font-size: 0.55rem; letter-spacing: 0.25em; cursor: pointer; }

            /* Elementos decorativos ocultos */
            .corner-glyph { display: none; }
            .side-line    { display: none; }

            /* Enigma */
            #enigma { bottom: 100px; font-size: 0.5rem; letter-spacing: 0.2em; }

            /* Sound */
            #sound-toggle { bottom: 18px; right: 16px; }
            .sound-label  { display: none; }

            /* Pyramids */
            .pyramids-bg { height: 25vh; }
        }

        /* Telas muito pequenas */
        @media (max-width: 380px) {
            .sphere-area { width: 190px; height: 190px; }
            .deity-isis  { left: -38px; }
            .deity-ra    { right: -38px; }
            .deity-orb   { width: 34px; height: 34px; font-size: 0.8rem; }
            .auth-bar    { display: none; }
        }
    </style>
</head>
<body>

<!-- Custom Cursor -->
<div id="cursor"></div>
<div id="cursor-ring"></div>

<!-- Loader -->
<div id="loader">
    <div class="loader-glyph">ğ“‚€</div>
    <div class="loader-text">Inicializando Portal</div>
    <div class="loader-bar"><div class="loader-fill" id="loader-fill"></div></div>
</div>

<!-- Background Layers -->
<canvas id="stage"></canvas>
<canvas id="matrix-canvas"></canvas>

<!-- Stars -->
<svg class="stars-svg" xmlns="http://www.w3.org/2000/svg" id="stars-svg"></svg>

<!-- Atmospheric -->
<div class="vignette"></div>
<div class="scanlines"></div>
<div class="pyramids-bg"></div>

<!-- Corner Glyphs -->
<div class="corner-glyph corner-tl" id="c-tl">ğ“‚€ AKASHA<br>â—ˆ ONLINE</div>
<div class="corner-glyph corner-tr" id="c-tr">PORTAL ATIVO â—ˆ<br>ğ“¹ DESPERTAR</div>
<div class="corner-glyph corner-bl" id="c-bl">ğ“†£ CONSCIÃŠNCIA<br>â—ˆ EXPANDIDA</div>
<div class="corner-glyph corner-br" id="c-br">REALIDADE â—ˆ<br>ğ“‚‹ GOVERNADA</div>

<!-- Side Lines -->
<div class="side-line side-line-l" id="sl-l"></div>
<div class="side-line side-line-r" id="sl-r"></div>

<!-- Enigma Prompt -->
<div id="enigma">â–¸ GIRE A ESFERA PARA ATIVAR â–¸</div>

<!-- Phrase Display -->
<div id="phrase-display"></div>

<!-- Portal Transition -->
<div id="portal-overlay">
    <div class="portal-ring" style="width:80px;height:80px"></div>
    <div class="portal-ring" style="width:180px;height:180px"></div>
    <div class="portal-ring" style="width:300px;height:300px"></div>
    <div class="portal-ring" style="width:450px;height:450px"></div>
    <div class="portal-ring" style="width:650px;height:650px"></div>
    <div id="portal-name">ANÃšBIS</div>
    <div id="portal-sub">PORTAL DIMENSIONAL ATIVADO</div>
</div>
<div id="flash"></div>

<!-- Sound Toggle -->
<div id="sound-toggle">
    <div class="sound-bars">
        <div class="sound-bar" style="height:4px"></div>
        <div class="sound-bar" style="height:10px"></div>
        <div class="sound-bar" style="height:6px"></div>
        <div class="sound-bar" style="height:12px"></div>
    </div>
    <span class="sound-label">SOM</span>
</div>

<!-- â”€â”€ AUTH BUTTONS (centro-superior) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="auth-bar" id="auth-bar">
    <a href="https://akashahub.com.br/login" class="auth-btn auth-btn-login">â—ˆ Entrar</a>
    <div class="auth-divider"></div>
    <a href="https://akashahub.com.br/cadastro" class="auth-btn auth-btn-register">Cadastrar</a>
</div>

<!-- â”€â”€ NAV MENU DIREITO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="nav-overlay"></div>

<button id="menu-toggle" aria-label="Menu de navegaÃ§Ã£o" aria-expanded="false">
    <svg width="18" height="14" viewBox="0 0 18 14" fill="none" stroke-width="1.8" stroke-linecap="round">
        <line class="bar-top" x1="0" y1="1"  x2="18" y2="1"/>
        <line class="bar-mid" x1="0" y1="7"  x2="18" y2="7"/>
        <line class="bar-bot" x1="0" y1="13" x2="18" y2="13"/>
    </svg>
</button>

<nav id="nav-panel" aria-label="Menu principal">
    <div class="nav-panel-header">â—ˆ NavegaÃ§Ã£o â—ˆ</div>

    <a href="https://akashahub.com.br/mentoria" class="nav-panel-link">
        <span class="nav-icon">ğ“¹</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Mentoria</span>
            <span class="nav-link-sub">Programa de desenvolvimento</span>
        </div>
    </a>

    <a href="https://akashahub.com.br/partners" class="nav-panel-link">
        <span class="nav-icon">ğ“†£</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Parceria</span>
            <span class="nav-link-sub">Patrocinadores & afiliados</span>
        </div>
    </a>

    <a href="https://akashahub.com.br/vip" class="nav-panel-link">
        <span class="nav-icon">ğ“‡³</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Presencial</span>
            <span class="nav-link-sub">ImersÃ£o & experiÃªncia VIP</span>
        </div>
    </a>

    <a href="https://akashahub.com.br/store" class="nav-panel-link">
        <span class="nav-icon">ğ“‹¹</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Loja</span>
            <span class="nav-link-sub">Produtos & ferramentas</span>
        </div>
    </a>

    <div class="nav-panel-divider"></div>

    <a href="https://akashahub.com.br/doutrina" class="nav-panel-link">
        <span class="nav-icon">ğ“‚‹</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Doutrina</span>
            <span class="nav-link-sub">Ãudios, livros & conteÃºdos</span>
        </div>
    </a>

    <a href="https://akashahub.com.br/livre/" class="nav-panel-link nav-highlight">
        <span class="nav-icon">ğ“‚€</span>
        <div class="nav-link-content">
            <span class="nav-link-title">SessÃ£o GrÃ¡tis</span>
            <span class="nav-link-sub">Grupos online abertos</span>
        </div>
    </a>

    <div class="nav-panel-footer">ğ“‚€ AKASHA EMPIRE</div>
</nav>


<div id="ui">
    <div class="header" id="header">
        <div class="logo-mark">ğ“‚€ AKASHA</div>
        <nav class="nav-links">
            <a href="https://akashahub.com.br/mentoria" class="nav-link">Mentoria</a>
            <a href="https://akashahub.com.br/vip" class="nav-link">Presencial VIP</a>
            <a href="https://akashahub.com.br/partners" class="nav-link">Parceiros</a>
            <a href="https://akashahub.com.br/livre/" class="nav-link">SessÃµes GrÃ¡tis</a>
        </nav>
    </div>

    <div class="hero-block">
        <div class="hero-eyebrow" id="eyebrow">â—ˆ Portal de Despertar â—ˆ</div>
        <h1 class="hero-title" id="hero-title">AKASHA HUB</h1>
        <p class="hero-subtitle" id="hero-sub">Biblioteca Global do Universo</p>
    </div>

    <!-- Sphere + Deity Markers -->
    <div class="sphere-area" id="sphere-area">
        <!-- Deities injected by JS -->
    </div>

    <!-- Manifesto + CTA -->
    <div class="manifesto" id="manifesto">
        <div class="manifesto-lines">
            Saia da Matrix. &nbsp;<em>Acesse a Biblioteca Global do Universo.</em><br>
            Desperte seu PropÃ³sito. &nbsp;<em>Governe sua Realidade.</em>
        </div>
        <a href="#" class="cta-btn" id="cta">INICIAR TRANSMISSÃƒO</a>
    </div>
</div>

<!-- Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  AKASHA ENGINE v4.0 â€” PORTAL DE DESPERTAR
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â”€â”€ DEITIES DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const DEITIES = [
    { id:'anubis', name:'AnÃºbis', role:'Despertar',  level:'N1', emoji:'ğ“ƒ£', color:'#C9A84C', url:'https://pay.hotmart.com/N104491126Y', cls:'deity-anubis' },
    { id:'horus',  name:'HÃ³rus',  role:'VisÃ£o',      level:'N2', emoji:'ğ“¹', color:'#4A90E2', url:'https://pay.hotmart.com/O104491171B', cls:'deity-horus'  },
    { id:'isis',   name:'Ãsis',   role:'Sabedoria',  level:'N3', emoji:'ğ“‹¹', color:'#9B59B6', url:'https://pay.hotmart.com/F104491235U', cls:'deity-isis'   },
    { id:'ra',     name:'RÃ¡',     role:'LideranÃ§a',  level:'N4', emoji:'ğ“‡³', color:'#FFD700', url:'https://pay.hotmart.com/L104491291E', cls:'deity-ra'     }
];

// â”€â”€ ENIGMA PHRASES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const PHRASES = [
    "Quem se conhece governa sua realidade.",
    "Conhecimento sem aplicaÃ§Ã£o Ã© ilusÃ£o.",
    "VocÃª nÃ£o estÃ¡ clicando. VocÃª estÃ¡ ativando.",
    "A Matrix sÃ³ prende quem nÃ£o sabe que existe.",
    "ConsciÃªncia Ã© o Ãºnico poder que ninguÃ©m pode tirar de vocÃª.",
    "Aqui vocÃª transforma consciÃªncia em posiÃ§Ã£o no mundo.",
    "Saia da Matrix. Governe sua Realidade."
];

// â”€â”€ CUSTOM CURSOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const cursorEl  = document.getElementById('cursor');
const cursorRing = document.getElementById('cursor-ring');
let mx = 0, my = 0, rx = 0, ry = 0;

document.addEventListener('mousemove', e => { mx = e.clientX; my = e.clientY; });
setInterval(() => {
    rx += (mx - rx) * 0.12;
    ry += (my - ry) * 0.12;
    cursorEl.style.left   = mx + 'px';
    cursorEl.style.top    = my + 'px';
    cursorRing.style.left = rx + 'px';
    cursorRing.style.top  = ry + 'px';
}, 16);

document.querySelectorAll('a, button, .deity, #sound-toggle').forEach(el => {
    el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
    el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
});

// â”€â”€ GENERATE STARS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(function generateStars() {
    const svg = document.getElementById('stars-svg');
    const count = 200;
    let html = '';
    for (let i = 0; i < count; i++) {
        const x    = Math.random() * 100;
        const y    = Math.random() * 70;
        const r    = Math.random() * 1.2 + 0.2;
        const op   = Math.random() * 0.6 + 0.1;
        const dur  = (Math.random() * 4 + 2).toFixed(1);
        const del  = (Math.random() * 4).toFixed(1);
        html += `<circle cx="${x}%" cy="${y}%" r="${r}" fill="white" opacity="${op}">
            <animate attributeName="opacity" values="${op};${op*0.2};${op}" dur="${dur}s" begin="${del}s" repeatCount="indefinite"/>
        </circle>`;
    }
    svg.innerHTML = html;
})();

// â”€â”€ MATRIX RAIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(function matrixRain() {
    const canvas = document.getElementById('matrix-canvas');
    const ctx    = canvas.getContext('2d');
    canvas.width  = window.innerWidth;
    canvas.height = window.innerHeight;

    const chars  = 'ã‚¢ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³01ã‚¢BCDEFGHIJKLMNOPQRSTUVWXYZğ“‚€ğ“¹ğ“†£ğ“‡³ğ“‹¹01';
    const cols   = Math.floor(canvas.width / 18);
    const drops  = Array(cols).fill(1);

    function draw() {
        ctx.fillStyle = 'rgba(6,6,15,0.05)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#00FF41';
        ctx.font = '14px monospace';
        drops.forEach((y, i) => {
            const c = chars[Math.floor(Math.random() * chars.length)];
            ctx.fillText(c, i * 18, y * 18);
            if (y * 18 > canvas.height && Math.random() > 0.975) drops[i] = 0;
            drops[i]++;
        });
    }

    setInterval(draw, 50);
    window.addEventListener('resize', () => {
        canvas.width  = window.innerWidth;
        canvas.height = window.innerHeight;
    });
})();

// â”€â”€ THREE.JS: ESFERA AKÃSHICA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const threeCanvas = document.getElementById('stage');
const renderer = new THREE.WebGLRenderer({
    canvas: threeCanvas,
    antialias: true,
    alpha: true,
    powerPreference: 'high-performance'
});
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
renderer.toneMapping = THREE.ACESFilmicToneMapping;
renderer.toneMappingExposure = 1.0;

const scene  = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 100);
camera.position.set(0, 0, 7);

// Lighting
scene.add(new THREE.AmbientLight(0x111122, 2));
const goldLight = new THREE.PointLight(0xC9A84C, 3, 15);
goldLight.position.set(2, 2, 4);
scene.add(goldLight);
const blueLight = new THREE.PointLight(0x4A90E2, 2, 15);
blueLight.position.set(-3, -1, 3);
scene.add(blueLight);

// â”€â”€ SACRED GEOMETRY INNER SPHERE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const innerGeo = new THREE.IcosahedronGeometry(1.3, 2);
const innerMat = new THREE.MeshStandardMaterial({
    color: 0x0A0A18,
    metalness: 0.1,
    roughness: 0.8,
    wireframe: false,
    emissive: 0x1A1A3A,
    emissiveIntensity: 0.5
});
const innerSphere = new THREE.Mesh(innerGeo, innerMat);
scene.add(innerSphere);

// â”€â”€ OUTER TRANSLUCENT SPHERE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const outerShader = {
    vertex: `
        varying vec3 vNormal;
        varying vec3 vPos;
        varying vec2 vUv;
        void main() {
            vNormal = normalize(normalMatrix * normal);
            vPos    = position;
            vUv     = uv;
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
    `,
    fragment: `
        uniform float uTime;
        varying vec3 vNormal;
        varying vec3 vPos;
        varying vec2 vUv;

        float fresnel(vec3 n, float power) {
            return pow(1.0 - abs(dot(n, vec3(0.0, 0.0, 1.0))), power);
        }

        void main() {
            float fr      = fresnel(vNormal, 2.5);
            float pulse   = sin(uTime * 1.2) * 0.5 + 0.5;
            float grid    = step(0.97, fract(vUv.y * 30.0 + uTime * 0.1))
                          + step(0.97, fract(vUv.x * 30.0 - uTime * 0.08));
            grid = clamp(grid, 0.0, 1.0);

            vec3 goldColor  = vec3(0.788, 0.659, 0.298);
            vec3 blueColor  = vec3(0.29, 0.565, 0.886);
            vec3 matrixColor= vec3(0.0, 1.0, 0.255);

            vec3 fresnelColor = mix(blueColor, goldColor, fr);
            vec3 baseColor    = mix(vec3(0.02, 0.02, 0.06), fresnelColor, fr * 0.7);
            vec3 gridColor    = mix(baseColor, goldColor * 0.6, grid * 0.4);
            vec3 matrixMix    = mix(gridColor, matrixColor * 0.3, grid * pulse * 0.15);

            float alpha = fr * 0.65 + grid * 0.2 + pulse * 0.05;
            gl_FragColor = vec4(matrixMix, clamp(alpha, 0.0, 0.8));
        }
    `
};

const outerGeo = new THREE.SphereGeometry(1.65, 64, 64);
const outerMat = new THREE.ShaderMaterial({
    vertexShader:   outerShader.vertex,
    fragmentShader: outerShader.fragment,
    uniforms: { uTime: { value: 0 } },
    transparent: true,
    side: THREE.DoubleSide,
    blending: THREE.AdditiveBlending,
    depthWrite: false
});
const outerSphere = new THREE.Mesh(outerGeo, outerMat);
scene.add(outerSphere);

// â”€â”€ WIREFRAME ICOSAHEDRON (Sacred Geometry) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const sacredGeo = new THREE.IcosahedronGeometry(1.5, 1);
const sacredMat = new THREE.MeshBasicMaterial({
    color: 0xC9A84C,
    wireframe: true,
    transparent: true,
    opacity: 0.08
});
const sacredMesh = new THREE.Mesh(sacredGeo, sacredMat);
scene.add(sacredMesh);

// â”€â”€ ENERGY RINGS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const rings = [];
[1.9, 2.1, 2.4].forEach((r, i) => {
    const rGeo = new THREE.TorusGeometry(r, 0.004, 8, 120);
    const rMat = new THREE.MeshBasicMaterial({
        color: i === 0 ? 0xC9A84C : i === 1 ? 0x4A90E2 : 0x00FF41,
        transparent: true,
        opacity: 0.3 - i * 0.07
    });
    const ring = new THREE.Mesh(rGeo, rMat);
    ring.rotation.x = Math.PI / 2 + i * 0.3;
    ring.rotation.z = i * 0.5;
    scene.add(ring);
    rings.push({ mesh: ring, speed: 0.003 + i * 0.002, axis: i % 2 === 0 ? 'y' : 'x' });
});

// â”€â”€ PARTICLE SYSTEM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const PARTICLE_COUNT = 800;
const partGeo  = new THREE.BufferGeometry();
const partPos  = new Float32Array(PARTICLE_COUNT * 3);
const partVel  = new Float32Array(PARTICLE_COUNT * 3); // orbital angles
const partSize = new Float32Array(PARTICLE_COUNT);

for (let i = 0; i < PARTICLE_COUNT; i++) {
    const theta = Math.random() * Math.PI * 2;
    const phi   = Math.acos(2 * Math.random() - 1);
    const r     = 1.8 + Math.random() * 1.2;
    partPos[i*3]   = r * Math.sin(phi) * Math.cos(theta);
    partPos[i*3+1] = r * Math.sin(phi) * Math.sin(theta);
    partPos[i*3+2] = r * Math.cos(phi);
    partVel[i*3]   = theta;
    partVel[i*3+1] = phi;
    partVel[i*3+2] = r;
    partSize[i] = Math.random() * 2 + 0.5;
}

partGeo.setAttribute('position', new THREE.BufferAttribute(partPos, 3));
partGeo.setAttribute('size',     new THREE.BufferAttribute(partSize, 1));

const partMat = new THREE.PointsMaterial({
    color: 0xC9A84C,
    size: 0.03,
    transparent: true,
    opacity: 0.6,
    sizeAttenuation: true,
    blending: THREE.AdditiveBlending,
    depthWrite: false
});
const particles = new THREE.Points(partGeo, partMat);
scene.add(particles);

// â”€â”€ MOUSE INTERACTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let targetRotX = 0, targetRotY = 0;
let currentRotX = 0, currentRotY = 0;
let isNearSphere = false;
let rotationSpeed = 0.004;
let totalRotation = 0;
let phrase360Shown = false;

const raycaster = new THREE.Raycaster();
const mouse     = new THREE.Vector2(-10, -10);

document.addEventListener('mousemove', e => {
    mouse.x =  (e.clientX / window.innerWidth)  * 2 - 1;
    mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;
    targetRotX = mouse.y * 0.25;
    targetRotY = mouse.x * 0.25;
});

// Touch support for sphere drag
document.addEventListener('touchmove', e => {
    if (e.touches.length === 1) {
        const t = e.touches[0];
        mouse.x =  (t.clientX / window.innerWidth)  * 2 - 1;
        mouse.y = -(t.clientY / window.innerHeight) * 2 + 1;
        targetRotX = mouse.y * 0.2;
        targetRotY = mouse.x * 0.2;
    }
}, { passive: true });

document.addEventListener('touchend', () => {
    // Pulse on tap
    pulseSphere();
    playPulseSound();
});

document.addEventListener('click', e => {
    raycaster.setFromCamera(mouse, camera);
    const hits = raycaster.intersectObjects([outerSphere, innerSphere]);
    if (hits.length > 0) {
        pulseSphere();
        playPulseSound();
    }
});

function pulseSphere() {
    gsap.to([outerSphere.scale, innerSphere.scale, sacredMesh.scale], {
        x: 1.12, y: 1.12, z: 1.12,
        duration: 0.15, ease: 'power2.out',
        onComplete: () => {
            gsap.to([outerSphere.scale, innerSphere.scale, sacredMesh.scale], {
                x: 1, y: 1, z: 1,
                duration: 0.4, ease: 'elastic.out(1, 0.5)'
            });
        }
    });
    gsap.to(goldLight, { intensity: 8, duration: 0.2, yoyo: true, repeat: 1 });
}

// â”€â”€ SOUND SYSTEM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let audioCtx   = null;
let soundOn    = false;
let ambientOsc = null;

function initAudio() {
    if (audioCtx) return;
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
}

function startAmbient() {
    if (!audioCtx || ambientOsc) return;
    const master = audioCtx.createGain();
    master.gain.value = 0.04;
    master.connect(audioCtx.destination);

    [55, 110, 165].forEach((freq, i) => {
        const osc  = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type      = 'sine';
        osc.frequency.value = freq;
        gain.gain.value     = 1 - i * 0.25;
        osc.connect(gain);
        gain.connect(master);
        osc.start();
    });
    ambientOsc = master;
}

function stopAmbient() {
    if (!ambientOsc) return;
    ambientOsc.gain.setTargetAtTime(0, audioCtx.currentTime, 0.5);
    setTimeout(() => { ambientOsc = null; }, 1000);
}

function playPulseSound() {
    if (!audioCtx || !soundOn) return;
    const osc  = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    osc.type = 'sine';
    osc.frequency.setValueAtTime(432, audioCtx.currentTime);
    osc.frequency.exponentialRampToValueAtTime(216, audioCtx.currentTime + 0.4);
    gain.gain.setValueAtTime(0.08, audioCtx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.5);
    osc.connect(gain);
    gain.connect(audioCtx.destination);
    osc.start();
    osc.stop(audioCtx.currentTime + 0.5);
}

document.getElementById('sound-toggle').addEventListener('click', () => {
    initAudio();
    soundOn = !soundOn;
    const el = document.getElementById('sound-toggle');
    el.classList.toggle('active', soundOn);
    soundOn ? startAmbient() : stopAmbient();
});

// â”€â”€ BUILD DEITY MARKERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const sphereArea = document.getElementById('sphere-area');
DEITIES.forEach(d => {
    const el = document.createElement('div');
    el.className = `deity ${d.cls}`;
    el.id = `deity-${d.id}`;
    el.setAttribute('role', 'button');
    el.setAttribute('tabindex', '0');
    el.setAttribute('aria-label', `Portal ${d.name} â€” NÃ­vel ${d.level}`);
    el.innerHTML = `
        <div class="deity-orb" style="border-color:${d.color}33">
            <span style="filter:drop-shadow(0 0 8px ${d.color})">${d.emoji}</span>
            <div class="deity-level">${d.level}</div>
        </div>
        <div class="deity-name">${d.name}</div>
        <div class="deity-role">${d.role}</div>
    `;
    el.addEventListener('click',   () => activatePortal(d));
    el.addEventListener('keydown', e => { if (e.key==='Enter'||e.key===' ') activatePortal(d); });
    sphereArea.appendChild(el);

    gsap.to(el, {
        y: '+=8',
        repeat: -1,
        yoyo: true,
        duration: 2 + Math.random() * 1.5,
        ease: 'sine.inOut',
        delay: Math.random() * 2
    });
});

// â”€â”€ PORTAL TRANSITION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let isTransitioning = false;

function activatePortal(deity) {
    if (isTransitioning) return;
    isTransitioning = true;
    if (soundOn && audioCtx) {
        const osc  = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = 'sine';
        osc.frequency.setValueAtTime(111, audioCtx.currentTime);
        osc.frequency.linearRampToValueAtTime(432, audioCtx.currentTime + 2);
        gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 3);
        osc.connect(gain); gain.connect(audioCtx.destination);
        osc.start(); osc.stop(audioCtx.currentTime + 3);
    }

    document.getElementById('portal-name').textContent = deity.name.toUpperCase();
    document.getElementById('portal-name').style.color = deity.color;
    document.getElementById('portal-name').style.textShadow = `0 0 40px ${deity.color}`;

    const overlay = document.getElementById('portal-overlay');
    const tl = gsap.timeline();

    tl.to(overlay, { opacity: 1, duration: 0.6, pointerEvents: 'auto' })
      .to('.portal-ring', {
          opacity: 0.8, scale: 2,
          duration: 1.5, stagger: 0.12, ease: 'power2.out'
      }, 0.2)
      .to('#portal-name', { opacity: 1, duration: 0.8, ease: 'power2.out' }, 0.8)
      .to('#portal-sub',  { opacity: 1, duration: 0.6 }, 1.2)
      .to([outerSphere.scale, innerSphere.scale], {
          x: 0.01, y: 0.01, z: 0.01, duration: 1.5, ease: 'power2.in'
      }, 0.5)
      .to('#flash', { opacity: 1, duration: 0.5, ease: 'power2.in' }, 2.8)
      .call(() => { window.location.href = deity.url; }, null, 3.4);
}

// â”€â”€ SHOW ENIGMA PHRASE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let lastPhrase = -1;
function showPhrase(index) {
    const el = document.getElementById('phrase-display');
    const p  = PHRASES[index !== undefined ? index : Math.floor(Math.random() * PHRASES.length)];
    if (el._gsapTween) el._gsapTween.kill();
    el.textContent = p;
    el._gsapTween = gsap.timeline()
        .to(el, { opacity: 1, duration: 0.8, ease: 'power2.out' })
        .to(el, { opacity: 0, duration: 0.8, ease: 'power2.in', delay: 3 });
}

// Periodic phrase every 12s
setInterval(() => { if (!isTransitioning) showPhrase(); }, 12000);

// â”€â”€ RENDER LOOP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const clock = new THREE.Clock();

function animate() {
    requestAnimationFrame(animate);
    const t = clock.getElapsedTime();

    // Shader time
    outerMat.uniforms.uTime.value = t;

    // Check mouse proximity to center
    raycaster.setFromCamera(mouse, camera);
    const nearHits = raycaster.intersectObject(outerSphere);
    isNearSphere   = nearHits.length > 0;
    const target   = isNearSphere ? 0.0008 : 0.004;
    rotationSpeed += (target - rotationSpeed) * 0.05;

    // Sphere rotation
    currentRotX += (targetRotX - currentRotX) * 0.04;
    currentRotY += (targetRotY - currentRotY) * 0.04;

    innerSphere.rotation.y  = t * rotationSpeed * 250 + currentRotY;
    innerSphere.rotation.x  = currentRotX * 0.5;
    outerSphere.rotation.y  = t * rotationSpeed * 200 + currentRotY;
    outerSphere.rotation.x  = currentRotX * 0.3;
    sacredMesh.rotation.y   = -t * 0.006 + currentRotY * 0.5;
    sacredMesh.rotation.x   = t * 0.004;

    // Track total rotation for 360Â° easter egg
    totalRotation += rotationSpeed;
    if (totalRotation > Math.PI * 2 && !phrase360Shown) {
        phrase360Shown = true;
        setTimeout(() => showPhrase(0), 500); // "Quem se conhece governa..."
        setTimeout(() => { phrase360Shown = false; totalRotation = 0; }, 15000);
    }

    // Rings
    rings.forEach(r => {
        r.mesh.rotation[r.axis] += r.speed;
    });

    // Particles orbit
    const pos = partGeo.attributes.position.array;
    for (let i = 0; i < PARTICLE_COUNT; i++) {
        partVel[i*3] += 0.003 + (i % 5) * 0.0003;
        const theta = partVel[i*3];
        const phi   = partVel[i*3+1];
        const r     = partVel[i*3+2];
        pos[i*3]   = r * Math.sin(phi) * Math.cos(theta);
        pos[i*3+1] = r * Math.sin(phi) * Math.sin(theta) + Math.sin(t * 0.3 + i) * 0.05;
        pos[i*3+2] = r * Math.cos(phi);
    }
    partGeo.attributes.position.needsUpdate = true;

    // Pulse gold light
    goldLight.intensity = 2.5 + Math.sin(t * 1.5) * 0.8;
    blueLight.intensity = 1.8 + Math.cos(t * 1.1) * 0.6;

    renderer.render(scene, camera);
}

// â”€â”€ INTRO SEQUENCE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function runIntro() {
    const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

    // Fake load progress
    let p = 0;
    const fillEl = document.getElementById('loader-fill');
    const loaderTimer = setInterval(() => {
        p = Math.min(p + Math.random() * 18, 100);
        fillEl.style.width = p + '%';
        if (p >= 100) {
            clearInterval(loaderTimer);
            tl.to('#loader', { opacity: 0, duration: 1, delay: 0.4,
                onComplete: () => { document.getElementById('loader').remove(); }
            });
        }
    }, 120);

    // UI reveal cascade
    tl.to('#eyebrow',    { opacity: 1, y: 0, duration: 1.2, delay: 2 })
      .to('#hero-title', { opacity: 1, y: 0, duration: 1.2 }, '-=0.6')
      .to('#hero-sub',   { opacity: 1, y: 0, duration: 1 }, '-=0.7')
      .to('#header',     { opacity: 1, y: 0, duration: 1 }, '-=0.5')
      .to('#manifesto',  { opacity: 1, y: 0, duration: 1 }, '-=0.5')
      .to('.corner-glyph', { opacity: 1, duration: 1, stagger: 0.15 }, '-=0.5')
      .to('.side-line',    { opacity: 1, duration: 1.5 }, '-=0.5')
      .to('#enigma',       { opacity: 0.7, duration: 1 }, '-=0.3')
      .to('#sound-toggle', { opacity: 0.7, duration: 1 }, '-=0.5')
      .to('#auth-bar',     { opacity: 1, duration: 0.8, ease: 'power2.out' }, '-=0.6')
      .to('#menu-toggle',  { opacity: 0.9, duration: 0.8 }, '-=0.6');

    // Show deities
    DEITIES.forEach((d, i) => {
        tl.to(`#deity-${d.id}`, { opacity: 1, duration: 0.8 }, `>-0.4`);
    });

    // First phrase after 5s
    setTimeout(() => showPhrase(6), 5000);
}

// â”€â”€ RIGHT NAV MENU â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const menuToggle = document.getElementById('menu-toggle');
const navPanel   = document.getElementById('nav-panel');
const navOverlay = document.getElementById('nav-overlay');

function openNav() {
    menuToggle.classList.add('open');
    navPanel.classList.add('open');
    navOverlay.classList.add('active');
    menuToggle.setAttribute('aria-expanded', 'true');
}
function closeNav() {
    menuToggle.classList.remove('open');
    navPanel.classList.remove('open');
    navOverlay.classList.remove('active');
    menuToggle.setAttribute('aria-expanded', 'false');
}

menuToggle.addEventListener('click', () => menuToggle.classList.contains('open') ? closeNav() : openNav());
navOverlay.addEventListener('click', closeNav);
document.addEventListener('keydown', e => { if (e.key === 'Escape') closeNav(); });

// Add nav panel links to cursor hovering
document.querySelectorAll('.nav-panel-link, .auth-btn, #menu-toggle').forEach(el => {
    el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
    el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
});


let resizeTimer;
window.addEventListener('resize', () => {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(() => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    }, 150);
});

// â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
animate();
runIntro();
</script>
</body>
</html>
            background: var(--void);
            color: #fff;
            font-family: var(--font-body);
            cursor: none;
        }

        /* â”€â”€ CUSTOM CURSOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #cursor {
            position: fixed;
            width: 12px; height: 12px;
            border-radius: 50%;
            background: var(--gold);
            box-shadow: 0 0 20px var(--gold), 0 0 40px rgba(201,168,76,0.4);
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%,-50%);
            transition: width .2s, height .2s, background .2s;
            mix-blend-mode: screen;
        }
        #cursor-ring {
            position: fixed;
            width: 40px; height: 40px;
            border: 1px solid rgba(201,168,76,0.5);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9998;
            transform: translate(-50%,-50%);
            transition: width .4s, height .4s, transform .08s;
        }
        body.hovering #cursor { width:20px; height:20px; background: var(--gold-bright); }
        body.hovering #cursor-ring { width:60px; height:60px; border-color: var(--gold); }

        /* â”€â”€ WEBGL CANVAS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #stage {
            position: fixed; inset: 0;
            width: 100%; height: 100%;
            z-index: 1;
        }

        /* â”€â”€ MATRIX RAIN CANVAS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #matrix-canvas {
            position: fixed; inset: 0;
            width: 100%; height: 100%;
            z-index: 2;
            opacity: 0.07;
            pointer-events: none;
        }

        /* â”€â”€ VIGNETTE & OVERLAY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .vignette {
            position: fixed; inset: 0; z-index: 3;
            background: radial-gradient(ellipse at center,
                transparent 25%,
                rgba(6,6,15,0.5) 65%,
                rgba(6,6,15,0.92) 100%);
            pointer-events: none;
        }

        /* â”€â”€ SCANLINES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .scanlines {
            position: fixed; inset: 0; z-index: 4;
            background: repeating-linear-gradient(0deg,
                rgba(0,0,0,0.03), rgba(0,0,0,0.03) 1px,
                transparent 1px, transparent 2px);
            pointer-events: none;
            opacity: 0.5;
        }

        /* â”€â”€ PYRAMIDS SILHOUETTE (SVG background) â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .pyramids-bg {
            position: fixed;
            bottom: 0; left: 0; right: 0;
            height: 35vh;
            z-index: 2;
            pointer-events: none;
            background: 
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 300'%3E%3Cpolygon points='120,300 360,60 600,300' fill='%230A0A18'/%3E%3Cpolygon points='320,300 520,100 720,300' fill='%230D0D20'/%3E%3Cpolygon points='750,300 1000,30 1250,300' fill='%230A0A18'/%3E%3Cpolygon points='1000,300 1180,110 1360,300' fill='%230D0D20'/%3E%3C/svg%3E")
                bottom/cover no-repeat;
            opacity: 0.6;
        }

        /* â”€â”€ STARS LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .stars-svg {
            position: fixed; inset: 0; z-index: 2;
            pointer-events: none;
            opacity: 0.6;
        }

        /* â”€â”€ UI LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #ui {
            position: fixed; inset: 0; z-index: 10;
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            pointer-events: none;
        }

        /* â”€â”€ LOADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #loader {
            position: fixed; inset: 0; z-index: 1000;
            background: var(--void);
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            gap: 24px;
            transition: opacity 1s ease;
        }
        .loader-glyph {
            font-size: 3rem;
            animation: loaderPulse 1.5s ease-in-out infinite;
        }
        .loader-text {
            font-family: var(--font-title);
            font-size: 0.65rem;
            letter-spacing: 0.5em;
            color: var(--gold-dim);
            text-transform: uppercase;
        }
        .loader-bar {
            width: 180px; height: 1px;
            background: rgba(201,168,76,0.15);
            position: relative; overflow: hidden;
        }
        .loader-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--gold-dim), var(--gold-bright));
            width: 0%;
            box-shadow: 0 0 12px var(--gold);
            transition: width 0.4s ease;
        }
        @keyframes loaderPulse {
            0%,100% { opacity:0.4; transform:scale(1); }
            50% { opacity:1; transform:scale(1.1); }
        }

        /* â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .header {
            position: absolute;
            top: 0; left: 0; right: 0;
            display: flex; align-items: center; justify-content: space-between;
            padding: 32px 48px;
            opacity: 0;
            transform: translateY(-20px);
        }

        .logo-mark {
            font-family: var(--font-deco);
            font-size: 1.1rem;
            letter-spacing: 0.4em;
            color: var(--gold);
            text-shadow: 0 0 30px rgba(201,168,76,0.6);
        }

        .nav-links {
            display: flex; gap: 36px;
            pointer-events: auto;
        }
        .nav-link {
            font-family: var(--font-body);
            font-size: 0.65rem;
            letter-spacing: 0.3em;
            color: rgba(255,255,255,0.4);
            text-decoration: none;
            text-transform: uppercase;
            transition: color 0.3s, text-shadow 0.3s;
            cursor: none;
        }
        .nav-link:hover {
            color: var(--gold);
            text-shadow: 0 0 20px rgba(201,168,76,0.5);
        }

        /* â”€â”€ HERO TEXT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .hero-block {
            text-align: center;
            pointer-events: none;
            position: relative;
            z-index: 2;
            margin-bottom: 10px;
        }

        .hero-eyebrow {
            font-family: var(--font-body);
            font-size: 0.6rem;
            letter-spacing: 0.6em;
            color: var(--matrix);
            text-transform: uppercase;
            opacity: 0;
            transform: translateY(10px);
            margin-bottom: 16px;
            text-shadow: 0 0 20px var(--matrix);
        }

        .hero-title {
            font-family: var(--font-deco);
            font-size: clamp(2.8rem, 7vw, 6.5rem);
            font-weight: 700;
            color: var(--gold);
            letter-spacing: 0.15em;
            line-height: 1;
            opacity: 0;
            transform: translateY(20px);
            text-shadow:
                0 0 40px rgba(201,168,76,0.5),
                0 0 80px rgba(201,168,76,0.2);
            margin-bottom: 8px;
        }

        .hero-subtitle {
            font-family: var(--font-title);
            font-size: clamp(0.6rem, 1.5vw, 0.85rem);
            letter-spacing: 0.6em;
            color: rgba(255,255,255,0.35);
            text-transform: uppercase;
            opacity: 0;
            transform: translateY(10px);
            margin-bottom: 48px;
        }

        /* â”€â”€ SPHERE CONTAINER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .sphere-area {
            position: relative;
            width: clamp(280px, 35vw, 500px);
            height: clamp(280px, 35vw, 500px);
            margin: 0 auto;
            touch-action: none;
        }

        /* â”€â”€ DEITY MARKERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .deity {
            position: absolute;
            display: flex; flex-direction: column; align-items: center;
            gap: 8px;
            pointer-events: auto;
            cursor: none;
            opacity: 0;
            transition: opacity 0.3s;
            -webkit-tap-highlight-color: transparent;
        }
        .deity.visible { opacity: 1; }

        .deity-orb {
            width: 52px; height: 52px;
            border-radius: 50%;
            border: 1.5px solid var(--gold-dim);
            background: radial-gradient(ellipse at 35% 35%,
                rgba(201,168,76,0.15) 0%,
                rgba(6,6,15,0.9) 70%);
            display: flex; align-items: center; justify-content: center;
            font-size: 1.3rem;
            position: relative;
            transition: all 0.4s cubic-bezier(0.175,0.885,0.32,1.275);
            box-shadow:
                0 0 15px rgba(201,168,76,0.2),
                inset 0 0 20px rgba(201,168,76,0.05);
        }
        .deity-orb::before {
            content: '';
            position: absolute; inset: -4px;
            border-radius: 50%;
            border: 1px solid rgba(201,168,76,0.2);
            animation: orbRing 4s linear infinite;
        }
        .deity-orb::after {
            content: '';
            position: absolute; inset: -10px;
            border-radius: 50%;
            border: 1px dashed rgba(201,168,76,0.1);
            animation: orbRing 8s linear infinite reverse;
        }
        @keyframes orbRing {
            from { transform: rotate(0deg); }
            to   { transform: rotate(360deg); }
        }

        .deity:hover .deity-orb {
            border-color: var(--gold);
            background: radial-gradient(ellipse at 35% 35%,
                rgba(201,168,76,0.35) 0%,
                rgba(6,6,15,0.85) 70%);
            box-shadow:
                0 0 40px rgba(201,168,76,0.6),
                0 0 80px rgba(201,168,76,0.2),
                inset 0 0 30px rgba(201,168,76,0.15);
            transform: scale(1.15);
        }

        .deity-name {
            font-family: var(--font-title);
            font-size: 0.55rem;
            letter-spacing: 0.3em;
            color: var(--gold-dim);
            text-transform: uppercase;
            transition: color 0.3s;
            white-space: nowrap;
        }
        .deity-role {
            font-size: 0.48rem;
            letter-spacing: 0.2em;
            color: rgba(255,255,255,0.3);
            text-transform: uppercase;
            white-space: nowrap;
        }
        .deity:hover .deity-name { color: var(--gold-bright); text-shadow: 0 0 15px var(--gold); }
        .deity:hover .deity-role { color: rgba(255,255,255,0.6); }

        .deity-level {
            position: absolute;
            top: -4px; right: -4px;
            background: linear-gradient(135deg, var(--gold), var(--gold-bright));
            color: #000;
            font-size: 0.45rem;
            font-weight: 700;
            padding: 2px 5px;
            border-radius: 3px;
            letter-spacing: 0.05em;
        }

        /* Deity positions */
        .deity-anubis { bottom: -30px; left: 50%; transform: translateX(-50%); }
        .deity-horus  { top: -30px;   left: 50%; transform: translateX(-50%); }
        .deity-isis   { top: 50%; left: -70px;   transform: translateY(-50%); }
        .deity-ra     { top: 50%; right: -70px;  transform: translateY(-50%); }

        /* â”€â”€ MANIFESTO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .manifesto {
            position: absolute;
            bottom: 0; left: 0; right: 0;
            text-align: center;
            padding-bottom: 40px;
            pointer-events: none;
            opacity: 0;
            transform: translateY(15px);
        }

        .manifesto-lines {
            font-family: var(--font-body);
            font-size: clamp(0.6rem, 1.2vw, 0.75rem);
            letter-spacing: 0.25em;
            color: rgba(255,255,255,0.25);
            line-height: 2.2;
            margin-bottom: 28px;
        }
        .manifesto-lines em {
            color: rgba(201,168,76,0.5);
            font-style: normal;
        }

        .cta-btn {
            display: inline-block;
            font-family: var(--font-title);
            font-size: 0.65rem;
            letter-spacing: 0.4em;
            color: var(--gold);
            border: 1px solid rgba(201,168,76,0.4);
            padding: 14px 36px;
            text-transform: uppercase;
            text-decoration: none;
            pointer-events: auto;
            cursor: none;
            position: relative;
            transition: all 0.4s ease;
            background: transparent;
            overflow: hidden;
        }
        .cta-btn::before {
            content: '';
            position: absolute; inset: 0;
            background: linear-gradient(90deg, transparent, rgba(201,168,76,0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }
        .cta-btn:hover {
            border-color: var(--gold);
            color: var(--gold-bright);
            box-shadow: 0 0 30px rgba(201,168,76,0.3), inset 0 0 30px rgba(201,168,76,0.05);
        }
        .cta-btn:hover::before { transform: translateX(100%); }
        .cta-btn:active { transform: scale(0.97); }

        /* â”€â”€ CORNER GLYPHS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .corner-glyph {
            position: fixed;
            font-size: 0.5rem;
            letter-spacing: 0.3em;
            color: rgba(201,168,76,0.2);
            font-family: var(--font-body);
            opacity: 0;
        }
        .corner-tl { top: 20px;    left: 20px; }
        .corner-tr { top: 20px;    right: 20px; text-align: right; }
        .corner-bl { bottom: 20px; left: 20px; }
        .corner-br { bottom: 20px; right: 20px; text-align: right; }

        /* â”€â”€ SIDE LINES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .side-line {
            position: fixed;
            background: linear-gradient(to bottom, transparent, rgba(201,168,76,0.3), transparent);
            width: 1px;
            height: 40%;
            top: 30%;
            opacity: 0;
        }
        .side-line-l { left: 32px; }
        .side-line-r { right: 32px; }

        /* â”€â”€ ENIGMA TEXT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #enigma {
            position: fixed;
            bottom: 80px;
            left: 50%; transform: translateX(-50%);
            font-family: var(--font-title);
            font-size: 0.7rem;
            letter-spacing: 0.3em;
            color: var(--matrix);
            text-shadow: 0 0 20px var(--matrix);
            opacity: 0;
            white-space: nowrap;
            z-index: 20;
            pointer-events: none;
            text-align: center;
        }

        /* â”€â”€ PORTAL TRANSITION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #portal-overlay {
            position: fixed; inset: 0; z-index: 500;
            background: radial-gradient(ellipse at center, transparent 0%, rgba(6,6,15,0.98) 100%);
            opacity: 0; pointer-events: none;
            display: flex; align-items: center; justify-content: center;
            flex-direction: column; gap: 20px;
        }
        .portal-ring {
            position: absolute;
            border-radius: 50%;
            border: 1px solid var(--gold);
            opacity: 0;
        }
        #portal-name {
            font-family: var(--font-deco);
            font-size: clamp(1.5rem, 4vw, 3.5rem);
            color: var(--gold);
            letter-spacing: 0.3em;
            opacity: 0;
            text-shadow: 0 0 40px var(--gold);
            position: relative; z-index: 2;
        }
        #portal-sub {
            font-family: var(--font-body);
            font-size: 0.65rem;
            letter-spacing: 0.5em;
            color: rgba(255,255,255,0.4);
            opacity: 0;
            position: relative; z-index: 2;
        }

        /* â”€â”€ FLASH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #flash {
            position: fixed; inset: 0; z-index: 600;
            background: radial-gradient(ellipse at center, #fff 0%, var(--gold-bright) 100%);
            opacity: 0; pointer-events: none;
        }

        /* â”€â”€ ENIGMA PHRASES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #phrase-display {
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            font-family: var(--font-title);
            font-size: clamp(0.8rem, 2vw, 1.2rem);
            color: var(--gold);
            letter-spacing: 0.2em;
            text-align: center;
            opacity: 0;
            z-index: 20;
            pointer-events: none;
            text-shadow: 0 0 30px rgba(201,168,76,0.7);
            max-width: 600px;
            line-height: 1.8;
        }

        /* â”€â”€ SOUND INDICATOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #sound-toggle {
            position: fixed;
            bottom: 32px; right: 48px;
            z-index: 50;
            pointer-events: auto;
            cursor: none;
            display: flex; align-items: center; gap: 8px;
            opacity: 0;
        }
        .sound-bars {
            display: flex; align-items: flex-end; gap: 2px; height: 14px;
        }
        .sound-bar {
            width: 2px;
            background: var(--gold-dim);
            border-radius: 1px;
            transition: height 0.2s, background 0.2s;
        }
        #sound-toggle.active .sound-bar { background: var(--gold); }
        #sound-toggle.active .sound-bar:nth-child(1) { animation: bar1 0.8s ease infinite; }
        #sound-toggle.active .sound-bar:nth-child(2) { animation: bar2 0.6s ease infinite; }
        #sound-toggle.active .sound-bar:nth-child(3) { animation: bar3 1.0s ease infinite; }
        #sound-toggle.active .sound-bar:nth-child(4) { animation: bar2 0.7s ease infinite; }
        @keyframes bar1 { 0%,100%{height:4px} 50%{height:14px} }
        @keyframes bar2 { 0%,100%{height:8px} 50%{height:4px}  }
        @keyframes bar3 { 0%,100%{height:12px} 50%{height:6px} }
        .sound-label {
            font-size: 0.5rem;
            letter-spacing: 0.3em;
            color: var(--gold-dim);
        }
        #sound-toggle:hover .sound-label { color: var(--gold); }

        /* â”€â”€ AUTH BUTTONS (centro-superior) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .auth-bar {
            position: fixed;
            top: 22px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 200;
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0;
            pointer-events: auto;
        }

        .auth-btn {
            font-family: var(--font-title);
            font-size: 0.58rem;
            letter-spacing: 0.35em;
            text-transform: uppercase;
            text-decoration: none;
            padding: 9px 22px;
            border-radius: 2px;
            cursor: none;
            transition: all 0.35s ease;
            display: inline-block;
            white-space: nowrap;
        }

        .auth-btn-login {
            color: var(--gold);
            border: 1px solid rgba(201,168,76,0.35);
            background: rgba(6,6,15,0.6);
            backdrop-filter: blur(10px);
        }
        .auth-btn-login:hover {
            border-color: var(--gold);
            background: rgba(201,168,76,0.08);
            box-shadow: 0 0 20px rgba(201,168,76,0.25);
            color: var(--gold-bright);
        }

        .auth-btn-register {
            color: #000;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-bright) 100%);
            border: 1px solid var(--gold-bright);
            box-shadow: 0 0 20px rgba(201,168,76,0.3);
        }
        .auth-btn-register:hover {
            background: linear-gradient(135deg, var(--gold-bright) 0%, #fff8c0 100%);
            box-shadow: 0 0 35px rgba(255,215,0,0.5), 0 0 60px rgba(201,168,76,0.2);
            transform: scale(1.04);
        }

        .auth-divider {
            width: 1px;
            height: 18px;
            background: rgba(201,168,76,0.2);
        }

        /* â”€â”€ NAV MENU DIREITO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #menu-toggle {
            position: fixed;
            top: 20px;
            right: 28px;
            z-index: 300;
            width: 44px; height: 44px;
            background: rgba(6,6,15,0.75);
            border: 1px solid rgba(201,168,76,0.3);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            cursor: none;
            pointer-events: auto;
            transition: all 0.35s ease;
            backdrop-filter: blur(12px);
            opacity: 0;
        }
        #menu-toggle:hover {
            border-color: var(--gold);
            background: rgba(201,168,76,0.1);
            box-shadow: 0 0 25px rgba(201,168,76,0.35);
        }
        #menu-toggle svg {
            stroke: var(--gold);
            transition: stroke 0.2s;
        }

        /* Hamburger â†’ X animation */
        #menu-toggle .bar-top,
        #menu-toggle .bar-mid,
        #menu-toggle .bar-bot {
            transition: transform 0.35s ease, opacity 0.25s ease;
            transform-origin: center;
        }
        #menu-toggle.open .bar-top { transform: rotate(45deg) translate(4px, 4px); }
        #menu-toggle.open .bar-mid { opacity: 0; transform: scaleX(0); }
        #menu-toggle.open .bar-bot { transform: rotate(-45deg) translate(4px, -4px); }

        /* Overlay */
        #nav-overlay {
            position: fixed; inset: 0;
            background: rgba(6,6,15,0.5);
            backdrop-filter: blur(2px);
            z-index: 250;
            opacity: 0; visibility: hidden;
            transition: all 0.4s ease;
            pointer-events: none;
        }
        #nav-overlay.active { opacity: 1; visibility: visible; pointer-events: auto; }

        /* Panel */
        #nav-panel {
            position: fixed;
            top: 0; right: 0;
            width: 300px; height: 100vh;
            z-index: 280;
            background: linear-gradient(180deg, rgba(6,6,15,0.99) 0%, rgba(10,10,24,0.96) 100%);
            border-left: 1px solid rgba(201,168,76,0.2);
            backdrop-filter: blur(24px);
            padding: 88px 28px 40px;
            transform: translateX(100%);
            transition: transform 0.5s cubic-bezier(0.77,0,0.175,1);
            overflow-y: auto;
            pointer-events: auto;
        }
        #nav-panel.open { transform: translateX(0); }

        .nav-panel-header {
            font-family: var(--font-title);
            font-size: 0.6rem;
            letter-spacing: 0.5em;
            color: rgba(201,168,76,0.4);
            text-transform: uppercase;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(201,168,76,0.15);
        }

        .nav-panel-link {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 13px 16px;
            margin-bottom: 6px;
            text-decoration: none;
            color: rgba(255,255,255,0.6);
            border: 1px solid transparent;
            border-radius: 4px;
            cursor: none;
            transition: all 0.3s ease;
            position: relative;
        }
        .nav-panel-link:hover {
            color: var(--gold-bright);
            border-color: rgba(201,168,76,0.25);
            background: rgba(201,168,76,0.06);
            transform: translateX(4px);
            box-shadow: 0 0 18px rgba(201,168,76,0.1);
        }
        .nav-panel-link:hover .nav-icon { color: var(--gold); }

        .nav-icon {
            font-size: 1rem;
            color: var(--gold-dim);
            width: 20px; text-align: center;
            transition: color 0.3s;
            flex-shrink: 0;
        }

        .nav-link-content { flex: 1; }
        .nav-link-title {
            font-family: var(--font-title);
            font-size: 0.75rem;
            letter-spacing: 0.15em;
            display: block;
            margin-bottom: 2px;
        }
        .nav-link-sub {
            font-size: 0.58rem;
            letter-spacing: 0.1em;
            color: rgba(255,255,255,0.3);
            display: block;
        }

        .nav-panel-divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(201,168,76,0.2), transparent);
            margin: 14px 0;
        }

        .nav-highlight {
            border-color: rgba(201,168,76,0.2) !important;
            background: rgba(201,168,76,0.04);
        }
        .nav-highlight .nav-link-title { color: var(--gold); }
        .nav-highlight::before {
            content: 'â˜…';
            position: absolute;
            top: -7px; right: 10px;
            color: var(--gold);
            font-size: 0.6rem;
        }

        .nav-panel-footer {
            margin-top: 28px;
            padding-top: 18px;
            border-top: 1px solid rgba(201,168,76,0.1);
            font-size: 0.55rem;
            letter-spacing: 0.3em;
            color: rgba(255,255,255,0.2);
            text-align: center;
        }

        /* â”€â”€ RESPONSIVE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        @media (max-width: 768px) {

            /* Cursor nativo no touch */
            body { cursor: auto; }
            #cursor, #cursor-ring { display: none; }
            a, button, .deity { cursor: pointer; }

            /* Header: sÃ³ logo */
            .header { padding: 16px 20px; justify-content: flex-start; }
            .logo-mark { font-size: 0.85rem; letter-spacing: 0.3em; }
            .nav-links { display: none; }

            /* Auth bar: alinhada Ã  direita, espaÃ§o para o toggle */
            .auth-bar {
                left: auto;
                right: 72px;
                transform: none;
                top: 18px;
                gap: 6px;
            }
            .auth-btn { padding: 7px 12px; font-size: 0.5rem; letter-spacing: 0.2em; }
            .auth-divider { display: none; }

            /* Menu-toggle */
            #menu-toggle { right: 16px; top: 16px; width: 40px; height: 40px; }

            /* Nav panel */
            #nav-panel { width: 80vw; max-width: 300px; padding: 80px 20px 32px; }
            .nav-panel-link { padding: 12px 14px; cursor: pointer; }

            /* Hero */
            .hero-block { margin-bottom: 4px; }
            .hero-subtitle { margin-bottom: 24px; letter-spacing: 0.3em; }

            /* Esfera menor */
            .sphere-area {
                width: clamp(200px, 70vw, 300px);
                height: clamp(200px, 70vw, 300px);
            }

            /* Deuses reposicionados */
            .deity-anubis { bottom: -40px; }
            .deity-horus  { top: -40px; }
            .deity-isis   { left: -44px; }
            .deity-ra     { right: -44px; }
            .deity-orb    { width: 40px; height: 40px; font-size: 0.95rem; }
            .deity-name   { font-size: 0.48rem; }
            .deity-role   { display: none; }

            /* Manifesto compacto */
            .manifesto { padding-bottom: 20px; }
            .manifesto-lines {
                font-size: 0.55rem;
                letter-spacing: 0.12em;
                line-height: 2;
                margin-bottom: 18px;
            }
            .cta-btn { padding: 11px 24px; font-size: 0.55rem; letter-spacing: 0.25em; cursor: pointer; }

            /* Elementos decorativos ocultos */
            .corner-glyph { display: none; }
            .side-line    { display: none; }

            /* Enigma */
            #enigma { bottom: 100px; font-size: 0.5rem; letter-spacing: 0.2em; }

            /* Sound */
            #sound-toggle { bottom: 18px; right: 16px; }
            .sound-label  { display: none; }

            /* Pyramids */
            .pyramids-bg { height: 25vh; }
        }

        /* Telas muito pequenas */
        @media (max-width: 380px) {
            .sphere-area { width: 190px; height: 190px; }
            .deity-isis  { left: -38px; }
            .deity-ra    { right: -38px; }
            .deity-orb   { width: 34px; height: 34px; font-size: 0.8rem; }
            .auth-bar    { display: none; }
        }
    </style>
</head>
<body>

<!-- Custom Cursor -->
<div id="cursor"></div>
<div id="cursor-ring"></div>

<!-- Loader -->
<div id="loader">
    <div class="loader-glyph">ğ“‚€</div>
    <div class="loader-text">Inicializando Portal</div>
    <div class="loader-bar"><div class="loader-fill" id="loader-fill"></div></div>
</div>

<!-- Background Layers -->
<canvas id="stage"></canvas>
<canvas id="matrix-canvas"></canvas>

<!-- Stars -->
<svg class="stars-svg" xmlns="http://www.w3.org/2000/svg" id="stars-svg"></svg>

<!-- Atmospheric -->
<div class="vignette"></div>
<div class="scanlines"></div>
<div class="pyramids-bg"></div>

<!-- Corner Glyphs -->
<div class="corner-glyph corner-tl" id="c-tl">ğ“‚€ AKASHA<br>â—ˆ ONLINE</div>
<div class="corner-glyph corner-tr" id="c-tr">PORTAL ATIVO â—ˆ<br>ğ“¹ DESPERTAR</div>
<div class="corner-glyph corner-bl" id="c-bl">ğ“†£ CONSCIÃŠNCIA<br>â—ˆ EXPANDIDA</div>
<div class="corner-glyph corner-br" id="c-br">REALIDADE â—ˆ<br>ğ“‚‹ GOVERNADA</div>

<!-- Side Lines -->
<div class="side-line side-line-l" id="sl-l"></div>
<div class="side-line side-line-r" id="sl-r"></div>

<!-- Enigma Prompt -->
<div id="enigma">â–¸ GIRE A ESFERA PARA ATIVAR â–¸</div>

<!-- Phrase Display -->
<div id="phrase-display"></div>

<!-- Portal Transition -->
<div id="portal-overlay">
    <div class="portal-ring" style="width:80px;height:80px"></div>
    <div class="portal-ring" style="width:180px;height:180px"></div>
    <div class="portal-ring" style="width:300px;height:300px"></div>
    <div class="portal-ring" style="width:450px;height:450px"></div>
    <div class="portal-ring" style="width:650px;height:650px"></div>
    <div id="portal-name">ANÃšBIS</div>
    <div id="portal-sub">PORTAL DIMENSIONAL ATIVADO</div>
</div>
<div id="flash"></div>

<!-- Sound Toggle -->
<div id="sound-toggle">
    <div class="sound-bars">
        <div class="sound-bar" style="height:4px"></div>
        <div class="sound-bar" style="height:10px"></div>
        <div class="sound-bar" style="height:6px"></div>
        <div class="sound-bar" style="height:12px"></div>
    </div>
    <span class="sound-label">SOM</span>
</div>

<!-- â”€â”€ AUTH BUTTONS (centro-superior) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="auth-bar" id="auth-bar">
    <a href="https://akashahub.com.br/login" class="auth-btn auth-btn-login">â—ˆ Entrar</a>
    <div class="auth-divider"></div>
    <a href="https://akashahub.com.br/cadastro" class="auth-btn auth-btn-register">Cadastrar</a>
</div>

<!-- â”€â”€ NAV MENU DIREITO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="nav-overlay"></div>

<button id="menu-toggle" aria-label="Menu de navegaÃ§Ã£o" aria-expanded="false">
    <svg width="18" height="14" viewBox="0 0 18 14" fill="none" stroke-width="1.8" stroke-linecap="round">
        <line class="bar-top" x1="0" y1="1"  x2="18" y2="1"/>
        <line class="bar-mid" x1="0" y1="7"  x2="18" y2="7"/>
        <line class="bar-bot" x1="0" y1="13" x2="18" y2="13"/>
    </svg>
</button>

<nav id="nav-panel" aria-label="Menu principal">
    <div class="nav-panel-header">â—ˆ NavegaÃ§Ã£o â—ˆ</div>

    <a href="https://akashahub.com.br/mentoria" class="nav-panel-link">
        <span class="nav-icon">ğ“¹</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Mentoria</span>
            <span class="nav-link-sub">Programa de desenvolvimento</span>
        </div>
    </a>

    <a href="https://akashahub.com.br/partners" class="nav-panel-link">
        <span class="nav-icon">ğ“†£</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Parceria</span>
            <span class="nav-link-sub">Patrocinadores & afiliados</span>
        </div>
    </a>

    <a href="https://akashahub.com.br/vip" class="nav-panel-link">
        <span class="nav-icon">ğ“‡³</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Presencial</span>
            <span class="nav-link-sub">ImersÃ£o & experiÃªncia VIP</span>
        </div>
    </a>

    <a href="https://akashahub.com.br/store" class="nav-panel-link">
        <span class="nav-icon">ğ“‹¹</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Loja</span>
            <span class="nav-link-sub">Produtos & ferramentas</span>
        </div>
    </a>

    <div class="nav-panel-divider"></div>

    <a href="https://akashahub.com.br/doutrina" class="nav-panel-link">
        <span class="nav-icon">ğ“‚‹</span>
        <div class="nav-link-content">
            <span class="nav-link-title">Doutrina</span>
            <span class="nav-link-sub">Ãudios, livros & conteÃºdos</span>
        </div>
    </a>

    <a href="https://akashahub.com.br/livre/" class="nav-panel-link nav-highlight">
        <span class="nav-icon">ğ“‚€</span>
        <div class="nav-link-content">
            <span class="nav-link-title">SessÃ£o GrÃ¡tis</span>
            <span class="nav-link-sub">Grupos online abertos</span>
        </div>
    </a>

    <div class="nav-panel-footer">ğ“‚€ AKASHA EMPIRE</div>
</nav>


<div id="ui">
    <div class="header" id="header">
        <div class="logo-mark">ğ“‚€ AKASHA</div>
        <nav class="nav-links">
            <a href="https://akashahub.com.br/mentoria" class="nav-link">Mentoria</a>
            <a href="https://akashahub.com.br/vip" class="nav-link">Presencial VIP</a>
            <a href="https://akashahub.com.br/partners" class="nav-link">Parceiros</a>
            <a href="https://akashahub.com.br/livre/" class="nav-link">SessÃµes GrÃ¡tis</a>
        </nav>
    </div>

    <div class="hero-block">
        <div class="hero-eyebrow" id="eyebrow">â—ˆ Portal de Despertar â—ˆ</div>
        <h1 class="hero-title" id="hero-title">AKASHA HUB</h1>
        <p class="hero-subtitle" id="hero-sub">Biblioteca Global do Universo</p>
    </div>

    <!-- Sphere + Deity Markers -->
    <div class="sphere-area" id="sphere-area">
        <!-- Deities injected by JS -->
    </div>

    <!-- Manifesto + CTA -->
    <div class="manifesto" id="manifesto">
        <div class="manifesto-lines">
            Saia da Matrix. &nbsp;<em>Acesse a Biblioteca Global do Universo.</em><br>
            Desperte seu PropÃ³sito. &nbsp;<em>Governe sua Realidade.</em>
        </div>
        <a href="#" class="cta-btn" id="cta">INICIAR TRANSMISSÃƒO</a>
    </div>
</div>

<!-- Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  AKASHA ENGINE v4.0 â€” PORTAL DE DESPERTAR
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â”€â”€ DEITIES DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const DEITIES = [
    { id:'anubis', name:'AnÃºbis', role:'Despertar',  level:'N1', emoji:'ğ“ƒ£', color:'#C9A84C', url:'https://pay.hotmart.com/N104491126Y', cls:'deity-anubis' },
    { id:'horus',  name:'HÃ³rus',  role:'VisÃ£o',      level:'N2', emoji:'ğ“¹', color:'#4A90E2', url:'https://pay.hotmart.com/O104491171B', cls:'deity-horus'  },
    { id:'isis',   name:'Ãsis',   role:'Sabedoria',  level:'N3', emoji:'ğ“‹¹', color:'#9B59B6', url:'https://pay.hotmart.com/F104491235U', cls:'deity-isis'   },
    { id:'ra',     name:'RÃ¡',     role:'LideranÃ§a',  level:'N4', emoji:'ğ“‡³', color:'#FFD700', url:'https://pay.hotmart.com/L104491291E', cls:'deity-ra'     }
];

// â”€â”€ ENIGMA PHRASES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const PHRASES = [
    "Quem se conhece governa sua realidade.",
    "Conhecimento sem aplicaÃ§Ã£o Ã© ilusÃ£o.",
    "VocÃª nÃ£o estÃ¡ clicando. VocÃª estÃ¡ ativando.",
    "A Matrix sÃ³ prende quem nÃ£o sabe que existe.",
    "ConsciÃªncia Ã© o Ãºnico poder que ninguÃ©m pode tirar de vocÃª.",
    "Aqui vocÃª transforma consciÃªncia em posiÃ§Ã£o no mundo.",
    "Saia da Matrix. Governe sua Realidade."
];

// â”€â”€ CUSTOM CURSOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const cursorEl  = document.getElementById('cursor');
const cursorRing = document.getElementById('cursor-ring');
let mx = 0, my = 0, rx = 0, ry = 0;

document.addEventListener('mousemove', e => { mx = e.clientX; my = e.clientY; });
setInterval(() => {
    rx += (mx - rx) * 0.12;
    ry += (my - ry) * 0.12;
    cursorEl.style.left   = mx + 'px';
    cursorEl.style.top    = my + 'px';
    cursorRing.style.left = rx + 'px';
    cursorRing.style.top  = ry + 'px';
}, 16);

document.querySelectorAll('a, button, .deity, #sound-toggle').forEach(el => {
    el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
    el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
});

// â”€â”€ GENERATE STARS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(function generateStars() {
    const svg = document.getElementById('stars-svg');
    const count = 200;
    let html = '';
    for (let i = 0; i < count; i++) {
        const x    = Math.random() * 100;
        const y    = Math.random() * 70;
        const r    = Math.random() * 1.2 + 0.2;
        const op   = Math.random() * 0.6 + 0.1;
        const dur  = (Math.random() * 4 + 2).toFixed(1);
        const del  = (Math.random() * 4).toFixed(1);
        html += `<circle cx="${x}%" cy="${y}%" r="${r}" fill="white" opacity="${op}">
            <animate attributeName="opacity" values="${op};${op*0.2};${op}" dur="${dur}s" begin="${del}s" repeatCount="indefinite"/>
        </circle>`;
    }
    svg.innerHTML = html;
})();

// â”€â”€ MATRIX RAIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(function matrixRain() {
    const canvas = document.getElementById('matrix-canvas');
    const ctx    = canvas.getContext('2d');
    canvas.width  = window.innerWidth;
    canvas.height = window.innerHeight;

    const chars  = 'ã‚¢ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³01ã‚¢BCDEFGHIJKLMNOPQRSTUVWXYZğ“‚€ğ“¹ğ“†£ğ“‡³ğ“‹¹01';
    const cols   = Math.floor(canvas.width / 18);
    const drops  = Array(cols).fill(1);

    function draw() {
        ctx.fillStyle = 'rgba(6,6,15,0.05)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#00FF41';
        ctx.font = '14px monospace';
        drops.forEach((y, i) => {
            const c = chars[Math.floor(Math.random() * chars.length)];
            ctx.fillText(c, i * 18, y * 18);
            if (y * 18 > canvas.height && Math.random() > 0.975) drops[i] = 0;
            drops[i]++;
        });
    }

    setInterval(draw, 50);
    window.addEventListener('resize', () => {
        canvas.width  = window.innerWidth;
        canvas.height = window.innerHeight;
    });
})();

// â”€â”€ THREE.JS: ESFERA AKÃSHICA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const threeCanvas = document.getElementById('stage');
const renderer = new THREE.WebGLRenderer({
    canvas: threeCanvas,
    antialias: true,
    alpha: true,
    powerPreference: 'high-performance'
});
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
renderer.toneMapping = THREE.ACESFilmicToneMapping;
renderer.toneMappingExposure = 1.0;

const scene  = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 100);
camera.position.set(0, 0, 7);

// Lighting
scene.add(new THREE.AmbientLight(0x111122, 2));
const goldLight = new THREE.PointLight(0xC9A84C, 3, 15);
goldLight.position.set(2, 2, 4);
scene.add(goldLight);
const blueLight = new THREE.PointLight(0x4A90E2, 2, 15);
blueLight.position.set(-3, -1, 3);
scene.add(blueLight);

// â”€â”€ SACRED GEOMETRY INNER SPHERE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const innerGeo = new THREE.IcosahedronGeometry(1.3, 2);
const innerMat = new THREE.MeshStandardMaterial({
    color: 0x0A0A18,
    metalness: 0.1,
    roughness: 0.8,
    wireframe: false,
    emissive: 0x1A1A3A,
    emissiveIntensity: 0.5
});
const innerSphere = new THREE.Mesh(innerGeo, innerMat);
scene.add(innerSphere);

// â”€â”€ OUTER TRANSLUCENT SPHERE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const outerShader = {
    vertex: `
        varying vec3 vNormal;
        varying vec3 vPos;
        varying vec2 vUv;
        void main() {
            vNormal = normalize(normalMatrix * normal);
            vPos    = position;
            vUv     = uv;
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
    `,
    fragment: `
        uniform float uTime;
        varying vec3 vNormal;
        varying vec3 vPos;
        varying vec2 vUv;

        float fresnel(vec3 n, float power) {
            return pow(1.0 - abs(dot(n, vec3(0.0, 0.0, 1.0))), power);
        }

        void main() {
            float fr      = fresnel(vNormal, 2.5);
            float pulse   = sin(uTime * 1.2) * 0.5 + 0.5;
            float grid    = step(0.97, fract(vUv.y * 30.0 + uTime * 0.1))
                          + step(0.97, fract(vUv.x * 30.0 - uTime * 0.08));
            grid = clamp(grid, 0.0, 1.0);

            vec3 goldColor  = vec3(0.788, 0.659, 0.298);
            vec3 blueColor  = vec3(0.29, 0.565, 0.886);
            vec3 matrixColor= vec3(0.0, 1.0, 0.255);

            vec3 fresnelColor = mix(blueColor, goldColor, fr);
            vec3 baseColor    = mix(vec3(0.02, 0.02, 0.06), fresnelColor, fr * 0.7);
            vec3 gridColor    = mix(baseColor, goldColor * 0.6, grid * 0.4);
            vec3 matrixMix    = mix(gridColor, matrixColor * 0.3, grid * pulse * 0.15);

            float alpha = fr * 0.65 + grid * 0.2 + pulse * 0.05;
            gl_FragColor = vec4(matrixMix, clamp(alpha, 0.0, 0.8));
        }
    `
};

const outerGeo = new THREE.SphereGeometry(1.65, 64, 64);
const outerMat = new THREE.ShaderMaterial({
    vertexShader:   outerShader.vertex,
    fragmentShader: outerShader.fragment,
    uniforms: { uTime: { value: 0 } },
    transparent: true,
    side: THREE.DoubleSide,
    blending: THREE.AdditiveBlending,
    depthWrite: false
});
const outerSphere = new THREE.Mesh(outerGeo, outerMat);
scene.add(outerSphere);

// â”€â”€ WIREFRAME ICOSAHEDRON (Sacred Geometry) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const sacredGeo = new THREE.IcosahedronGeometry(1.5, 1);
const sacredMat = new THREE.MeshBasicMaterial({
    color: 0xC9A84C,
    wireframe: true,
    transparent: true,
    opacity: 0.08
});
const sacredMesh = new THREE.Mesh(sacredGeo, sacredMat);
scene.add(sacredMesh);

// â”€â”€ ENERGY RINGS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const rings = [];
[1.9, 2.1, 2.4].forEach((r, i) => {
    const rGeo = new THREE.TorusGeometry(r, 0.004, 8, 120);
    const rMat = new THREE.MeshBasicMaterial({
        color: i === 0 ? 0xC9A84C : i === 1 ? 0x4A90E2 : 0x00FF41,
        transparent: true,
        opacity: 0.3 - i * 0.07
    });
    const ring = new THREE.Mesh(rGeo, rMat);
    ring.rotation.x = Math.PI / 2 + i * 0.3;
    ring.rotation.z = i * 0.5;
    scene.add(ring);
    rings.push({ mesh: ring, speed: 0.003 + i * 0.002, axis: i % 2 === 0 ? 'y' : 'x' });
});

// â”€â”€ PARTICLE SYSTEM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const PARTICLE_COUNT = 800;
const partGeo  = new THREE.BufferGeometry();
const partPos  = new Float32Array(PARTICLE_COUNT * 3);
const partVel  = new Float32Array(PARTICLE_COUNT * 3); // orbital angles
const partSize = new Float32Array(PARTICLE_COUNT);

for (let i = 0; i < PARTICLE_COUNT; i++) {
    const theta = Math.random() * Math.PI * 2;
    const phi   = Math.acos(2 * Math.random() - 1);
    const r     = 1.8 + Math.random() * 1.2;
    partPos[i*3]   = r * Math.sin(phi) * Math.cos(theta);
    partPos[i*3+1] = r * Math.sin(phi) * Math.sin(theta);
    partPos[i*3+2] = r * Math.cos(phi);
    partVel[i*3]   = theta;
    partVel[i*3+1] = phi;
    partVel[i*3+2] = r;
    partSize[i] = Math.random() * 2 + 0.5;
}

partGeo.setAttribute('position', new THREE.BufferAttribute(partPos, 3));
partGeo.setAttribute('size',     new THREE.BufferAttribute(partSize, 1));

const partMat = new THREE.PointsMaterial({
    color: 0xC9A84C,
    size: 0.03,
    transparent: true,
    opacity: 0.6,
    sizeAttenuation: true,
    blending: THREE.AdditiveBlending,
    depthWrite: false
});
const particles = new THREE.Points(partGeo, partMat);
scene.add(particles);

// â”€â”€ MOUSE INTERACTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let targetRotX = 0, targetRotY = 0;
let currentRotX = 0, currentRotY = 0;
let isNearSphere = false;
let rotationSpeed = 0.004;
let totalRotation = 0;
let phrase360Shown = false;

const raycaster = new THREE.Raycaster();
const mouse     = new THREE.Vector2(-10, -10);

document.addEventListener('mousemove', e => {
    mouse.x =  (e.clientX / window.innerWidth)  * 2 - 1;
    mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;
    targetRotX = mouse.y * 0.25;
    targetRotY = mouse.x * 0.25;
});

// Touch support for sphere drag
document.addEventListener('touchmove', e => {
    if (e.touches.length === 1) {
        const t = e.touches[0];
        mouse.x =  (t.clientX / window.innerWidth)  * 2 - 1;
        mouse.y = -(t.clientY / window.innerHeight) * 2 + 1;
        targetRotX = mouse.y * 0.2;
        targetRotY = mouse.x * 0.2;
    }
}, { passive: true });

document.addEventListener('touchend', () => {
    // Pulse on tap
    pulseSphere();
    playPulseSound();
});

document.addEventListener('click', e => {
    raycaster.setFromCamera(mouse, camera);
    const hits = raycaster.intersectObjects([outerSphere, innerSphere]);
    if (hits.length > 0) {
        pulseSphere();
        playPulseSound();
    }
});

function pulseSphere() {
    gsap.to([outerSphere.scale, innerSphere.scale, sacredMesh.scale], {
        x: 1.12, y: 1.12, z: 1.12,
        duration: 0.15, ease: 'power2.out',
        onComplete: () => {
            gsap.to([outerSphere.scale, innerSphere.scale, sacredMesh.scale], {
                x: 1, y: 1, z: 1,
                duration: 0.4, ease: 'elastic.out(1, 0.5)'
            });
        }
    });
    gsap.to(goldLight, { intensity: 8, duration: 0.2, yoyo: true, repeat: 1 });
}

// â”€â”€ SOUND SYSTEM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let audioCtx   = null;
let soundOn    = false;
let ambientOsc = null;

function initAudio() {
    if (audioCtx) return;
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
}

function startAmbient() {
    if (!audioCtx || ambientOsc) return;
    const master = audioCtx.createGain();
    master.gain.value = 0.04;
    master.connect(audioCtx.destination);

    [55, 110, 165].forEach((freq, i) => {
        const osc  = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type      = 'sine';
        osc.frequency.value = freq;
        gain.gain.value     = 1 - i * 0.25;
        osc.connect(gain);
        gain.connect(master);
        osc.start();
    });
    ambientOsc = master;
}

function stopAmbient() {
    if (!ambientOsc) return;
    ambientOsc.gain.setTargetAtTime(0, audioCtx.currentTime, 0.5);
    setTimeout(() => { ambientOsc = null; }, 1000);
}

function playPulseSound() {
    if (!audioCtx || !soundOn) return;
    const osc  = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    osc.type = 'sine';
    osc.frequency.setValueAtTime(432, audioCtx.currentTime);
    osc.frequency.exponentialRampToValueAtTime(216, audioCtx.currentTime + 0.4);
    gain.gain.setValueAtTime(0.08, audioCtx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.5);
    osc.connect(gain);
    gain.connect(audioCtx.destination);
    osc.start();
    osc.stop(audioCtx.currentTime + 0.5);
}

document.getElementById('sound-toggle').addEventListener('click', () => {
    initAudio();
    soundOn = !soundOn;
    const el = document.getElementById('sound-toggle');
    el.classList.toggle('active', soundOn);
    soundOn ? startAmbient() : stopAmbient();
});

// â”€â”€ BUILD DEITY MARKERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const sphereArea = document.getElementById('sphere-area');
DEITIES.forEach(d => {
    const el = document.createElement('div');
    el.className = `deity ${d.cls}`;
    el.id = `deity-${d.id}`;
    el.setAttribute('role', 'button');
    el.setAttribute('tabindex', '0');
    el.setAttribute('aria-label', `Portal ${d.name} â€” NÃ­vel ${d.level}`);
    el.innerHTML = `
        <div class="deity-orb" style="border-color:${d.color}33">
            <span style="filter:drop-shadow(0 0 8px ${d.color})">${d.emoji}</span>
            <div class="deity-level">${d.level}</div>
        </div>
        <div class="deity-name">${d.name}</div>
        <div class="deity-role">${d.role}</div>
    `;
    el.addEventListener('click',   () => activatePortal(d));
    el.addEventListener('keydown', e => { if (e.key==='Enter'||e.key===' ') activatePortal(d); });
    sphereArea.appendChild(el);

    gsap.to(el, {
        y: '+=8',
        repeat: -1,
        yoyo: true,
        duration: 2 + Math.random() * 1.5,
        ease: 'sine.inOut',
        delay: Math.random() * 2
    });
});

// â”€â”€ PORTAL TRANSITION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let isTransitioning = false;

function activatePortal(deity) {
    if (isTransitioning) return;
    isTransitioning = true;
    if (soundOn && audioCtx) {
        const osc  = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = 'sine';
        osc.frequency.setValueAtTime(111, audioCtx.currentTime);
        osc.frequency.linearRampToValueAtTime(432, audioCtx.currentTime + 2);
        gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 3);
        osc.connect(gain); gain.connect(audioCtx.destination);
        osc.start(); osc.stop(audioCtx.currentTime + 3);
    }

    document.getElementById('portal-name').textContent = deity.name.toUpperCase();
    document.getElementById('portal-name').style.color = deity.color;
    document.getElementById('portal-name').style.textShadow = `0 0 40px ${deity.color}`;

    const overlay = document.getElementById('portal-overlay');
    const tl = gsap.timeline();

    tl.to(overlay, { opacity: 1, duration: 0.6, pointerEvents: 'auto' })
      .to('.portal-ring', {
          opacity: 0.8, scale: 2,
          duration: 1.5, stagger: 0.12, ease: 'power2.out'
      }, 0.2)
      .to('#portal-name', { opacity: 1, duration: 0.8, ease: 'power2.out' }, 0.8)
      .to('#portal-sub',  { opacity: 1, duration: 0.6 }, 1.2)
      .to([outerSphere.scale, innerSphere.scale], {
          x: 0.01, y: 0.01, z: 0.01, duration: 1.5, ease: 'power2.in'
      }, 0.5)
      .to('#flash', { opacity: 1, duration: 0.5, ease: 'power2.in' }, 2.8)
      .call(() => { window.location.href = deity.url; }, null, 3.4);
}

// â”€â”€ SHOW ENIGMA PHRASE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let lastPhrase = -1;
function showPhrase(index) {
    const el = document.getElementById('phrase-display');
    const p  = PHRASES[index !== undefined ? index : Math.floor(Math.random() * PHRASES.length)];
    if (el._gsapTween) el._gsapTween.kill();
    el.textContent = p;
    el._gsapTween = gsap.timeline()
        .to(el, { opacity: 1, duration: 0.8, ease: 'power2.out' })
        .to(el, { opacity: 0, duration: 0.8, ease: 'power2.in', delay: 3 });
}

// Periodic phrase every 12s
setInterval(() => { if (!isTransitioning) showPhrase(); }, 12000);

// â”€â”€ RENDER LOOP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const clock = new THREE.Clock();

function animate() {
    requestAnimationFrame(animate);
    const t = clock.getElapsedTime();

    // Shader time
    outerMat.uniforms.uTime.value = t;

    // Check mouse proximity to center
    raycaster.setFromCamera(mouse, camera);
    const nearHits = raycaster.intersectObject(outerSphere);
    isNearSphere   = nearHits.length > 0;
    const target   = isNearSphere ? 0.0008 : 0.004;
    rotationSpeed += (target - rotationSpeed) * 0.05;

    // Sphere rotation
    currentRotX += (targetRotX - currentRotX) * 0.04;
    currentRotY += (targetRotY - currentRotY) * 0.04;

    innerSphere.rotation.y  = t * rotationSpeed * 250 + currentRotY;
    innerSphere.rotation.x  = currentRotX * 0.5;
    outerSphere.rotation.y  = t * rotationSpeed * 200 + currentRotY;
    outerSphere.rotation.x  = currentRotX * 0.3;
    sacredMesh.rotation.y   = -t * 0.006 + currentRotY * 0.5;
    sacredMesh.rotation.x   = t * 0.004;

    // Track total rotation for 360Â° easter egg
    totalRotation += rotationSpeed;
    if (totalRotation > Math.PI * 2 && !phrase360Shown) {
        phrase360Shown = true;
        setTimeout(() => showPhrase(0), 500); // "Quem se conhece governa..."
        setTimeout(() => { phrase360Shown = false; totalRotation = 0; }, 15000);
    }

    // Rings
    rings.forEach(r => {
        r.mesh.rotation[r.axis] += r.speed;
    });

    // Particles orbit
    const pos = partGeo.attributes.position.array;
    for (let i = 0; i < PARTICLE_COUNT; i++) {
        partVel[i*3] += 0.003 + (i % 5) * 0.0003;
        const theta = partVel[i*3];
        const phi   = partVel[i*3+1];
        const r     = partVel[i*3+2];
        pos[i*3]   = r * Math.sin(phi) * Math.cos(theta);
        pos[i*3+1] = r * Math.sin(phi) * Math.sin(theta) + Math.sin(t * 0.3 + i) * 0.05;
        pos[i*3+2] = r * Math.cos(phi);
    }
    partGeo.attributes.position.needsUpdate = true;

    // Pulse gold light
    goldLight.intensity = 2.5 + Math.sin(t * 1.5) * 0.8;
    blueLight.intensity = 1.8 + Math.cos(t * 1.1) * 0.6;

    renderer.render(scene, camera);
}

// â”€â”€ INTRO SEQUENCE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function runIntro() {
    const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

    // Fake load progress
    let p = 0;
    const fillEl = document.getElementById('loader-fill');
    const loaderTimer = setInterval(() => {
        p = Math.min(p + Math.random() * 18, 100);
        fillEl.style.width = p + '%';
        if (p >= 100) {
            clearInterval(loaderTimer);
            tl.to('#loader', { opacity: 0, duration: 1, delay: 0.4,
                onComplete: () => { document.getElementById('loader').remove(); }
            });
        }
    }, 120);

    // UI reveal cascade
    tl.to('#eyebrow',    { opacity: 1, y: 0, duration: 1.2, delay: 2 })
      .to('#hero-title', { opacity: 1, y: 0, duration: 1.2 }, '-=0.6')
      .to('#hero-sub',   { opacity: 1, y: 0, duration: 1 }, '-=0.7')
      .to('#header',     { opacity: 1, y: 0, duration: 1 }, '-=0.5')
      .to('#manifesto',  { opacity: 1, y: 0, duration: 1 }, '-=0.5')
      .to('.corner-glyph', { opacity: 1, duration: 1, stagger: 0.15 }, '-=0.5')
      .to('.side-line',    { opacity: 1, duration: 1.5 }, '-=0.5')
      .to('#enigma',       { opacity: 0.7, duration: 1 }, '-=0.3')
      .to('#sound-toggle', { opacity: 0.7, duration: 1 }, '-=0.5')
      .to('#auth-bar',     { opacity: 1, duration: 0.8, ease: 'power2.out' }, '-=0.6')
      .to('#menu-toggle',  { opacity: 0.9, duration: 0.8 }, '-=0.6');

    // Show deities
    DEITIES.forEach((d, i) => {
        tl.to(`#deity-${d.id}`, { opacity: 1, duration: 0.8 }, `>-0.4`);
    });

    // First phrase after 5s
    setTimeout(() => showPhrase(6), 5000);
}

// â”€â”€ RIGHT NAV MENU â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const menuToggle = document.getElementById('menu-toggle');
const navPanel   = document.getElementById('nav-panel');
const navOverlay = document.getElementById('nav-overlay');

function openNav() {
    menuToggle.classList.add('open');
    navPanel.classList.add('open');
    navOverlay.classList.add('active');
    menuToggle.setAttribute('aria-expanded', 'true');
}
function closeNav() {
    menuToggle.classList.remove('open');
    navPanel.classList.remove('open');
    navOverlay.classList.remove('active');
    menuToggle.setAttribute('aria-expanded', 'false');
}

menuToggle.addEventListener('click', () => menuToggle.classList.contains('open') ? closeNav() : openNav());
navOverlay.addEventListener('click', closeNav);
document.addEventListener('keydown', e => { if (e.key === 'Escape') closeNav(); });

// Add nav panel links to cursor hovering
document.querySelectorAll('.nav-panel-link, .auth-btn, #menu-toggle').forEach(el => {
    el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
    el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
});


let resizeTimer;
window.addEventListener('resize', () => {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(() => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    }, 150);
});

// â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
animate();
runIntro();
</script>
</body>
</html>
        #stage { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100vw; 
            height: 100vh; 
            z-index: 1; 
            outline: none; 
        }

        /* SCROLL CONTROL */
        .scroll-track { 
            height: 500vh; 
            position: relative; 
            z-index: 2; 
            pointer-events: none; 
        }

        /* UI LAYERS */
        .ui-layer {
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%;
            z-index: 10; 
            pointer-events: none;
            display: flex; 
            flex-direction: column;
            justify-content: center; 
            align-items: center;
            transition: opacity 1s ease;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MENUS DE NAVEGAÃ‡ÃƒO
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        /* Container dos Menus */
        .nav-menus {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 100;
            pointer-events: none;
        }

        /* Menu Toggle Buttons */
        .menu-toggle {
            position: fixed;
            top: 25px;
            width: 50px;
            height: 50px;
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid var(--c-gold);
            border-radius: 50%;
            cursor: pointer;
            pointer-events: auto;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(10px);
            z-index: 102;
        }

        .menu-toggle:hover {
            transform: scale(1.1);
            background: var(--c-gold);
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.6);
        }

        .menu-toggle:hover svg {
            stroke: #000;
        }

        .menu-toggle svg {
            width: 24px;
            height: 24px;
            stroke: var(--c-gold);
            stroke-width: 2;
            fill: none;
            transition: all 0.3s ease;
        }

        .menu-toggle-left {
            left: 25px;
        }

        .menu-toggle-right {
            right: 25px;
        }

        /* Menu Panels */
        .menu-panel {
            position: fixed;
            top: 0;
            height: 100vh;
            width: 320px;
            background: linear-gradient(180deg, rgba(0,0,0,0.98) 0%, rgba(10,10,15,0.95) 100%);
            border: 1px solid rgba(212, 175, 55, 0.3);
            backdrop-filter: blur(20px);
            padding: 100px 30px 40px;
            transform: translateX(-100%);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: auto;
            z-index: 101;
            overflow-y: auto;
        }

        .menu-panel.right {
            right: 0;
            left: auto;
            transform: translateX(100%);
            border-left: 1px solid rgba(212, 175, 55, 0.3);
            border-right: none;
        }

        .menu-panel.open {
            transform: translateX(0);
        }

        .menu-panel.right.open {
            transform: translateX(0);
        }

        /* Menu Header */
        .menu-header {
            font-family: var(--font-head);
            font-size: 1.2rem;
            color: var(--c-gold);
            letter-spacing: 0.3em;
            text-transform: uppercase;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
            text-align: center;
        }

        /* Menu Items */
        .menu-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            margin-bottom: 10px;
            background: rgba(212, 175, 55, 0.05);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: #fff;
        }

        .menu-item:hover {
            background: rgba(212, 175, 55, 0.15);
            border-color: var(--c-gold);
            transform: translateX(5px);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.2);
        }

        .menu-item-icon {
            width: 40px;
            height: 40px;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--c-gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .menu-item-icon svg {
            width: 22px;
            height: 22px;
        }

        .menu-item-content {
            flex: 1;
        }

        .menu-item-title {
            font-family: var(--font-head);
            font-size: 0.9rem;
            color: var(--c-gold);
            letter-spacing: 0.15em;
            margin-bottom: 3px;
        }

        .menu-item-subtitle {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.6);
            letter-spacing: 0.1em;
        }

        .menu-item-level {
            background: linear-gradient(135deg, var(--c-gold) 0%, var(--c-gold-bright) 100%);
            color: #000;
            font-size: 0.6rem;
            font-weight: 700;
            padding: 4px 8px;
            border-radius: 4px;
            letter-spacing: 0.05em;
        }

        /* Menu Overlay */
        .menu-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease;
            pointer-events: none;
            z-index: 100;
        }

        .menu-overlay.active {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
        }

        /* Menu Footer */
        .menu-footer {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(212, 175, 55, 0.2);
            text-align: center;
        }

        .menu-footer-text {
            font-size: 0.65rem;
            color: rgba(255, 255, 255, 0.4);
            letter-spacing: 0.2em;
        }

        /* Close button inside panel */
        .menu-close {
            position: absolute;
            top: 25px;
            width: 40px;
            height: 40px;
            background: transparent;
            border: 1px solid rgba(212, 175, 55, 0.5);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .menu-close:hover {
            background: var(--c-gold);
            border-color: var(--c-gold);
        }

        .menu-close:hover svg {
            stroke: #000;
        }

        .menu-close svg {
            width: 18px;
            height: 18px;
            stroke: var(--c-gold);
            stroke-width: 2;
        }

        .menu-panel .menu-close {
            right: 25px;
        }

        .menu-panel.right .menu-close {
            left: 25px;
            right: auto;
        }

        /* Divider */
        .menu-divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.3), transparent);
            margin: 20px 0;
        }

        /* Special highlight for free sessions */
        .menu-item.highlight {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%);
            border-color: var(--c-gold);
        }

        .menu-item.highlight::before {
            content: 'â˜…';
            position: absolute;
            top: -8px;
            right: 10px;
            color: var(--c-gold);
            font-size: 0.8rem;
        }

        /* HERO ORIGIN */
        #ui-origin { opacity: 1; }
        
        .hero-title {
            font-family: var(--font-head); 
            font-size: clamp(3rem, 8vw, 7rem);
            color: var(--c-gold); 
            text-transform: uppercase; 
            letter-spacing: 0.3em;
            text-shadow: 
                0 0 30px rgba(212, 175, 55, 0.5),
                0 0 60px rgba(212, 175, 55, 0.3),
                0 0 90px rgba(212, 175, 55, 0.1);
            animation: titleGlow 3s ease-in-out infinite;
        }
        
        @keyframes titleGlow {
            0%, 100% { text-shadow: 0 0 30px rgba(212, 175, 55, 0.5), 0 0 60px rgba(212, 175, 55, 0.3); }
            50% { text-shadow: 0 0 50px rgba(212, 175, 55, 0.8), 0 0 100px rgba(212, 175, 55, 0.5); }
        }
        
        .hero-subtitle {
            letter-spacing: 0.5em; 
            margin-top: 15px; 
            opacity: 0.7;
            font-size: clamp(0.8rem, 2vw, 1.2rem);
            color: var(--c-gold-glow);
        }
        
        .scroll-hint { 
            position: absolute; 
            bottom: 50px; 
            font-size: 0.75rem; 
            letter-spacing: 0.4em; 
            color: var(--c-gold); 
            animation: pulse 2s infinite;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        .scroll-hint::after {
            content: '';
            width: 1px;
            height: 40px;
            background: linear-gradient(to bottom, var(--c-gold), transparent);
            animation: scrollLine 2s infinite;
        }
        
        @keyframes scrollLine {
            0% { transform: scaleY(0); transform-origin: top; }
            50% { transform: scaleY(1); transform-origin: top; }
            51% { transform-origin: bottom; }
            100% { transform: scaleY(0); transform-origin: bottom; }
        }

        /* HUD IMPÃ‰RIO */
        #ui-empire { 
            opacity: 0; 
            visibility: hidden; 
            pointer-events: none; 
        }
        
        .hud-top {
            position: absolute; 
            top: 30px; 
            width: 90%; 
            display: flex; 
            justify-content: space-between;
            border-top: 1px solid rgba(212,175,55,0.3); 
            padding-top: 15px; 
            color: var(--c-gold); 
            letter-spacing: 0.2em; 
            font-size: 0.7rem;
            padding-left: 80px;
            padding-right: 80px;
        }
        
        .hud-bottom {
            position: absolute;
            bottom: 30px;
            width: 90%;
            display: flex;
            justify-content: center;
            color: var(--c-gold);
            font-size: 0.65rem;
            letter-spacing: 0.3em;
            opacity: 0.6;
        }

        /* MARCADORES FUTURISTAS SCI-FI */
        .marker {
            position: fixed;
            display: flex; 
            flex-direction: column; 
            align-items: center;
            cursor: pointer; 
            pointer-events: none;
            opacity: 0;
            z-index: 20;
            transform: translate(-50%, -50%);
            transition: opacity 0.3s ease;
        }
        
        .marker.visible {
            opacity: 1;
            pointer-events: auto;
        }
        
        .marker-wrapper {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        /* Anel Externo GiratÃ³rio */
        .marker-ring-outer {
            position: absolute;
            width: 70px;
            height: 70px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 2px solid transparent;
            border-top: 2px solid var(--c-gold);
            border-right: 2px solid var(--c-gold);
            border-radius: 50%;
            animation: rotateRing 4s linear infinite;
            opacity: 0.6;
            pointer-events: none;
        }
        
        .marker-ring-inner {
            position: absolute;
            width: 55px;
            height: 55px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 1px solid transparent;
            border-bottom: 1px solid var(--c-gold-bright);
            border-left: 1px solid var(--c-gold-bright);
            border-radius: 50%;
            animation: rotateRing 3s linear infinite reverse;
            opacity: 0.4;
            pointer-events: none;
        }
        
        @keyframes rotateRing {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        /* Ãcone Central */
        .marker-icon {
            width: 44px; 
            height: 44px;
            background: radial-gradient(ellipse at center, rgba(15,15,20,0.95) 0%, rgba(0,0,0,0.9) 100%);
            border: 1.5px solid var(--c-gold);
            border-radius: 50%;
            display: flex; 
            justify-content: center; 
            align-items: center;
            box-shadow: 
                0 0 15px rgba(212, 175, 55, 0.5),
                0 0 30px rgba(212, 175, 55, 0.2),
                inset 0 0 15px rgba(212, 175, 55, 0.1);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 2;
        }
        
        .marker-icon svg { 
            width: 24px; 
            height: 24px; 
            transition: all 0.4s ease;
        }
        
        /* NÃ­vel Badge */
        .marker-level {
            position: absolute;
            top: -6px;
            right: -6px;
            background: linear-gradient(135deg, var(--c-gold) 0%, var(--c-gold-bright) 100%);
            color: #000;
            font-size: 0.55rem;
            font-weight: 700;
            padding: 2px 5px;
            border-radius: 3px;
            letter-spacing: 0.05em;
            z-index: 3;
            box-shadow: 0 0 8px var(--c-gold);
        }
        
        /* Label */
        .marker-label {
            margin-top: 10px; 
            font-size: 0.6rem; 
            letter-spacing: 0.2em;
            background: rgba(0,0,0,0.9); 
            color: var(--c-gold);
            padding: 5px 12px; 
            text-transform: uppercase;
            border: 1px solid rgba(212,175,55,0.5);
            opacity: 0; 
            transform: translateY(-10px) scale(0.9);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(10px);
            white-space: nowrap;
            border-radius: 3px;
        }

        /* Hover States */
        .marker:hover .marker-icon { 
            transform: scale(1.2); 
            background: radial-gradient(ellipse at center, var(--c-gold) 0%, #b8960c 100%);
            box-shadow: 
                0 0 30px var(--c-gold),
                0 0 60px rgba(212, 175, 55, 0.6);
        }
        
        .marker:hover .marker-icon svg path,
        .marker:hover .marker-icon svg circle,
        .marker:hover .marker-icon svg line,
        .marker:hover .marker-icon svg ellipse { 
            fill: #000 !important;
            stroke: #000 !important;
        }
        
        .marker:hover .marker-label { 
            opacity: 1; 
            transform: translateY(0) scale(1); 
        }
        
        .marker:hover .marker-ring-outer,
        .marker:hover .marker-ring-inner {
            opacity: 1;
        }

        /* TRANSITION OVERLAY */
        #transition-overlay {
            position: fixed;
            inset: 0;
            background: radial-gradient(ellipse at center, transparent 0%, rgba(0,0,0,0.98) 100%);
            z-index: 150;
            opacity: 0;
            pointer-events: none;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .portal-ring {
            position: absolute;
            border: 2px solid var(--c-gold);
            border-radius: 50%;
            opacity: 0;
        }
        
        #transition-text {
            font-family: var(--font-head);
            font-size: clamp(1.2rem, 3vw, 2.5rem);
            color: var(--c-gold);
            letter-spacing: 0.3em;
            opacity: 0;
            text-shadow: 0 0 30px var(--c-gold);
            text-align: center;
        }
        
        #transition-deity {
            font-size: clamp(2rem, 5vw, 4rem);
            margin-bottom: 10px;
            display: block;
        }

        /* WHITE FLASH */
        #white-flash {
            position: fixed; 
            inset: 0; 
            background: radial-gradient(ellipse at center, #fff 0%, var(--c-gold-glow) 100%);
            z-index: 200;
            opacity: 0; 
            pointer-events: none;
        }

        /* LOADER */
        #loader {
            position: fixed; 
            inset: 0; 
            background: #000; 
            z-index: 999;
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center;
            font-family: var(--font-head); 
            color: var(--c-gold);
        }
        
        .loader-logo {
            font-size: 2rem;
            letter-spacing: 0.4em;
            margin-bottom: 30px;
            animation: titleGlow 2s ease-in-out infinite;
        }
        
        .bar { 
            width: 200px; 
            height: 2px; 
            background: rgba(212, 175, 55, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .progress { 
            width: 0%; 
            height: 100%; 
            background: linear-gradient(90deg, var(--c-gold), var(--c-gold-bright));
            transition: width 0.3s ease;
            box-shadow: 0 0 20px var(--c-gold);
        }
        
        .loader-status {
            margin-top: 20px;
            font-family: var(--font-tech);
            font-size: 0.7rem;
            letter-spacing: 0.3em;
            opacity: 0.6;
        }

        @keyframes pulse { 
            0%, 100% { opacity: 0.4; } 
            50% { opacity: 1; } 
        }
        
        /* Scan Lines Effect */
        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0,0,0,0.02),
                rgba(0,0,0,0.02) 1px,
                transparent 1px,
                transparent 2px
            );
            pointer-events: none;
            z-index: 1000;
            opacity: 0.4;
        }
        
        /* Vignette */
        .vignette {
            position: fixed;
            inset: 0;
            background: radial-gradient(ellipse at center, transparent 40%, rgba(0,0,0,0.5) 100%);
            pointer-events: none;
            z-index: 5;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .menu-panel {
                width: 280px;
                padding: 90px 20px 30px;
            }
            
            .menu-toggle {
                width: 44px;
                height: 44px;
                top: 20px;
            }
            
            .menu-toggle-left {
                left: 15px;
            }
            
            .menu-toggle-right {
                right: 15px;
            }
            
            .menu-item {
                padding: 12px 15px;
            }
            
            .menu-item-icon {
                width: 35px;
                height: 35px;
            }
            
            .hud-top {
                padding-left: 60px;
                padding-right: 60px;
                font-size: 0.6rem;
            }
        }
    </style>
</head>
<body>

    <!-- Loader -->
    <div id="loader">
        <div class="loader-logo">AKASHA</div>
        <div class="bar"><div class="progress" id="prog-bar"></div></div>
        <div class="loader-status">INICIALIZANDO SISTEMA</div>
    </div>
    
    <!-- Effects Overlays -->
    <div class="scanlines"></div>
    <div class="vignette"></div>
    <div id="white-flash"></div>
    <div id="transition-overlay">
        <div class="portal-ring" style="width: 100px; height: 100px;"></div>
        <div class="portal-ring" style="width: 200px; height: 200px;"></div>
        <div class="portal-ring" style="width: 300px; height: 300px;"></div>
        <div class="portal-ring" style="width: 400px; height: 400px;"></div>
        <div id="transition-text">
            <span id="transition-deity">ANÃšBIS</span>
            PORTAL ATIVADO
        </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         MENUS DE NAVEGAÃ‡ÃƒO
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    
    <div class="nav-menus">
        <!-- Overlay -->
        <div class="menu-overlay" id="menuOverlay"></div>
        
        <!-- Toggle Button Left - NÃ­veis -->
        <button class="menu-toggle menu-toggle-left" id="toggleLeft" aria-label="Menu NÃ­veis">
            <svg viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" stroke-width="1.5"/>
                <path d="M12 2 L12 6 M12 18 L12 22 M2 12 L6 12 M18 12 L22 12" stroke-width="1.5"/>
                <circle cx="12" cy="12" r="3" stroke-width="1.5"/>
            </svg>
        </button>
        
        <!-- Toggle Button Right - PÃ¡ginas -->
        <button class="menu-toggle menu-toggle-right" id="toggleRight" aria-label="Menu PÃ¡ginas">
            <svg viewBox="0 0 24 24">
                <line x1="3" y1="6" x2="21" y2="6" stroke-width="2"/>
                <line x1="3" y1="12" x2="21" y2="12" stroke-width="2"/>
                <line x1="3" y1="18" x2="21" y2="18" stroke-width="2"/>
            </svg>
        </button>
        
        <!-- Menu Panel Left - NÃ­veis/Portais -->
        <nav class="menu-panel" id="menuLeft">
            <button class="menu-close" id="closeLeft" aria-label="Fechar menu">
                <svg viewBox="0 0 24 24">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>
            
            <div class="menu-header">â—ˆ Portais â—ˆ</div>
            
            <a href="https://pay.hotmart.com/N104491126Y" class="menu-item" data-deity="anubis">
                <div class="menu-item-icon" id="menuIconAnubis"></div>
                <div class="menu-item-content">
                    <div class="menu-item-title">AnÃºbis</div>
                    <div class="menu-item-subtitle">GuardiÃ£o do Sul</div>
                </div>
                <div class="menu-item-level">N1</div>
            </a>
            
            <a href="https://pay.hotmart.com/O104491171B" class="menu-item" data-deity="horus">
                <div class="menu-item-icon" id="menuIconHorus"></div>
                <div class="menu-item-content">
                    <div class="menu-item-title">HÃ³rus</div>
                    <div class="menu-item-subtitle">GuardiÃ£o do Norte</div>
                </div>
                <div class="menu-item-level">N2</div>
            </a>
            
            <a href="https://pay.hotmart.com/F104491235U" class="menu-item" data-deity="isis">
                <div class="menu-item-icon" id="menuIconIsis"></div>
                <div class="menu-item-content">
                    <div class="menu-item-title">Ãsis</div>
                    <div class="menu-item-subtitle">GuardiÃ£ do Oeste</div>
                </div>
                <div class="menu-item-level">N3</div>
            </a>
            
            <a href="https://pay.hotmart.com/L104491291E" class="menu-item" data-deity="ra">
                <div class="menu-item-icon" id="menuIconRa"></div>
                <div class="menu-item-content">
                    <div class="menu-item-title">RÃ¡</div>
                    <div class="menu-item-subtitle">GuardiÃ£o do Leste</div>
                </div>
                <div class="menu-item-level">N4</div>
            </a>
            
            <div class="menu-footer">
                <div class="menu-footer-text">AKASHA EMPIRE</div>
            </div>
        </nav>
        
        <!-- Menu Panel Right - PÃ¡ginas -->
        <nav class="menu-panel right" id="menuRight">
            <button class="menu-close" id="closeRight" aria-label="Fechar menu">
                <svg viewBox="0 0 24 24">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>
            
            <div class="menu-header">â—ˆ NavegaÃ§Ã£o â—ˆ</div>
            
            <a href="https://akashahub.com.br/mentoria" class="menu-item">
                <div class="menu-item-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#d4af37" stroke-width="1.5">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                        <path d="M2 17l10 5 10-5"/>
                        <path d="M2 12l10 5 10-5"/>
                    </svg>
                </div>
                <div class="menu-item-content">
                    <div class="menu-item-title">Mentoria</div>
                    <div class="menu-item-subtitle">Programa de desenvolvimento</div>
                </div>
            </a>
            
            <a href="https://akashahub.com.br/vip" class="menu-item">
                <div class="menu-item-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#d4af37" stroke-width="1.5">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                    </svg>
                </div>
                <div class="menu-item-content">
                    <div class="menu-item-title">Presencial VIP</div>
                    <div class="menu-item-subtitle">ExperiÃªncia exclusiva</div>
                </div>
            </a>
            
            <a href="https://akashahub.com.br/partners" class="menu-item">
                <div class="menu-item-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#d4af37" stroke-width="1.5">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                    </svg>
                </div>
                <div class="menu-item-content">
                    <div class="menu-item-title">Parceiros</div>
                    <div class="menu-item-subtitle">Patrocinadores & parcerias</div>
                </div>
            </a>
            
            <div class="menu-divider"></div>
            
            <a href="https://akashahub.com.br/livre/" class="menu-item highlight" style="position: relative;">
                <div class="menu-item-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#d4af37" stroke-width="1.5">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M8 14s1.5 2 4 2 4-2 4-2"/>
                        <line x1="9" y1="9" x2="9.01" y2="9"/>
                        <line x1="15" y1="9" x2="15.01" y2="9"/>
                    </svg>
                </div>
                <div class="menu-item-content">
                    <div class="menu-item-title">SessÃµes GrÃ¡tis</div>
                    <div class="menu-item-subtitle">Grupos online abertos</div>
                </div>
            </a>
            
            <div class="menu-footer">
                <div class="menu-footer-text">IMPÃ‰RIO DIGITAL</div>
            </div>
        </nav>
    </div>

    <!-- WebGL Canvas -->
    <canvas id="stage"></canvas>
    
    <!-- Scroll Track -->
    <div class="scroll-track"></div>

    <!-- UI: Origem -->
    <div id="ui-origin" class="ui-layer">
        <h1 class="hero-title">Akasha</h1>
        <div class="hero-subtitle">IMPÃ‰RIO DIGITAL</div>
        <div class="scroll-hint">INICIAR ASCENSÃƒO</div>
    </div>

    <!-- UI: ImpÃ©rio -->
    <div id="ui-empire" class="ui-layer">
        <div class="hud-top">
            <div>â—ˆ SATÃ‰LITE AKASHA CONTROL: ACTIVE</div>
            <div>â—ˆ SYSTEM STATUS: ONLINE</div>
        </div>
        <div id="marker-container"></div>
        <div class="hud-bottom">
            <div>SELECIONE UM PORTAL PARA CONTINUAR</div>
        </div>
    </div>

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <script>
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  AKASHA ENGINE v3.0 - CINEMATIC EARTH EXPERIENCE
        //  Com Menus de NavegaÃ§Ã£o
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // MENU NAVIGATION SYSTEM
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        const menuSystem = {
            overlay: document.getElementById('menuOverlay'),
            menuLeft: document.getElementById('menuLeft'),
            menuRight: document.getElementById('menuRight'),
            toggleLeft: document.getElementById('toggleLeft'),
            toggleRight: document.getElementById('toggleRight'),
            closeLeft: document.getElementById('closeLeft'),
            closeRight: document.getElementById('closeRight'),
            
            init() {
                // Toggle buttons
                this.toggleLeft.addEventListener('click', () => this.openMenu('left'));
                this.toggleRight.addEventListener('click', () => this.openMenu('right'));
                
                // Close buttons
                this.closeLeft.addEventListener('click', () => this.closeMenu('left'));
                this.closeRight.addEventListener('click', () => this.closeMenu('right'));
                
                // Overlay click
                this.overlay.addEventListener('click', () => this.closeAll());
                
                // ESC key
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') this.closeAll();
                });
            },
            
            openMenu(side) {
                this.closeAll();
                this.overlay.classList.add('active');
                if (side === 'left') {
                    this.menuLeft.classList.add('open');
                } else {
                    this.menuRight.classList.add('open');
                }
            },
            
            closeMenu(side) {
                this.overlay.classList.remove('active');
                if (side === 'left') {
                    this.menuLeft.classList.remove('open');
                } else {
                    this.menuRight.classList.remove('open');
                }
            },
            
            closeAll() {
                this.overlay.classList.remove('active');
                this.menuLeft.classList.remove('open');
                this.menuRight.classList.remove('open');
            }
        };
        
        // Initialize menu system
        menuSystem.init();

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // CONFIGURAÃ‡ÃƒO GLOBAL
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        const CONFIG = {
            earthRadius: 3.5,
            markerOffset: 0.15,
            cameraDistance: 12,
            targetLocation: {
                lat: 30.0444,
                lon: 31.2357
            },
            textures: {
                map: 'https://unpkg.com/three-globe/example/img/earth-blue-marble.jpg',
                bump: 'https://unpkg.com/three-globe/example/img/earth-topology.png',
                specular: 'https://unpkg.com/three-globe/example/img/earth-water.png'
            }
        };

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // ÃCONES SVG DOS DEUSES EGÃPCIOS
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        const DEITY_ICONS = {
            anubis: `<svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="anubisGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#ffd700"/>
                        <stop offset="50%" style="stop-color:#d4af37"/>
                        <stop offset="100%" style="stop-color:#b8860b"/>
                    </linearGradient>
                </defs>
                <path fill="url(#anubisGrad)" d="M32 8 L26 18 L22 14 L24 24 L18 22 L22 30 L16 32 L22 36 L18 42 L26 40 L28 48 L32 44 L36 48 L38 40 L46 42 L42 36 L48 32 L42 30 L46 22 L40 24 L42 14 L38 18 Z"/>
                <circle cx="32" cy="28" r="5" fill="#0a0a0a" stroke="url(#anubisGrad)" stroke-width="1.5"/>
                <circle cx="32" cy="28" r="2" fill="url(#anubisGrad)"/>
                <ellipse cx="32" cy="52" rx="4" ry="3" fill="none" stroke="url(#anubisGrad)" stroke-width="1.5"/>
                <line x1="32" y1="55" x2="32" y2="62" stroke="url(#anubisGrad)" stroke-width="1.5"/>
                <line x1="28" y1="58" x2="36" y2="58" stroke="url(#anubisGrad)" stroke-width="1.5"/>
            </svg>`,
            
            horus: `<svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="horusGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#ffd700"/>
                        <stop offset="100%" style="stop-color:#d4af37"/>
                    </linearGradient>
                </defs>
                <ellipse cx="32" cy="26" rx="20" ry="12" fill="none" stroke="url(#horusGrad)" stroke-width="2"/>
                <circle cx="32" cy="26" r="7" fill="url(#horusGrad)"/>
                <circle cx="32" cy="26" r="3.5" fill="#0a0a0a"/>
                <circle cx="33" cy="25" r="1.5" fill="url(#horusGrad)"/>
                <path fill="none" stroke="url(#horusGrad)" stroke-width="2" d="M12 26 Q8 32 6 42"/>
                <path fill="none" stroke="url(#horusGrad)" stroke-width="2" d="M52 26 Q56 32 58 42"/>
                <path fill="none" stroke="url(#horusGrad)" stroke-width="1.5" d="M16 16 L32 12 L48 16"/>
                <path fill="url(#horusGrad)" d="M26 38 L32 50 L38 38 L35 40 L32 38 L29 40 Z"/>
            </svg>`,
            
            isis: `<svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="isisGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#ffd700"/>
                        <stop offset="100%" style="stop-color:#d4af37"/>
                    </linearGradient>
                </defs>
                <path fill="url(#isisGrad)" d="M28 6 L32 2 L36 6 L36 14 L28 14 Z"/>
                <circle cx="32" cy="20" r="5" fill="url(#isisGrad)"/>
                <line x1="32" y1="25" x2="32" y2="42" stroke="url(#isisGrad)" stroke-width="2"/>
                <path fill="url(#isisGrad)" opacity="0.9" d="M32 30 L4 22 L6 30 L2 38 L32 34 L62 38 L58 30 L60 22 Z"/>
                <path fill="none" stroke="url(#isisGrad)" stroke-width="0.8" d="M8 26 L28 31"/>
                <path fill="none" stroke="url(#isisGrad)" stroke-width="0.8" d="M56 26 L36 31"/>
                <path fill="none" stroke="url(#isisGrad)" stroke-width="0.8" d="M6 34 L28 33"/>
                <path fill="none" stroke="url(#isisGrad)" stroke-width="0.8" d="M58 34 L36 33"/>
                <path fill="url(#isisGrad)" d="M26 42 L32 62 L38 42 Z" opacity="0.8"/>
            </svg>`,
            
            ra: `<svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <radialGradient id="raGrad" cx="50%" cy="50%" r="50%">
                        <stop offset="0%" style="stop-color:#ffffff"/>
                        <stop offset="30%" style="stop-color:#ffd700"/>
                        <stop offset="70%" style="stop-color:#d4af37"/>
                        <stop offset="100%" style="stop-color:#b8860b"/>
                    </radialGradient>
                </defs>
                <circle cx="32" cy="32" r="10" fill="url(#raGrad)"/>
                <circle cx="32" cy="32" r="14" fill="none" stroke="#d4af37" stroke-width="1" opacity="0.7"/>
                <circle cx="32" cy="32" r="18" fill="none" stroke="#d4af37" stroke-width="0.5" opacity="0.5"/>
                <line x1="32" y1="2" x2="32" y2="12" stroke="#d4af37" stroke-width="2.5"/>
                <line x1="32" y1="52" x2="32" y2="62" stroke="#d4af37" stroke-width="2.5"/>
                <line x1="2" y1="32" x2="12" y2="32" stroke="#d4af37" stroke-width="2.5"/>
                <line x1="52" y1="32" x2="62" y2="32" stroke="#d4af37" stroke-width="2.5"/>
                <line x1="8" y1="8" x2="16" y2="16" stroke="#d4af37" stroke-width="2"/>
                <line x1="48" y1="48" x2="56" y2="56" stroke="#d4af37" stroke-width="2"/>
                <line x1="56" y1="8" x2="48" y2="16" stroke="#d4af37" stroke-width="2"/>
                <line x1="8" y1="56" x2="16" y2="48" stroke="#d4af37" stroke-width="2"/>
                <circle cx="32" cy="32" r="4" fill="#fff" opacity="0.9"/>
            </svg>`
        };

        // Inject icons into menu
        document.getElementById('menuIconAnubis').innerHTML = DEITY_ICONS.anubis;
        document.getElementById('menuIconHorus').innerHTML = DEITY_ICONS.horus;
        document.getElementById('menuIconIsis').innerHTML = DEITY_ICONS.isis;
        document.getElementById('menuIconRa').innerHTML = DEITY_ICONS.ra;

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // DADOS DOS MARCADORES
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        const MARKERS_DATA = [
            { 
                id: 'anubis', 
                name: 'AnÃºbis',
                level: 1,
                position: 'south',
                lat: -75, 
                lon: 0, 
                icon: DEITY_ICONS.anubis, 
                label: "ANÃšBIS",
                url: 'https://pay.hotmart.com/N104491126Y'
            },
            { 
                id: 'horus', 
                name: 'HÃ³rus',
                level: 2,
                position: 'north',
                lat: 75, 
                lon: 0, 
                icon: DEITY_ICONS.horus, 
                label: "HÃ“RUS",
                url: 'https://pay.hotmart.com/O104491171B'
            },
            { 
                id: 'isis', 
                name: 'Ãsis',
                level: 3,
                position: 'west',
                lat: 0, 
                lon: -90, 
                icon: DEITY_ICONS.isis, 
                label: "ÃSIS",
                url: 'https://pay.hotmart.com/F104491235U'
            },
            { 
                id: 'ra', 
                name: 'RÃ¡',
                level: 4,
                position: 'east',
                lat: 0, 
                lon: 90, 
                icon: DEITY_ICONS.ra, 
                label: "RÃ",
                url: 'https://pay.hotmart.com/L104491291E'
            }
        ];

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // SHADERS
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        const SHADERS = {
            atmosphere: {
                vertex: `
                    varying vec3 vNormal;
                    void main() {
                        vNormal = normalize(normalMatrix * normal);
                        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                    }
                `,
                fragment: `
                    varying vec3 vNormal;
                    uniform float uIntensity;
                    void main() {
                        float intensity = pow(0.65 - dot(vNormal, vec3(0, 0, 1.0)), 2.0);
                        vec3 color = mix(vec3(0.2, 0.5, 1.0), vec3(0.1, 0.8, 1.0), intensity);
                        gl_FragColor = vec4(color, intensity * uIntensity);
                    }
                `
            },
            
            pyramid: {
                vertex: `
                    varying vec2 vUv;
                    void main() {
                        vUv = uv;
                        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                    }
                `,
                fragment: `
                    uniform float uTime;
                    varying vec2 vUv;
                    void main() {
                        float grid = step(0.92, fract(vUv.y * 25.0 - uTime * 0.15));
                        vec3 baseColor = vec3(0.05, 0.05, 0.08);
                        vec3 glowColor = vec3(0.83, 0.68, 0.21);
                        vec3 color = mix(baseColor, glowColor, grid);
                        gl_FragColor = vec4(color, 1.0);
                    }
                `
            },
            
            beam: {
                vertex: `
                    varying vec2 vUv;
                    void main() {
                        vUv = uv;
                        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                    }
                `,
                fragment: `
                    uniform float uTime;
                    uniform float uIntensity;
                    varying vec2 vUv;
                    void main() {
                        float beam = 1.0 - abs(vUv.x - 0.5) * 2.0;
                        beam = pow(beam, 3.0);
                        float flow = sin(vUv.y * 30.0 - uTime * 8.0) * 0.5 + 0.5;
                        float pulse = sin(uTime * 2.0) * 0.3 + 0.7;
                        vec3 color = mix(vec3(0.3, 0.6, 1.0), vec3(0.8, 0.9, 1.0), flow);
                        gl_FragColor = vec4(color, beam * flow * uIntensity * pulse);
                    }
                `
            }
        };

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // INICIALIZAÃ‡ÃƒO THREE.JS
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        const canvas = document.querySelector('#stage');
        const renderer = new THREE.WebGLRenderer({ 
            canvas, 
            antialias: true,
            alpha: true,
            powerPreference: 'high-performance'
        });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        renderer.toneMapping = THREE.ACESFilmicToneMapping;
        renderer.toneMappingExposure = 1.2;
        
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 0, CONFIG.cameraDistance);

        // IluminaÃ§Ã£o
        const ambientLight = new THREE.AmbientLight(0x404040, 0.5);
        scene.add(ambientLight);
        
        const sunLight = new THREE.DirectionalLight(0xffffff, 1.8);
        sunLight.position.set(5, 3, 5);
        scene.add(sunLight);
        
        const rimLight = new THREE.DirectionalLight(0x4aa3ff, 0.4);
        rimLight.position.set(-5, 0, -5);
        scene.add(rimLight);

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // GRUPOS DE OBJETOS
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        const earthGroup = new THREE.Group();
        const pyramidGroup = new THREE.Group();
        scene.add(earthGroup);
        scene.add(pyramidGroup);

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // TERRA REALISTA
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        const texLoader = new THREE.TextureLoader();
        let loadedTextures = 0;
        const totalTextures = 3;

        function updateLoadingProgress() {
            loadedTextures++;
            const progress = (loadedTextures / totalTextures) * 100;
            document.getElementById('prog-bar').style.width = progress + '%';
            
            if (loadedTextures >= totalTextures) {
                setTimeout(() => {
                    gsap.to('#loader', { 
                        opacity: 0, 
                        duration: 1, 
                        onComplete: () => document.getElementById('loader').remove() 
                    });
                }, 500);
            }
        }

        const earthGeo = new THREE.SphereGeometry(CONFIG.earthRadius, 64, 64);
        const earthMat = new THREE.MeshPhongMaterial({
            map: texLoader.load(CONFIG.textures.map, updateLoadingProgress),
            bumpMap: texLoader.load(CONFIG.textures.bump, updateLoadingProgress),
            bumpScale: 0.05,
            specularMap: texLoader.load(CONFIG.textures.specular, updateLoadingProgress),
            specular: new THREE.Color(0x333333),
            shininess: 15
        });
        const earth = new THREE.Mesh(earthGeo, earthMat);
        earthGroup.add(earth);

        // Atmosfera
        const atmoGeo = new THREE.SphereGeometry(CONFIG.earthRadius + 0.15, 64, 64);
        const atmoMat = new THREE.ShaderMaterial({
            vertexShader: SHADERS.atmosphere.vertex,
            fragmentShader: SHADERS.atmosphere.fragment,
            uniforms: { uIntensity: { value: 1.5 } },
            side: THREE.BackSide,
            blending: THREE.AdditiveBlending,
            transparent: true,
            depthWrite: false
        });
        const atmosphere = new THREE.Mesh(atmoGeo, atmoMat);
        earthGroup.add(atmosphere);

        earthGroup.position.set(0, 6, 0);

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // PIRÃ‚MIDE
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        const pyrGeo = new THREE.ConeGeometry(2, 3, 4);
        const pyrMat = new THREE.ShaderMaterial({
            vertexShader: SHADERS.pyramid.vertex,
            fragmentShader: SHADERS.pyramid.fragment,
            uniforms: { uTime: { value: 0 } }
        });
        const pyramid = new THREE.Mesh(pyrGeo, pyrMat);
        pyramidGroup.position.set(0, -5, 0);
        pyramidGroup.add(pyramid);

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // FEIXE DE LUZ
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        const beamGeo = new THREE.CylinderGeometry(0.03, 0.15, 11, 32, 1, true);
        const beamMat = new THREE.ShaderMaterial({
            vertexShader: SHADERS.beam.vertex,
            fragmentShader: SHADERS.beam.fragment,
            uniforms: { 
                uTime: { value: 0 }, 
                uIntensity: { value: 0.5 } 
            },
            transparent: true,
            blending: THREE.AdditiveBlending,
            side: THREE.DoubleSide,
            depthWrite: false
        });
        const beam = new THREE.Mesh(beamGeo, beamMat);
        beam.position.y = 0.5;
        scene.add(beam);

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // ESTRELAS
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        const starsGeo = new THREE.BufferGeometry();
        const starsCount = 5000;
        const posArray = new Float32Array(starsCount * 3);
        
        for (let i = 0; i < starsCount; i++) {
            const i3 = i * 3;
            posArray[i3] = (Math.random() - 0.5) * 150;
            posArray[i3 + 1] = (Math.random() - 0.5) * 150;
            posArray[i3 + 2] = (Math.random() - 0.5) * 150;
        }
        
        starsGeo.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        
        const starsMat = new THREE.PointsMaterial({
            color: 0xffffff,
            size: 0.08,
            transparent: true,
            opacity: 0.9,
            sizeAttenuation: true
        });
        const stars = new THREE.Points(starsGeo, starsMat);
        scene.add(stars);

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // FUNÃ‡ÃƒO DE CONVERSÃƒO LAT/LON PARA VECTOR3
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        function latLonToVector3(lat, lon, radius) {
            const phi = (90 - lat) * (Math.PI / 180);
            const theta = (lon + 180) * (Math.PI / 180);
            
            const x = -radius * Math.sin(phi) * Math.cos(theta);
            const y = radius * Math.cos(phi);
            const z = radius * Math.sin(phi) * Math.sin(theta);
            
            return new THREE.Vector3(x, y, z);
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // CRIAÃ‡ÃƒO DOS MARCADORES HTML
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        const markers = [];
        const markerContainer = document.getElementById('marker-container');

        MARKERS_DATA.forEach(data => {
            const el = document.createElement('div');
            el.className = 'marker';
            el.id = `marker-${data.id}`;
            el.innerHTML = `
                <div class="marker-wrapper">
                    <div class="marker-ring-outer"></div>
                    <div class="marker-ring-inner"></div>
                    <div class="marker-icon">${data.icon}</div>
                    <div class="marker-level">N${data.level}</div>
                    <div class="marker-label">${data.label} â€¢ NÃVEL ${data.level}</div>
                </div>
            `;
            el.addEventListener('click', (e) => startPortalTransition(data, e));
            markerContainer.appendChild(el);
            
            const localPos = latLonToVector3(data.lat, data.lon, CONFIG.earthRadius + CONFIG.markerOffset);
            
            markers.push({ 
                element: el, 
                localPos: localPos,
                data: data 
            });
        });

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // ATUALIZAÃ‡ÃƒO DE POSIÃ‡ÃƒO DOS MARCADORES
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        function updateMarkersPosition() {
            const tempV = new THREE.Vector3();
            
            markers.forEach(marker => {
                tempV.copy(marker.localPos);
                earthGroup.localToWorld(tempV);
                
                const screenPos = tempV.clone().project(camera);
                
                const isBehindCamera = screenPos.z > 1;
                
                const dirToMarker = tempV.clone().sub(camera.position).normalize();
                const raycaster = new THREE.Raycaster(camera.position, dirToMarker);
                const intersects = raycaster.intersectObject(earth);
                
                const distToMarker = camera.position.distanceTo(tempV);
                const isOccluded = intersects.length > 0 && intersects[0].distance < distToMarker - 0.5;
                
                if (!isBehindCamera && !isOccluded) {
                    const x = (screenPos.x * 0.5 + 0.5) * window.innerWidth;
                    const y = (-screenPos.y * 0.5 + 0.5) * window.innerHeight;
                    
                    const scale = Math.max(0.5, Math.min(1.0, 6 / distToMarker));
                    
                    marker.element.style.left = `${x}px`;
                    marker.element.style.top = `${y}px`;
                    marker.element.style.transform = `translate(-50%, -50%) scale(${scale})`;
                    marker.element.classList.add('visible');
                } else {
                    marker.element.classList.remove('visible');
                }
            });
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // TRANSIÃ‡ÃƒO DO PORTAL
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        let controls;
        let isInteractive = false;
        let isTransitioning = false;

        function startPortalTransition(data, event) {
            if (isTransitioning) return;
            isTransitioning = true;
            if (event) event.stopPropagation();
            
            // Close any open menu
            menuSystem.closeAll();
            
            if (controls) controls.enabled = false;
            document.body.style.cursor = 'wait';
            
            document.getElementById('transition-deity').textContent = data.name.toUpperCase();
            
            markers.forEach(m => {
                m.element.classList.remove('visible');
            });
            
            const targetRotationY = -(CONFIG.targetLocation.lon) * (Math.PI / 180) + Math.PI;
            
            const tl = gsap.timeline();
            
            tl.to('#transition-overlay', { opacity: 1, duration: 0.5 }, 0);
            
            tl.to('.portal-ring', {
                opacity: 0.8,
                scale: 1.5,
                duration: 1.2,
                stagger: 0.15,
                ease: "power2.out"
            }, 0.2);
            
            tl.to(earthGroup.rotation, {
                y: targetRotationY,
                duration: 2.5,
                ease: "power2.inOut"
            }, 0.3);
            
            tl.to(camera.position, {
                z: 6,
                y: earthGroup.position.y + 0.5,
                duration: 2,
                ease: "power2.inOut"
            }, 0.5);
            
            tl.to('#transition-text', {
                opacity: 1,
                duration: 0.8,
                ease: "power2.out"
            }, 1.8);
            
            tl.to(camera.position, {
                z: 3,
                duration: 1.5,
                ease: "power2.in"
            }, 2.5);
            
            tl.to('#white-flash', {
                opacity: 1,
                duration: 0.6,
                ease: "power2.in"
            }, 3.5);
            
            tl.call(() => {
                window.location.href = data.url;
            }, null, 4.2);
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // HABILITA INTERAÃ‡ÃƒO ORBITAL
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        function enableInteraction() {
            if (isInteractive) return;
            isInteractive = true;
            document.body.style.cursor = 'grab';
            
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.enableZoom = true;
            controls.minDistance = 5;
            controls.maxDistance = 15;
            controls.rotateSpeed = 0.4;
            controls.target.copy(earthGroup.position);
            controls.enablePan = false;
            
            gsap.to('#ui-empire', { 
                autoAlpha: 1, 
                duration: 1.5,
                ease: "power2.out"
            });
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // SCROLL ANIMATION
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        gsap.registerPlugin(ScrollTrigger);

        const scrollTL = gsap.timeline({
            scrollTrigger: {
                trigger: ".scroll-track",
                start: "top top",
                end: "bottom bottom",
                scrub: 1.5,
                onLeave: enableInteraction,
                onLeaveBack: () => {
                    if (isInteractive) {
                        isInteractive = false;
                        if (controls) controls.dispose();
                        gsap.to('#ui-empire', { autoAlpha: 0, duration: 0.5 });
                        gsap.to('#ui-origin', { opacity: 1, duration: 0.5 });
                        markers.forEach(m => m.element.classList.remove('visible'));
                    }
                }
            }
        });

        // FASE 1: AtivaÃ§Ã£o
        scrollTL.to(camera.position, { z: 10, duration: 1.5 }, 0);
        scrollTL.to(beamMat.uniforms.uIntensity, { value: 3.0, duration: 1.5 }, 0);
        scrollTL.to('#ui-origin', { opacity: 0, duration: 0.8 }, 0);

        // FASE 2: Barrel Roll
        scrollTL.to(camera.rotation, { z: Math.PI * 2, duration: 3, ease: "power2.inOut" }, 1.5);
        scrollTL.to(camera.position, { z: 3, y: 2, duration: 2.5, ease: "power1.in" }, 1.5);
        scrollTL.to(stars.scale, { z: 8, duration: 2 }, 2);
        scrollTL.to(beamMat.uniforms.uIntensity, { value: 0, duration: 0.8 }, 3);

        // FASE 3: Chegada
        scrollTL.to(stars.scale, { z: 1, x: 1, y: 1, duration: 1.5 }, 4);
        scrollTL.to(camera.position, { x: 0, y: earthGroup.position.y, z: 10, duration: 2 }, 4);
        scrollTL.to(camera.rotation, { x: 0, y: 0, z: 0, duration: 1.5 }, 5);

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // LOOP DE RENDERIZAÃ‡ÃƒO
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        const clock = new THREE.Clock();

        function animate() {
            const time = clock.getElapsedTime();
            
            pyrMat.uniforms.uTime.value = time;
            beamMat.uniforms.uTime.value = time;
            
            if (!isInteractive && !isTransitioning) {
                earthGroup.rotation.y = time * 0.03;
                pyramidGroup.rotation.y = -time * 0.08;
                stars.rotation.y = time * 0.005;
            } else if (controls && !isTransitioning) {
                controls.update();
            }

            if (isInteractive && !isTransitioning) {
                updateMarkersPosition();
            }

            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }

        animate();

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // RESPONSIVIDADE
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        document.body.addEventListener('touchmove', (e) => {
            if (e.target === document.body) e.preventDefault();
        }, { passive: false });

    </script>
</body>
</html>
